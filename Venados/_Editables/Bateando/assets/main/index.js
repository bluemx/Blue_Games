System.register("chunks:///_virtual/BallCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,o,a,r,s,l,c,d,h,C,m,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.Collider2D,c=e.Contact2DType,d=e.tween,h=e.Vec3,C=e.director,m=e.instantiate,u=e.Component}],execute:function(){var f,p,y,g,b;a._RF.push({},"f07d4Xt4fdB9YKwqtM50llZ","BallCtrl",void 0);var v=r.ccclass,B=r.property;e("BallController",(f=v("BallController"),p=B(s),f((b=i((g=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"miniLabelPrefab",b,o(i)),i.cameraOriginalPosition=null,i}t(i,e);var a=i.prototype;return a.start=function(){var e=this;this.initializeCameraPosition();var i=this.getComponent(l);i?i.on(c.BEGIN_CONTACT,this.onCollision,this):console.error("❌ No Collider2D component found on ball!"),setTimeout((function(){e.node&&e.node.destroy()}),5e3)},a.initializeCameraPosition=function(){var e=this.node.scene.getChildByName("Canvas");if(e){var i=e.getChildByName("Camera")||e.getChildByName("Main Camera");i?this.cameraOriginalPosition=i.position.clone():console.warn("⚠️ Camera not found for shake initialization")}},a.shakeCanvas=function(){if(this.cameraOriginalPosition){var e=this.node.scene.getChildByName("Canvas");if(e){var i=e.getChildByName("Camera")||e.getChildByName("Main Camera");if(i){var t=this.cameraOriginalPosition,n=15;d(i).to(.05,{position:new h(t.x+n,t.y,t.z)}).to(.05,{position:new h(t.x-n,t.y,t.z)}).to(.05,{position:new h(t.x,t.y+n,t.z)}).to(.05,{position:new h(t.x,t.y-n,t.z)}).to(.05,{position:new h(t.x+7.5,t.y,t.z)}).to(.05,{position:new h(t.x-7.5,t.y,t.z)}).to(.05,{position:new h(t.x,t.y+7.5,t.z)}).to(.05,{position:new h(t.x,t.y-7.5,t.z)}).to(.1,{position:t}).start()}else console.warn("⚠️ Camera not found inside Canvas")}}else console.warn("⚠️ Camera original position not initialized")},a.onCollision=function(e,i,t){if(i&&i.node&&t){var n="GoldenBall"===this.node.name;"Bottom-floor"==i.node.name?(this.shakeCanvas(),n?(C.emit("subtract-score",200),this.instantiateMiniLabel(t,"golden-floor")):(C.emit("subtract-score",50),this.instantiateMiniLabel(t,"-")),this.scheduleDestroy()):"Boundaries"==i.node.name&&(n?(C.emit("add-score",100),this.instantiateMiniLabel(t,"golden-homerun")):(C.emit("add-score",4),this.instantiateMiniLabel(t,"+")),this.scheduleDestroy())}},a.instantiateMiniLabel=function(e,i){if(this.miniLabelPrefab){var t=m(this.miniLabelPrefab),n=t.getComponent("MiniLabelCtrl");n&&("+"===i?(n.setText("+4"),n.setColor("green")):"-"===i?(n.setText("-50"),n.setColor("red")):"golden-homerun"===i?(n.setText("+100"),n.setColor("gold")):"golden-floor"===i&&(n.setText("-200"),n.setColor("darkred")));var o=this.node.scene.getChildByName("Canvas")||this.node.parent;o&&(o.addChild(t),t.setPosition(new h(0,120,0)))}else console.warn("⚠️ MiniLabel prefab not assigned to BallController")},a.scheduleDestroy=function(){var e=this;setTimeout((function(){e.node&&e.node.destroy()}),50)},a.onDestroy=function(){},i}(u)).prototype,"miniLabelPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/BallSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,a,t,i,r,o,l,p,s,c,u,w,d,h,m,f,b,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Prefab,p=e.Node,s=e.instantiate,c=e.UITransform,u=e.view,w=e.Sprite,d=e.Color,h=e.math,m=e.Vec3,f=e.RigidBody2D,b=e.Vec2,g=e.Component}],execute:function(){var v,y,S,I,B,z,D,C,T,F,M,P,R,x,H,_,V,j,L,N;r._RF.push({},"174b6dQOztBNqOnHIeujnDU","BallSpawner",void 0);var O=o.ccclass,U=o.property;e("BallSpawner",(v=O("BallSpawner"),y=U(l),S=U(p),I=U({tooltip:"Chance for golden ball (0.0 to 1.0)"}),B=U({tooltip:"Initial spawn interval in seconds"}),z=U({tooltip:"Minimum spawn interval (fastest speed)"}),D=U({tooltip:"How much to reduce interval every second"}),C=U({tooltip:"Minimum downward force to apply"}),T=U({tooltip:"Maximum downward force to apply"}),v((P=n((M=function(e){function n(){for(var n,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,t(n,"ballPrefab",P,i(n)),t(n,"canvas",R,i(n)),t(n,"goldenBallChance",x,i(n)),t(n,"initialSpawnInterval",H,i(n)),t(n,"minSpawnInterval",_,i(n)),t(n,"speedIncreaseRate",V,i(n)),t(n,"spawnHeight",j,i(n)),t(n,"minDownwardForce",L,i(n)),t(n,"maxDownwardForce",N,i(n)),n.spawnTimer=0,n.gameTime=0,n.currentSpawnInterval=2,n}a(n,e);var r=n.prototype;return r.start=function(){this.currentSpawnInterval=this.initialSpawnInterval},r.update=function(e){this.gameTime+=e,this.updateSpawnSpeed(),this.spawnTimer+=e,this.spawnTimer>=this.currentSpawnInterval&&(this.spawnBall(),this.spawnTimer=0)},r.updateSpawnSpeed=function(){var e=this.speedIncreaseRate*this.gameTime;this.currentSpawnInterval=Math.max(this.minSpawnInterval,this.initialSpawnInterval-e)},r.spawnBall=function(){if(this.ballPrefab){var e=s(this.ballPrefab),n=this.canvas.getComponent(c),a=(null==n?void 0:n.contentSize)||{width:800,height:600},t=u.getDesignResolutionSize().width||640,i=a.height;if(Math.random()<this.goldenBallChance){var r=e.getComponent(w);r&&(r.color=new d(255,215,0,255)),e.name="GoldenBall"}var o=h.lerp(-t/2+50,t/2-50,Math.random()),l=i/2+this.spawnHeight;e.setPosition(new m(o,l,0)),this.canvas.addChild(e);var p=e.getComponent(f);if(p){var g=h.lerp(this.minDownwardForce,this.maxDownwardForce,Math.random());p.linearVelocity=new b(0,-g)}else console.log("Ball spawned at: "+o+", "+l+" (within game area: "+t+"px) (no RigidBody2D found)")}else console.error("Ball prefab not assigned!")},n}(g)).prototype,"ballPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(M.prototype,"canvas",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(M.prototype,"goldenBallChance",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),H=n(M.prototype,"initialSpawnInterval",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),_=n(M.prototype,"minSpawnInterval",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),V=n(M.prototype,"speedIncreaseRate",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),j=n(M.prototype,"spawnHeight",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),L=n(M.prototype,"minDownwardForce",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=n(M.prototype,"maxDownwardForce",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),F=M))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/BateosCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneRouter.ts"],(function(t){var e,r,o,n,s,a,c,i,u,l,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,i=t._decorator,u=t.Label,l=t.director,h=t.Component},function(t){d=t.SceneRouter}],execute:function(){var p,f,b,S,g,y,B;c._RF.push({},"75749kZuKZPmr8T9AAesQU4","BateosCtrl",void 0);var v=i.ccclass,m=i.property;t("BateosCtrl",(p=v("BateosCtrl"),f=m(u),b=m(d),p((y=e((g=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"bateosLabel",y,n(e)),o(e,"sceneRouter",B,n(e)),e.currentBateos=100,e.currentScore=0,e}r(e,t);var c=e.prototype;return c.start=function(){this.updateBateosDisplay(),l.on("add-bateo",this.onAddScore,this),l.on("subtract-bateo",this.onSubtractScore,this),l.on("add-score",this.onScoreAdd,this),l.on("subtract-score",this.onScoreSubtract,this)},c.onDestroy=function(){l.off("add-bateo",this.onAddScore,this),l.off("subtract-bateo",this.onSubtractScore,this),l.off("add-score",this.onScoreAdd,this),l.off("subtract-score",this.onScoreSubtract,this)},c.onAddScore=function(t){this.currentBateos+=t,this.updateBateosDisplay()},c.onSubtractScore=function(t){this.currentBateos-=t,this.currentBateos<=0?(this.currentBateos=0,this.updateBateosDisplay(),this.triggerGameOver()):this.updateBateosDisplay()},c.onScoreAdd=function(t){this.currentScore+=t},c.onScoreSubtract=function(t){this.currentScore-=t,this.currentScore<0&&(this.currentScore=0),console.log("📉 Score decreased by "+t+". Current score: "+this.currentScore)},c.updateBateosDisplay=function(){this.bateosLabel&&(this.bateosLabel.string=this.currentBateos.toString())},c.triggerGameOver=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(globalThis.finalScore=this.currentScore,l.emit("set-final-score",this.currentScore),!this.sceneRouter){t.next=7;break}return t.next=5,this.sceneRouter.go("30-gameover");case 5:t.next=9;break;case 7:console.warn("⚠️ SceneRouter not assigned! Cannot navigate to game over scene."),l.loadScene("30-gameover");case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.update=function(t){},e}(h)).prototype,"bateosLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(g.prototype,"sceneRouter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=g))||S));c._RF.pop()}}}));

System.register("chunks:///_virtual/BatterAi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BallCtrl.ts"],(function(t){var i,e,n,r,o,a,s,l,u,g,c,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.math,u=t.UITransform,g=t.Vec3,c=t.Component},function(t){h=t.BallController}],execute:function(){var w,p,m,b,f,d,S,v,I,y,T,x,A;o._RF.push({},"727b7ZfSQ1GSpovbZig1FS+","BatterAi",void 0);var R=a.ccclass,Z=a.property;t("BatterAI",(w=R("BatterAI"),p=Z(s),m=Z(h),b=Z(s),f=Z({tooltip:"cada cuántos seg. intenta swing (rango min-max)"}),d=Z({tooltip:"duración visible del swing en seg."}),w((I=i((v=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"batSwing",I,r(i)),n(i,"ball",y,r(i)),n(i,"strikeZone",T,r(i)),n(i,"swingIntervalRange",x,r(i)),n(i,"swingDuration",A,r(i)),i.timer=0,i.nextSwingAt=.5,i.swingTimeoutId=null,i}e(i,t);var o=i.prototype;return o.start=function(){var t=this;setTimeout((function(){return t.planNext()}),100),this.batSwing&&(this.batSwing.active=!1)},o.update=function(t){this.ball&&!this.ball.isIdle()&&(this.timer+=t,this.timer>=this.nextSwingAt&&(this.doSwingOnce(),this.planNext()))},o.planNext=function(){this.timer=0;var t=this.swingIntervalRange;this.nextSwingAt=l.randomRange(t.x,t.y)},o.doSwingOnce=function(){var t=this;if(this.strikeZone&&this.batSwing){var i=this.strikeZone.getComponent(u);if(i){var e=.4*i.width,n=.4*i.height,r=l.randomRange(-e/2,e/2),o=l.randomRange(-n/2,n/2);this.batSwing.setPosition(new g(r,o,0)),this.batSwing.active=!0,this.swingTimeoutId&&clearTimeout(this.swingTimeoutId),this.swingTimeoutId=setTimeout((function(){return t.hideSwing()}),1e3*this.swingDuration)}else console.error("UITransform component not found on strikeZone")}else console.error("Missing required components: strikeZone or batSwing")},o.hideSwing=function(){this.batSwing&&(this.batSwing.active=!1),this.swingTimeoutId=null},o.onDestroy=function(){this.swingTimeoutId&&(clearTimeout(this.swingTimeoutId),this.swingTimeoutId=null)},i}(c)).prototype,"batSwing",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(v.prototype,"ball",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(v.prototype,"strikeZone",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(v.prototype,"swingIntervalRange",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l.Vec2(.45,.9)}}),A=i(v.prototype,"swingDuration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.12}}),S=v))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/FinalScoreCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneRouter.ts"],(function(e){var n,t,o,r,i,s,a,l,c,u,p,d,g,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,c=e.Label,u=e.Node,p=e.director,d=e.Input,g=e.Component},function(e){w=e.SceneRouter}],execute:function(){var b,f,S,h,v,y,F,C,R,T,m;a._RF.push({},"1d49dG7El9HepJnLQ+SEmmF","FinalScoreCtrl",void 0);var k=l.ccclass,L=l.property;e("FinalScoreCtrl",(b=k("FinalScoreCtrl"),f=L(c),S=L(u),h=L(u),v=L(w),b((C=n((F=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,o(n,"scoreLabel",C,r(n)),o(n,"btnVolver",R,r(n)),o(n,"btnSalir",T,r(n)),o(n,"sceneRouter",m,r(n)),n}t(n,e);var a=n.prototype;return a.start=function(){p.on("set-final-score",this.onSetFinalScore,this);var e=globalThis.finalScore;if(void 0!==e){if(console.log("🔄 Found stored final score: "+e),this.displayScore(e),window.parent&&window.parent!==window){var n={score:e};window.parent.postMessage(n,"*"),console.log("📨 PostMessage sent to parent (stored score):",n)}delete globalThis.finalScore}else this.scoreLabel&&(this.scoreLabel.string="0");this.setupButtons()},a.onDestroy=function(){p.off("set-final-score",this.onSetFinalScore,this)},a.onSetFinalScore=function(e){if(console.log("🏆 Final Score received via event: "+e),this.displayScore(e),window.parent&&window.parent!==window){var n={score:e};window.parent.postMessage(n,"*"),console.log("📨 PostMessage sent to parent:",n)}else console.warn("⚠️ No parent window found - running standalone")},a.displayScore=function(e){this.scoreLabel?this.scoreLabel.string=e.toString():console.warn("⚠️ Score label not assigned to FinalScoreCtrl!")},a.setupButtons=function(){this.btnVolver?this.btnVolver.on(d.EventType.TOUCH_START,this.onVolverClick,this):console.warn("⚠️ btnVolver not assigned to FinalScoreCtrl!"),this.btnSalir?this.btnSalir.on(d.EventType.TOUCH_START,this.onSalirClick,this):console.warn("⚠️ btnSalir not assigned to FinalScoreCtrl!")},a.onVolverClick=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("🔄 Volver button clicked - returning to splash screen"),window.parent&&window.parent.postMessage({status:"reset"},"*"),!this.sceneRouter){e.next=7;break}return e.next=5,this.sceneRouter.go("0-splash");case 5:e.next=9;break;case 7:console.warn("⚠️ SceneRouter not assigned! Using direct scene load."),p.loadScene("0-splash");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onSalirClick=function(){console.log("🚪 Salir button clicked - exiting game"),window.parent&&(window.parent.postMessage({state:"exit"},"*"),console.log('📨 PostMessage sent to parent: {state:"exit"}'))},a.update=function(e){},n}(g)).prototype,"scoreLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(F.prototype,"btnVolver",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(F.prototype,"btnSalir",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(F.prototype,"sceneRouter",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=F))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BallCtrl.ts"],(function(e){var t,r,i,n,o,a,s,l,c,u,h,b,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,l=e.Label,c=e.Collider2D,u=e.Contact2DType,h=e.sys,b=e.director,g=e.Component},function(e){f=e.BallController}],execute:function(){var p,d,m,B,C,H,S,L,v,y,w,A,G,D,T;o._RF.push({},"ebeeeZtNrpCDqwb9o9/6XsD","GameManager",void 0);var M=a.ccclass,I=a.property,N=function(e){return e[e.BALL=1]="BALL",e[e.CATCHER=2]="CATCHER",e[e.BAT=3]="BAT",e[e.BOUNDS=4]="BOUNDS",e}(N||{});e("GameManager",(p=M("GameManager"),d=I(f),m=I(s),B=I(s),C=I([s]),H=I(l),S=I(l),p((y=t((v=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"ball",y,n(t)),i(t,"catcherZone",w,n(t)),i(t,"batSwing",A,n(t)),i(t,"boundsSensors",G,n(t)),i(t,"scoreLabel",D,n(t)),i(t,"hitsLabel",T,n(t)),t.score=0,t.batterHits=0,t.maxHits=3,t}r(t,e);var o=t.prototype;return o.start=function(){var e=this;this.ball?this.catcherZone?this.batSwing?([this.catcherZone,this.batSwing].concat(this.boundsSensors).forEach((function(t,r){if(t){var i=t.getComponent(c);i?i.on(u.BEGIN_CONTACT,e.onBegin,e):console.warn("Collider2D component not found on node: "+t.name)}else console.error("Node at index "+r+" is null in GameManager")})),this.updateUI()):console.error("BatSwing not assigned to GameManager"):console.error("CatcherZone not assigned to GameManager"):console.error("BallController not assigned to GameManager")},o.updateUI=function(){this.scoreLabel&&(this.scoreLabel.string="Score: "+this.score),this.hitsLabel&&(this.hitsLabel.string="Hits: "+this.batterHits+"/"+this.maxHits)},o.onBegin=function(e,t,r){if(e&&t&&this.ball){var i=e.tag,n=t.tag,o=function(e){return i===N.BALL&&n===e||n===N.BALL&&i===e};if(o(N.CATCHER))return this.score+=1,console.log("Score increased: "+this.score),this.updateUI(),void this.ball.resetBall();if(!o(N.BAT))return o(N.BOUNDS)?(console.log("Ball hit bounds, resetting..."),void this.ball.resetBall()):void 0;if(this.batterHits+=1,console.log("Batter hits: "+this.batterHits),this.updateUI(),this.ball.resetBall(),this.batterHits>=this.maxHits)try{h.localStorage.setItem("lastScore",String(this.score)),b.loadScene("GameOver")}catch(e){console.error("Error loading GameOver scene:",e)}}else console.error("Invalid colliders or missing ball reference")},o.onDestroy=function(){var e=this;[this.catcherZone,this.batSwing].concat(this.boundsSensors).forEach((function(t){if(t){var r=t.getComponent(c);r&&r.off(u.BEGIN_CONTACT,e.onBegin,e)}}))},o.getScore=function(){return this.score},o.getHits=function(){return this.batterHits},o.getMaxHits=function(){return this.maxHits},o.getRemainingHits=function(){return Math.max(0,this.maxHits-this.batterHits)},o.resetGame=function(){this.score=0,this.batterHits=0,this.updateUI(),this.ball&&this.ball.resetBall()},t}(g)).prototype,"ball",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"catcherZone",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(v.prototype,"batSwing",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(v.prototype,"boundsSensors",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(v.prototype,"scoreLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(v.prototype,"hitsLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=v))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/InstructionsCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneRouter.ts"],(function(t){var e,n,i,r,a,s,o,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,o=t.Node,l=t.PageView,u=t.Component},function(t){p=t.SceneRouter}],execute:function(){var c,h,g,b,f,y,T,P,v,R,C,d,w;a._RF.push({},"2dbf3thpANK8apicETFHAHK","InstructionsCtrl",void 0);var _=s.ccclass,A=s.property;t("InstructionsCtrl",(c=_("InstructionsCtrl"),h=A(o),g=A(o),b=A(o),f=A(p),y=A(l),c((v=e((P=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"btnLeft",v,r(e)),i(e,"btnRight",R,r(e)),i(e,"btnPlay",C,r(e)),i(e,"router",d,r(e)),i(e,"pageView",w,r(e)),e.currentPage=0,e.pages=[],e}n(e,t);var a=e.prototype;return a.onEnable=function(){this.pages=this.pageView.getPages(),this.btnLeft.on(o.EventType.TOUCH_START,this.prev,this),this.btnRight.on(o.EventType.TOUCH_START,this.next,this),this.btnPlay.on(o.EventType.TOUCH_START,this.play,this),this.updatePages()},a.onDisable=function(){this.btnLeft.off(o.EventType.TOUCH_START,this.prev,this),this.btnRight.off(o.EventType.TOUCH_START,this.next,this),this.btnPlay.off(o.EventType.TOUCH_START,this.play,this)},a.updatePages=function(){console.log("Current Page: ",this.currentPage),this.pageView.setCurrentPageIndex(this.currentPage)},a.prev=function(){this.currentPage=(this.currentPage-1+this.pages.length)%this.pages.length,this.updatePages()},a.next=function(){this.currentPage=(this.currentPage+1)%this.pages.length,this.updatePages()},a.play=function(){this.router.go("20-game")},e}(u)).prototype,"btnLeft",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(P.prototype,"btnRight",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(P.prototype,"btnPlay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(P.prototype,"router",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(P.prototype,"pageView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=P))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BallCtrl.ts","./BallSpawner.ts","./BateosCtrl.ts","./BatterAi.ts","./FinalScoreCtrl.ts","./GameManager.ts","./InstructionsCtrl.ts","./MiniLabelCtrl.ts","./PlayerAnimationCtrl.ts","./SceneRouter.ts","./ScoreCtrl.ts","./SplashCtrl.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MiniLabelCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,a,l,c,s,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Vec3,c=t.Label,s=t.Color,u=t.tween,p=t.Component}],execute:function(){var f,h,d,g,m,y,b;r._RF.push({},"78d31q5ptlAmIT70YkgRTYS","MiniLabelCtrl",void 0);var v=a.ccclass,w=a.property;t("MiniLabelCtrl",(f=v("MiniLabelCtrl"),h=w({tooltip:"Animation duration in seconds"}),d=w({tooltip:"Target scale for the animation"}),f((y=e((m=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"animationDuration",y,o(e)),i(e,"targetScale",b,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.playAnimation();var t=100*(Math.random()-.5);this.node.eulerAngles=new l(0,0,t)},r.setText=function(t){var e=this.getComponent(c);e&&(e.string=t)},r.setColor=function(t){var e=this.getComponent(c);e&&("green"===t?e.color=new s(0,255,0,255):"red"===t?e.color=new s(255,0,0,255):"gold"===t?e.color=new s(255,215,0,255):"darkred"===t&&(e.color=new s(139,0,0,255)))},r.playAnimation=function(){var t=this;u(this.node).to(.3*this.animationDuration,{scale:new l(this.targetScale,this.targetScale,1)}).to(.3*this.animationDuration,{scale:new l(0,0,1)}).call((function(){t.node.destroy()})).start()},r.update=function(t){},e}(p)).prototype,"animationDuration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=e(m.prototype,"targetScale",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerAnimationCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,o,a,e,r,s;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,o=n._decorator,a=n.Animation,e=n.Input,r=n.director,s=n.Component}],execute:function(){var c;i._RF.push({},"8b276T815dLkYNnOuviyn7p","PlayerAnimationCtrl",void 0);var h=o.ccclass;o.property,n("PlayerAnimationCtrl",h("PlayerAnimationCtrl")(c=function(n){function i(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))||this).animation=null,t.canTouch=!0,t}t(i,n);var o=i.prototype;return o.onLoad=function(){this.animation=this.getComponent(a)},o.onEnable=function(){this.node.on(e.EventType.TOUCH_START,this.onTouchStart,this),this.animation.on(a.EventType.FINISHED,this.onAnimationFinished,this)},o.onDisable=function(){this.node.off(e.EventType.TOUCH_START,this.onTouchStart,this),this.animation.off(a.EventType.FINISHED,this.onAnimationFinished,this)},o.onTouchStart=function(n){this.canTouch&&(this.animation.play(),r.emit("subtract-bateo",1))},o.onAnimationFinished=function(){var n=this.animation.clips;if(n&&n.length>0){var t=n[0].name,i=this.animation.getState(t);i&&(i.time=0,i.sample())}},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/SceneRouter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,c,a,u,s,p,l,f,y;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,s=e.Node,p=e.Component,l=e.director,f=e.UIOpacity,y=e.tween}],execute:function(){var d,h,v,g,R;a._RF.push({},"cce314MRhBCTJ4fD6Ei8Pv1","SceneRouter",void 0);var m=u.ccclass,b=u.property;e("SceneRouter",(d=m("SceneRouter"),h=b(s),d((R=r((g=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,n(r,"fader",R,o(r)),r}return t(r,e),r.prototype.go=function(){var e=i(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.fader){e.next=6;break}if(!(t=this.fader.getComponent(f))){e.next=6;break}return t.opacity=0,e.next=6,new Promise((function(e){return y(t).to(.15,{opacity:255}).call((function(){return e()})).start()}));case 6:return e.next=8,l.loadScene(r);case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),r}(p)).prototype,"fader",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,o,n,c,a,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,a=t.Label,s=t.director,l=t.Component}],execute:function(){var S,h,u,p,d,m,f,y,b;n._RF.push({},"62cc94fDKtAIZVm9j4WTPjA","ScoreCtrl",void 0);var g=c.ccclass,A=c.property;t("ScoreCtrl",(S=g("ScoreCtrl"),h=A(a),u=A({tooltip:"Animation speed - points added per step"}),p=A({tooltip:"Time between animation steps in milliseconds"}),S((f=e((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,r(e,"scoreLabel",f,o(e)),r(e,"animationStep",y,o(e)),r(e,"animationDelay",b,o(e)),e.currentScore=0,e.displayedScore=0,e.targetScore=0,e.animationTimer=null,e}i(e,t);var n=e.prototype;return n.start=function(){s.on("add-score",this.onAddScore,this),s.on("subtract-score",this.onSubtractScore,this),this.updateScoreDisplay(),console.log("🎯 ScoreCtrl started - listening for add-score and subtract-score events")},n.onDestroy=function(){s.off("add-score",this.onAddScore,this),s.off("subtract-score",this.onSubtractScore,this),this.stopScoreAnimation()},n.onAddScore=function(t){this.currentScore+=t,this.targetScore=this.currentScore,this.startScoreAnimation()},n.onSubtractScore=function(t){this.currentScore=Math.max(0,this.currentScore-t),this.targetScore=this.currentScore,this.startScoreAnimation()},n.startScoreAnimation=function(){this.stopScoreAnimation(),this.animateScoreStep()},n.animateScoreStep=function(){var t=this;this.displayedScore!==this.targetScore&&(this.displayedScore<this.targetScore?this.displayedScore=Math.min(this.displayedScore+this.animationStep,this.targetScore):this.displayedScore=Math.max(this.displayedScore-this.animationStep,this.targetScore),this.updateScoreDisplay(),this.displayedScore!==this.targetScore?this.animationTimer=setTimeout((function(){t.animateScoreStep()}),this.animationDelay):console.log("✨ Score animation completed! Final score: "+this.displayedScore))},n.stopScoreAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},n.updateScoreDisplay=function(){this.scoreLabel&&(this.scoreLabel.string=""+this.displayedScore)},n.getScore=function(){return this.currentScore},n.resetScore=function(){this.stopScoreAnimation(),this.currentScore=0,this.displayedScore=0,this.targetScore=0,this.updateScoreDisplay(),console.log("🔄 Score reset to 0")},n.addScore=function(t){this.onAddScore(t)},n.subtractScore=function(t){this.onSubtractScore(t)},e}(l)).prototype,"scoreLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(m.prototype,"animationStep",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),b=e(m.prototype,"animationDelay",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),d=m))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/SplashCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneRouter.ts"],(function(t){var e,n,i,r,o,l,a,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Node,s=t.Input,c=t.Component},function(t){u=t.SceneRouter}],execute:function(){var p,b,f,h,S,g,y,d,v;o._RF.push({},"4f3f8ikGYhFvLukkdXyt5Xz","SplashCtrl",void 0);var C=l.ccclass,T=l.property;t("SplashCtrl",(p=C("SplashCtrl"),b=T(u),f=T(a),h=T(a),p((y=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"router",y,r(e)),i(e,"btnInicio",d,r(e)),i(e,"btnSalir",v,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.btnInicio.on(s.EventType.TOUCH_START,this.next,this),this.btnSalir.on(s.EventType.TOUCH_START,this.onSalirClick,this)},o.onEnable=function(){},o.onDisable=function(){},o.next=function(){this.router.go("10-instructions")},o.onSalirClick=function(){console.log("🚪 Salir button clicked - exiting game"),window.parent&&(window.parent.postMessage({state:"exit"},"*"),console.log('📨 PostMessage sent to parent: {state:"exit"}'))},e}(c)).prototype,"router",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(g.prototype,"btnInicio",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(g.prototype,"btnSalir",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=g))||S));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});