{"version":3,"sources":["file:///Users/fldsmdfr/Documents/GitHub/Blue_Games/Venados/_Editables/Bateando-cocos-editable/assets/scripts/InstructionsCtrl.ts"],"names":["_decorator","Component","Node","PageView","SceneRouter","ccclass","property","InstructionsCtrl","currentPage","pages","onEnable","pageView","getPages","btnLeft","on","EventType","TOUCH_START","prev","btnRight","next","btnPlay","play","updatePages","onDisable","off","console","log","setCurrentPageIndex","length","router","go"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAA4CC,MAAAA,Q,OAAAA,Q;;AACnEC,MAAAA,W,iBAAAA,W;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;kCAGjBO,gB,WADZF,OAAO,CAAC,kBAAD,C,UAGLC,QAAQ,CAACJ,IAAD,C,UACRI,QAAQ,CAACJ,IAAD,C,UACRI,QAAQ,CAACJ,IAAD,C,UACRI,QAAQ;AAAA;AAAA,qC,UACRA,QAAQ,CAACH,QAAD,C,2BAPX,MACaI,gBADb,SACsCN,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAQtCO,WARsC,GAQxB,CARwB;AAAA,eAStCC,KATsC,GAS9B,EAT8B;AAAA;;AAY9CC,QAAAA,QAAQ,GAAG;AAET,eAAKD,KAAL,GAAa,KAAKE,QAAL,CAAcC,QAAd,EAAb;AAEA,eAAKC,OAAL,CAAaC,EAAb,CAAgBZ,IAAI,CAACa,SAAL,CAAeC,WAA/B,EAA4C,KAAKC,IAAjD,EAAuD,IAAvD;AACA,eAAKC,QAAL,CAAcJ,EAAd,CAAiBZ,IAAI,CAACa,SAAL,CAAeC,WAAhC,EAA6C,KAAKG,IAAlD,EAAwD,IAAxD;AACA,eAAKC,OAAL,CAAaN,EAAb,CAAgBZ,IAAI,CAACa,SAAL,CAAeC,WAA/B,EAA4C,KAAKK,IAAjD,EAAuD,IAAvD;AACA,eAAKC,WAAL;AACD;;AAEDC,QAAAA,SAAS,GAAG;AACV,eAAKV,OAAL,CAAaW,GAAb,CAAiBtB,IAAI,CAACa,SAAL,CAAeC,WAAhC,EAA6C,KAAKC,IAAlD,EAAwD,IAAxD;AACA,eAAKC,QAAL,CAAcM,GAAd,CAAkBtB,IAAI,CAACa,SAAL,CAAeC,WAAjC,EAA8C,KAAKG,IAAnD,EAAyD,IAAzD;AACA,eAAKC,OAAL,CAAaI,GAAb,CAAiBtB,IAAI,CAACa,SAAL,CAAeC,WAAhC,EAA6C,KAAKK,IAAlD,EAAwD,IAAxD;AACD;;AAGOC,QAAAA,WAAW,GAAG;AACpBG,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B,KAAKlB,WAAnC;AACA,eAAKG,QAAL,CAAcgB,mBAAd,CAAkC,KAAKnB,WAAvC;AAED;;AAEOS,QAAAA,IAAI,GAAG;AACb,eAAKT,WAAL,GAAmB,CAAC,KAAKA,WAAL,GAAmB,CAAnB,GAAuB,KAAKC,KAAL,CAAWmB,MAAnC,IAA6C,KAAKnB,KAAL,CAAWmB,MAA3E;AACA,eAAKN,WAAL;AACD;;AAEOH,QAAAA,IAAI,GAAG;AACb,eAAKX,WAAL,GAAmB,CAAC,KAAKA,WAAL,GAAmB,CAApB,IAAyB,KAAKC,KAAL,CAAWmB,MAAvD;AACA,eAAKN,WAAL;AACD;;AACOD,QAAAA,IAAI,GAAG;AAAE,eAAKQ,MAAL,CAAYC,EAAZ,CAAe,SAAf;AAA4B;;AA5CC,O","sourcesContent":["import { _decorator, Component, Node, input, Input, EventTouch, EventMouse, PageView } from 'cc';\nimport { SceneRouter } from './SceneRouter';\nconst { ccclass, property } = _decorator;\n\n@ccclass('InstructionsCtrl')\nexport class InstructionsCtrl extends Component {\n\n  @property(Node) btnLeft!: Node;\n  @property(Node) btnRight!: Node;\n  @property(Node) btnPlay!: Node;\n  @property(SceneRouter) router!: SceneRouter;\n  @property(PageView) pageView!: PageView;\n\n  private currentPage = 0;\n  private pages = [];\n\n\n  onEnable() {\n\n    this.pages = this.pageView.getPages();\n\n    this.btnLeft.on(Node.EventType.TOUCH_START, this.prev, this);\n    this.btnRight.on(Node.EventType.TOUCH_START, this.next, this);\n    this.btnPlay.on(Node.EventType.TOUCH_START, this.play, this);\n    this.updatePages();\n  }\n  \n  onDisable() {\n    this.btnLeft.off(Node.EventType.TOUCH_START, this.prev, this);\n    this.btnRight.off(Node.EventType.TOUCH_START, this.next, this);\n    this.btnPlay.off(Node.EventType.TOUCH_START, this.play, this);\n  }\n\n\n  private updatePages() {\n    console.log(\"Current Page: \", this.currentPage);\n    this.pageView.setCurrentPageIndex(this.currentPage)\n    \n  }\n\n  private prev() { \n    this.currentPage = (this.currentPage - 1 + this.pages.length) % this.pages.length; \n    this.updatePages(); \n  }\n\n  private next() { \n    this.currentPage = (this.currentPage + 1) % this.pages.length; \n    this.updatePages(); \n  }\n  private play() { this.router.go('20-game'); }\n}"]}