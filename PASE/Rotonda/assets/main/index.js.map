{"version":3,"sources":["../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/ButtonMessage.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/CambioEscena.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/NEW/file:/E:/Prueba/Rotondas-Completo/assets/Script/NEW/Cantidad.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/CarruselItems.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/CompraColor.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/CompraObjetos.ts","../file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Detecta.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Follow.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/NEW/file:/E:/Prueba/Rotondas-Completo/assets/Script/NEW/FollowP.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/FollowPlayer.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/GeneracionMapa.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/GiroOrbita.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Lanzame.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Manager.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/ManagerGeneral.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Marco.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Monedas.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Mute.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Objetos.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/NEW/file:/E:/Prueba/Rotondas-Completo/assets/Script/NEW/PlayerController.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/SeleccionColor.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/NEW/file:/E:/Prueba/Rotondas-Completo/assets/Script/NEW/SpawnMapa.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Tarjetas.ts","../file:/E:/Prueba/Rotondas-Completo/assets/Script/file:/E:/Prueba/Rotondas-Completo/assets/Script/Touch.ts"],"names":["ccclass","_decorator","property","_dec","_dec2","Manager","_descriptor","_applyDecoratedDescriptor","_class2","_Component","ButtonMessage","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_assertThisInitialized","_inheritsLoose","_proto","prototype","sendMessageToParent","_window$parent","window","parent","postMessage","score","this","manScore","sendMessageToExit","_window$parent2","state","sendMessageToRestart","_window$parent3","sendMessageToStart","_window$parent4","Component","configurable","enumerable","writable","initializer","_class","_RF","pop","CCString","CambioEscena","onLoad","cambio","director","preloadScene","name2","toString","completedCount","totalCount","item","error","asset","Carga","loadScene","Node","Cantidad","Texto","manager","find","start","getComponent","Label","string","ManagerGeneral","contadorTarjetas","update","deltaTime","_dec3","CarruselItems","_descriptor2","index","i","items","active","botones","next","console","log","back","_dec4","_dec5","CCInteger","_dec6","SpriteFrame","_dec7","_dec8","_dec9","CCFloat","_dec10","_dec11","Button","_dec12","_dec13","_dec14","_dec15","Color","_dec16","_dec17","_dec18","_dec19","_dec20","CCBoolean","CompraColor","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","_descriptor11","managerG","ma","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","subMenu","desbloqueado","CargaCocheDesbloqueado","nombre","botonCompra","node","on","EventType","CLICK","Compra","cerrar","Cerrar","Sprite","spriteFrame","normalFrame","normalSprite","colorFinal","colorID","miColorID","modeloID","miModeloID","SaveCoche","LoadData","hoverSprite","costoString","color","colorTexto","colorTextoNormal","Seleccion","name","costo","subSprite","colorModelo","MeAlcanza","coche","pressedSprite","SeleccionColor","Colores","colors","tarjeta","interactable","onDisable","contadorMonedas","ActualizaCompras","Save","Comprado","CocheDesbloqueado","CompraObjetos","desMOD","miCosto","moneda","children","modelo","colores","amarillo","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","WHITE","BLACK","RED","GREEN","BLUE","Canvas","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","x","y","miscNode","getChildByName","buttonNode","instantiate","titleNode","newLabel","EnableAllCompositeModeButton","setPosition","setScale","labelComponent","overflow","currentRow","newNode","singleModeToggle","textComponent","getComponentInChildren","RichText","Toggle","TOGGLE","toggleSingleMode","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","toggleComponent","activeValue","Detecta","sys","isMobile","mobile","PC","listaFinal","lista","botonnext","Follow","setWorldPosition","player","getWorldPosition","FollowP","mueveCamara","target","currentPosition","Vec2","position","lerp","derecha","targetD","targetI","FollowPlayer","enPosicion","inicio","temp","tiempoRestante","reset","dt","newPosition","Lanzame","enCamino","actualizarContador","GameOver","unschedule","GeneracionMapa","caminoA","caminoB","posA","posB","posCaminoA","posCaminoB","rotondaA","rotondaB","listo","Inst","randomRangeInt","miPos","Vec3","z","road","rota","angle","Tarjetas","Donde","ya","GiroOrbita","instanciar","cambia","eliminar","limpiarNodo","nodo","destroy","rotacion","rotacion2","collider","Collider2D","Contact2DType","BEGIN_CONTACT","onBeginContact","END_CONTACT","onEndContact","rotationSpeed","RotaHijo","hijo","rotationGiratorio","math","toRadian","rotationQuat","Quat","fromEuler","toDegree","finalRotation","multiply","rotation","setRotation","EstoySolo","selfCollider","otherCollider","group","scheduleOnce","padre","nodeNull","rotationTween","Input","TOUCH_END","Lanza","input","MOUSE_UP","LanzaMouse","mangerG","iman","control","indicador","meLanzaron","Mover","ControlPowerUp","gira","startRotation","_this2","tween","to","stopRotation","stop","displacement","up","multiplyScalar","speed","add","event","getButton","primeraVez","gameOver","a","CargaCoche","modeloCoche","miColor","MiCoche","coloresCoche01","coloresCoche02","coloresCoche03","ActualizaScore","valor","scoreText","post","final_scoreText","localStorage","setItem","monedasString","getItem","tarjetaString","imanP","controlP","parseInt","colorIDString","modeloIDString","comprado","compra","meCompraron","Marco","camara","setWorldRotation","getWorldRotation","Monedas","NumeroMonedas","MonedasJuego","posiciones","moneda2","moneda3","moneda4","PosMonedas","AudioSource","Mute","toggleMute","audioSource","volume","cambiaSprite","muteButton","sprites","Objetos","destruye","enabled","Iman","PlayerController","targetRotation","angleSpeed","radius","exitDirection","exitRotationOffset","Inicio","SpawnMapa","collision","onEndCollision","isTurning","rotateAroundRoundabout","Listo","roundabout","RotondaOrigen","center","carPosition","distance","direction","subtract","Math","atan2","startTurning","PI","cos","sin","newAngle","modelos","azul","verde","rojo","naranja","Prefab","camino","instanciaCaminos","ListaPrefab","node1","Intsnacia","Mostrar","Touch","Player","TOUCH_START","onTouchStart","TOUCH_CANCEL","onTouchCancel"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, Component, Button } from 'cc';\r\nimport { Manager } from './Manager';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ButtonMessage')\r\nexport class ButtonMessage extends Component {\r\n    @property(Manager)\r\n    public manScore : Manager = null;\r\n\r\n\r\n    sendMessageToParent() {\r\n        window.parent?.postMessage({\r\n            score: this.manScore.score\r\n        }, '*');\r\n    }\r\n    sendMessageToExit() {\r\n        window.parent?.postMessage({\r\n            state: 'exit'\r\n        }, '*');\r\n    }\r\n    sendMessageToRestart() {\r\n        window.parent?.postMessage({\r\n            state: 'reset'\r\n        }, '*');\r\n    }\r\n    sendMessageToStart() {\r\n        window.parent?.postMessage({\r\n            state: 'start'\r\n        }, '*');\r\n    }\r\n}","import { _decorator, CCString, Component, director, SceneAsset } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CambioEscena')\r\nexport class CambioEscena extends Component {\r\n  @property(CCString)\r\n  public name2 : String = \"\";\r\n  onLoad() {\r\n      // Agrega un evento de clic al botn\r\n     \r\n     this.cambio();\r\n  }\r\n\r\n  \r\n  cambio() \r\n  {\r\n    var progress = 0;\r\n    director.preloadScene(this.name2.toString(), (completedCount: number, totalCount: number, item: any) => {\r\n        progress = completedCount / totalCount;\r\n    }, (error: Error, asset: SceneAsset) => {\r\n      //do something after preloaded scene\r\n      \r\n    });\r\n     \r\n  }\r\n  Carga(){\r\n    director.loadScene(this.name2.toString());\r\n  }\r\n}","import { _decorator, Component, Node, find, Label } from 'cc';\r\nimport { ManagerGeneral } from '../ManagerGeneral';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Cantidad')\r\nexport class Cantidad extends Component {\r\n    @property(Node)\r\n    public manager : Node;\r\n    private Texto : Node;\r\n\r\n    protected onLoad(): void {\r\n        this.manager= find(\"Canvas/ManagerGeneral\")\r\n        this.Texto= find(\"Canvas/cantidad\")\r\n    }\r\n    start() {\r\n        this.Texto.getComponent(Label).string = this.manager.getComponent(ManagerGeneral).contadorTarjetas.toString();\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CarruselItems')\r\nexport class CarruselItems extends Component \r\n{\r\n    @property(Node) public botones: Node[]=[];\r\n    @property(Node) public items: Node[]=[];\r\n    index:number=0;\r\n\r\n    onLoad()\r\n    {\r\n        for(let i=1;i<this.items.length;i++)\r\n            {\r\n                this.items[i].active=false;\r\n            }\r\n        \r\n        //this.items[2].active=false;\r\n        this.index=0;\r\n        this.botones[1].active=false;\r\n    }\r\n    start() \r\n    {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        if(this.index==0)\r\n            {\r\n                this.botones[1].active=false;\r\n            }else\r\n            {\r\n                this.botones[1].active=true;\r\n            }\r\n     \r\n            if(this.index==this.items.length-1)\r\n            {\r\n                this.botones[0].active=false;\r\n            }\r\n            else\r\n            {\r\n                this.botones[0].active=true;\r\n            }\r\n    }\r\n\r\n    next()\r\n    {\r\n        console.log(\"next\");\r\n        if(this.index<this.items.length-1)\r\n            {\r\n                this.index++;\r\n                this.items[this.index].active=true;\r\n                this.items[this.index-1].active=false;\r\n                console.log(this.index);\r\n            }\r\n    }\r\n\r\n    back()\r\n    {\r\n        console.log(\"back\");\r\n        if(this.index>0)\r\n            {\r\n                this.index--;\r\n                this.items[this.index].active=true;\r\n                this.items[this.index+1].active=false;\r\n                console.log(this.index);\r\n            }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find, Button, Sprite, Color, color, Label, CCFloat, CCString, SpriteFrame, CCBoolean, CCInteger } from 'cc';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CompraColor')\r\nexport class CompraColor extends Component \r\n{\r\n    @property(Node) subMenu:Node=null;\r\n    @property(Label) costoString:Label=null;\r\n    @property(Node) subSprite:Node=null;\r\n\r\n    /////////////////////////////////////////////\r\n    @property(CCInteger) costo:number=0;\r\n    @property (SpriteFrame) colorFinal:SpriteFrame=null;\r\n    @property (SpriteFrame) colorModelo:SpriteFrame=null;\r\n    @property(Node) coche:Node;\r\n\r\n    ////////////////////////////////////////////////\r\n    @property(CCFloat) miColorID:number;\r\n    @property(CCFloat) miModeloID:number;\r\n    \r\n    /////////////////////////////////////////////////\r\n    @property (Button) botonCompra: Button;\r\n    @property(Button) cerrar:Button;\r\n\r\n    managerG:ManagerGeneral;\r\n    ma:Node=null;\r\n\r\n    @property(Node) botones:Node=null;\r\n    @property(CCString) colors:string=\"\";\r\n    @property(Color) colorTexto:Color=null;\r\n    @property(Color) colorTextoNormal=null;\r\n    \r\n    @property(CCString) nombre:string=\"\";\r\n    @property (CCFloat) desbloqueado:number=0;\r\n    @property(SpriteFrame) normalFrame: SpriteFrame=null;\r\n\r\n    @property(CCBoolean) tarjeta:boolean=false;\r\n    \r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        //this.botones=find(\"Canvas/Botones\");\r\n        this.managerG=this.ma.getComponent(ManagerGeneral);\r\n        this.subMenu.active=false;\r\n\r\n        this.desbloqueado=this.managerG.CargaCocheDesbloqueado(this.nombre,this.desbloqueado);\r\n\r\n        \r\n        \r\n        this.botonCompra.node.on(Button.EventType.CLICK, this.Compra, this);\r\n        this.cerrar.node.on(Button.EventType.CLICK, this.Cerrar, this);\r\n\r\n    }\r\n\r\n    start() {\r\n\r\n        if(this.desbloqueado==1)\r\n            {\r\n                console.log(\"ya me desbloquearon\");\r\n                this.node.getComponent(Sprite).spriteFrame=this.normalFrame;\r\n                this.node.getComponent(Button).normalSprite=this.normalFrame;\r\n            }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.node.getComponent(Sprite).spriteFrame==this.colorFinal)\r\n            {\r\n                this.managerG.colorID=this.miColorID;\r\n                this.managerG.modeloID=this.miModeloID;\r\n\r\n                this.managerG.SaveCoche();\r\n                this.managerG.LoadData();\r\n            }\r\n            if(this.botonCompra.node.active)\r\n                {\r\n                    if(this.botonCompra.getComponent(Sprite).spriteFrame==this.botonCompra.getComponent(Button).hoverSprite)\r\n                        {\r\n                            this.costoString.color=this.colorTexto;\r\n                        }\r\n                        else\r\n                        {\r\n                            this.costoString.color=this.colorTextoNormal;\r\n                        }\r\n                }\r\n       \r\n        \r\n    }\r\n\r\n    Cerrar()\r\n    {\r\n        this.subMenu.active=false;\r\n        this.botones.active=true;\r\n        this.botonCompra.node.active=false;\r\n    }\r\n\r\n    Seleccion()\r\n    {\r\n        if(this.node.getComponent(Sprite).spriteFrame.name=='bloqueado')\r\n        {\r\n            this.subMenu.active=true;\r\n            this.botonCompra.node.active=true;\r\n            this.costoString.string=this.costo.toString();\r\n            this.botones.active=false;\r\n            this.subSprite.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n            this.MeAlcanza();\r\n        }\r\n        else\r\n        {\r\n            this.coche.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n            this.node.getComponent(Button).pressedSprite=this.colorFinal;\r\n            this.node.getComponent(Button).normalSprite=this.colorFinal;\r\n            this.ma.getComponent(SeleccionColor).Colores(this.colors);\r\n            //Selecciona este color\r\n            this.managerG.colorID=this.miColorID;\r\n            this.managerG.modeloID=this.miModeloID;\r\n            this.managerG.SaveCoche();\r\n        }\r\n    }\r\n\r\n    MeAlcanza()\r\n    {\r\n        if(!this.tarjeta)\r\n        {\r\n            if(this.costo<=this.managerG.contadorMonedas)\r\n                {\r\n                    this.botonCompra.interactable=true;\r\n                }\r\n                else\r\n                {\r\n                    this.botonCompra.interactable=false;\r\n                    this.botonCompra.onDisable();\r\n                }     \r\n        }\r\n        else if(this.tarjeta)\r\n            {\r\n                if(this.costo<=this.managerG.contadorTarjetas)\r\n                    {\r\n                        this.botonCompra.interactable=true;\r\n                    }\r\n                    else\r\n                    {\r\n                        this.botonCompra.interactable=false;\r\n                        this.botonCompra.onDisable();\r\n                    }     \r\n            }\r\n        \r\n    }\r\n\r\n    Compra()\r\n    {\r\n        console.log(\"valor de compra \" + this.costo.toString());\r\n        this.managerG.ActualizaCompras(this.costo);   \r\n        this.costoString.color=this.colorTexto;\r\n        this.managerG.Save();\r\n        this.Comprado();\r\n        //this.candadoIcon.active=false;\r\n\r\n        //this.managerG.modeloID=this.miModeloID;\r\n        //this.managerG.colorID=this.miColorID;\r\n        this.managerG.SaveCoche();\r\n        this.managerG.LoadData();\r\n        \r\n    }\r\n\r\n    Comprado()\r\n    {\r\n        \r\n        this.node.getComponent(Sprite).spriteFrame=this.colorFinal;\r\n        console.log(this.colorModelo.name);\r\n        this.coche.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n        this.node.getComponent(Button).normalSprite=this.colorFinal;\r\n        this.node.getComponent(Button).pressedSprite=this.colorFinal;\r\n        this.subMenu.active=false;\r\n        this.botones.active=true;\r\n        this.botonCompra.node.active=false;\r\n        this.costoString.color=this.colorTextoNormal;\r\n        this.managerG.colorID=this.miColorID;\r\n        this.managerG.modeloID=this.miModeloID;\r\n        this.ma.getComponent(SeleccionColor).Colores(this.colors);\r\n\r\n        this.managerG.CocheDesbloqueado(1,this.nombre);\r\n\r\n        \r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find, CCBoolean, CCFloat, Button, Label, SpriteFrame, Sprite, CCString, CCInteger } from 'cc';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CompraObjetos')\r\nexport class CompraObjetos extends Component \r\n{\r\n    managerG:ManagerGeneral;\r\n    @property (Node) ma:Node=null;\r\n    @property(CCBoolean) moneda:Boolean;\r\n    @property(CCFloat) costo:number;\r\n    @property(Label) miCosto:Label=null;\r\n\r\n    @property(Node) colores:Node=null;\r\n    @property(SpriteFrame) amarillo:SpriteFrame=null;\r\n    @property(SpriteFrame) modelo:SpriteFrame=null;\r\n    @property(CCFloat) desMOD:number=0;\r\n\r\n    @property(CCString) nombre:string=\"\";\r\n    @property(CCFloat) modeloID:number=0;\r\n    @property(CCInteger) control: number=0;\r\n    @property(CCInteger) iman:number=0;\r\n\r\n\r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        this.managerG=this.ma.getComponent(ManagerGeneral);\r\n        //this,this.managerG.LoadData();\r\n        this.desMOD=this.managerG.CargaCocheDesbloqueado(this.nombre,this.desMOD);\r\n\r\n        this.MeAlcanza();\r\n        this.miCosto.string=this.costo.toString();\r\n    }\r\n\r\n    start() \r\n    {\r\n        if(!this.moneda)\r\n            {\r\n                if(this.desMOD==1)\r\n                    {\r\n                        console.log(\"modelo desbloqueado\");\r\n                        this.node.parent.children[0].getComponent(Sprite).spriteFrame=this.modelo;\r\n                        this.colores.active=true;\r\n                        this.node.active=false;\r\n                        this.ma.getComponent(SeleccionColor).Colores(\"amarillo\");\r\n                        this.colores.children[0].getComponent(Sprite).spriteFrame=this.amarillo;\r\n                        this.colores.children[0].getComponent(Button).normalSprite=this.amarillo;\r\n                \r\n                    }\r\n            }\r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    MeAlcanza()\r\n    {\r\n        if(this.moneda)\r\n        {\r\n            if(this.costo<=this.managerG.contadorMonedas)\r\n            {\r\n                this.node.getComponent(Button).interactable=true;\r\n                //this.Compra(this.costo,\"moneda\");\r\n            }\r\n            else\r\n            {\r\n                this.node.getComponent(Button).interactable=false;\r\n                this.node.getComponent(Button).onDisable();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if(this.costo<=this.managerG.contadorTarjetas)\r\n                {\r\n                    this.node.getComponent(Button).interactable=true;\r\n                }\r\n                else\r\n                {\r\n                    this.node.getComponent(Button).interactable=false;\r\n                    this.node.getComponent(Button).onDisable();\r\n                }\r\n        }\r\n    }\r\n\r\n    Compra()\r\n    {\r\n        if(this.moneda)\r\n            {\r\n                this.managerG.ActualizaCompras(this.costo);\r\n                this.colores.active=true;\r\n                this.colores.children[0].getComponent(Sprite).spriteFrame=this.amarillo;\r\n                this.colores.children[0].getComponent(Button).normalSprite=this.amarillo;\r\n\r\n                this.managerG.colorID=0;\r\n                this.node.parent.children[0].getComponent(Sprite).spriteFrame=this.modelo;\r\n                this.managerG.modeloID=this.modeloID;\r\n                this.managerG.CocheDesbloqueado(1,this.nombre);\r\n             }   \r\n        else\r\n            {   \r\n                this.managerG.ActualizaCompras(this.costo);\r\n\r\n                this.ma.getComponent(SeleccionColor).Colores(\"amarillo\")\r\n\r\n                this.colores.active=true;\r\n                this.colores.children[0].getComponent(Sprite).spriteFrame=this.amarillo;\r\n                this.colores.children[0].getComponent(Button).normalSprite=this.amarillo;\r\n\r\n                this.managerG.colorID=0;\r\n                this.node.parent.children[0].getComponent(Sprite).spriteFrame=this.modelo;\r\n                this.managerG.modeloID=this.modeloID;\r\n                this.managerG.CocheDesbloqueado(1,this.nombre);\r\n            }\r\n        this.managerG.Save();\r\n        \r\n\r\n        this.node.active=false;\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, Component, Node,sys, director, SceneAsset, CCBoolean } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Detecta')\r\nexport class Detecta extends Component {\r\n\r\n   @property(Node)\r\n   public PC : Node = null;\r\n   @property(Node)\r\n   public mobile : Node = null;\r\n   @property([Node])\r\n   public lista: Node[] =[];\r\n   @property([Node])\r\n   public listaFinal: Node[] =[];\r\n   @property([Node])\r\n   public botones: Node[]=[];\r\n   public index: number = 0;\r\n   @property (CCBoolean)\r\n   public botonnext : boolean = false;\r\n\r\n\r\n   onLoad() {\r\n       // Verifica si el juego se est ejecutando en un dispositivo mvil\r\n       if (sys.isMobile) {\r\n        \r\n        this.mobile.active = true;\r\n        this.PC.active = false;\r\n        this.listaFinal[0]=this.mobile;\r\n       }\r\n         else {\r\n            this.mobile.active = false;\r\n            this.PC.active = true;\r\n            this.listaFinal[0]=this.PC;\r\n       }\r\n\r\n       this.listaFinal[1]=this.lista[0];\r\n       //this.listaFinal[2]=this.lista[1];\r\n   }\r\n\r\n  \r\n\r\n\r\n   start() {\r\n\r\n    if(!this.botonnext){\r\n        this.botones[1].active=false;\r\n        this.botones[0].active = false;\r\n    }else{\r\n        this.botones[1].active=false;\r\n    }\r\n       \r\n\r\n   }\r\n   update (){\r\n\r\n       if(this.index==0)\r\n       {\r\n           this.botones[1].active=false;\r\n       }else\r\n       {\r\n           this.botones[1].active=true;\r\n       }\r\n\r\n       if(this.index==this.listaFinal.length-1)\r\n       {\r\n           this.botones[0].active=false;\r\n       }\r\n       else\r\n       {\r\n           this.botones[0].active=true;\r\n       }\r\n       \r\n   }\r\n\r\n   next()\r\n   {\r\n       if(this.index<this.listaFinal.length-1)\r\n       {\r\n           this.index++;\r\n\r\n           this.listaFinal[this.index].active=true;\r\n           this.listaFinal[this.index-1].active=false;\r\n          \r\n          \r\n       }\r\n      \r\n   }\r\n\r\n   back()\r\n   {\r\n       if(this.index>0)\r\n       {\r\n           this.index--;\r\n           this.listaFinal[this.index].active=true;\r\n           this.listaFinal[this.index+1].active=false;\r\n          \r\n       }\r\n\r\n   }\r\n\r\n\r\n  \r\n}","import { _decorator, Component, Node, v2, find, Vec3} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Follow')\r\nexport class Follow extends Component {\r\n\r\n    //@property(Node) player:Node=null;\r\n    \r\n    @property(Node)\r\n    player: Node | null = null;\r\n\r\n    @property(Node) rotacionA: Node | null = null;\r\n    @property(Node) rotacionB: Node | null = null;\r\n\r\n    \r\n    \r\n    start() {\r\n\r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n        this.node.setWorldPosition(this.player.getWorldPosition());\r\n        //this.node.setWorldRotation(this.player.getWorldRotation());\r\n\r\n        //this.a=this.player.getWorldPosition();\r\n       //console.log(this.player.getWorldPosition());\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node,CCBoolean, Vec2, find } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FollowP')\r\nexport class FollowP extends Component {\r\n    @property(Node)\r\n    public player : Node;\r\n\r\n    @property(Node)\r\n    coche : Node;\r\n    @property(Node)\r\n    public SpawnP : Node; \r\n    @property(CCBoolean)\r\n    public derecha = false;\r\n\r\n    \r\n\r\n    onLoad() {\r\n        this.coche = find(\"Canvas/Player\")\r\n       /* for(let i = 0 ; i< this.player.children.length; i++)\r\n            {\r\n                 if(this.player.children[i].active)\r\n                    {\r\n                        this.coche = this.player.children[i];\r\n                    }\r\n            }*/\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n    mueveCamara(deltaTime: number, target : Vec2){\r\n        let currentPosition : Vec2 = new Vec2 (this.node.position.x, this.node.position.y)\r\n        Vec2.lerp(currentPosition, new Vec2 (this.node.position.x , this.node.position.y), target , .5 * deltaTime ); \r\n        this.node.setPosition( currentPosition.x,currentPosition.y, 0);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.derecha){\r\n           const targetD = new Vec2(this.coche.position.x-23,this.coche.position.y +20)\r\n           this.mueveCamara(deltaTime,targetD)\r\n        }\r\n        else{\r\n            const targetI = new Vec2(this.coche.position.x-25,this.coche.position.y +20)\r\n            this.mueveCamara(deltaTime,targetI);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Vec3 } from 'cc';\r\nimport { Manager } from './Manager';\r\nimport { Lanzame } from './Lanzame';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FollowPlayer')\r\nexport class FollowPlayer extends Component {\r\n    @property(Node)\r\n    public player : Node;\r\n    enPosicion:Boolean=false;\r\n    inicio: Boolean=true;\r\n    temp:Node=null;\r\n    tiempoRestante:number=10;\r\n    reset:number=0;\r\n    @property(Manager)manager:Manager=null;\r\n\r\n    protected onLoad(): void {\r\n        this.reset=this.tiempoRestante;\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    update(dt) {\r\n        //\r\n        if(this.player.parent.name==\"Canvas\"&&!this.inicio)\r\n        {\r\n            if(this.player.getComponent(Lanzame).enCamino)\r\n            {\r\n                //console.log(\"SIGO COCHE\");\r\n                this.node.position = this.player.position;\r\n\r\n                this.actualizarContador(dt);\r\n           \r\n                //this.player.getComponent(Lanzame).enCamino=false;\r\n            }\r\n        }\r\n        else if(this.player.parent.name!=\"Canvas\"&&this.temp!=this.player.parent)\r\n        {\r\n            this.tiempoRestante=this.reset;\r\n            this.temp=this.player.parent;\r\n            this.inicio=false;\r\n            let newPosition = this.node.position.lerp(this.player.parent.getWorldPosition(), 2 * dt);\r\n            //this.node.position.lerp(this.node.getWorldPosition(),0,this.player.parent.getWorldPosition())\r\n            //this.node.setWorldPosition(newPosition);\r\n            this.node.position = newPosition;\r\n            console.log(this.player.parent.name);\r\n            \r\n            \r\n        }\r\n    }\r\n    actualizarContador(dt) \r\n    {\r\n        if (this.tiempoRestante > 0) {\r\n            this.tiempoRestante-=dt; // Reduce el tiempo restante\r\n            \r\n        } else {\r\n            \r\n            this.manager.GameOver();\r\n            // Aqu puedes hacer lo que necesites cuando el contador llega a cero\r\n            this.unschedule(this.actualizarContador); // Detiene el temporizador\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, BoxCollider2D, CCBoolean, Component, debug, instantiate, Node, randomRangeInt, Vec3 } from 'cc';\r\nimport { GiroOrbita } from './GiroOrbita';\r\nimport { Monedas } from './Monedas';\r\nimport { Tarjetas } from './Tarjetas';\r\nimport { Lanzame } from './Lanzame';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GeneracionMapa')\r\nexport class GeneracionMapa extends Component \r\n{\r\n    @property(Node) posA:Node=null;\r\n    @property(Node) posB:Node=null;\r\n    @property(Node) posCaminoA:Node=null;\r\n    @property(Node) posCaminoB:Node=null;\r\n    @property(Node) miPos: Node=null;\r\n    @property(Node) temp:Node=null;\r\n    @property(Node) rotondaA:Node=null;\r\n    @property(Node) rotondaB:Node=null;\r\n    @property(Node) eliminar:Node=null;\r\n    @property(Node) caminoA:Node=null;\r\n    @property(Node) caminoB:Node=null;\r\n    @property(Node) road:Node=null;\r\n    @property(Node) rota:Node=null;\r\n    \r\n    @property(CCBoolean) ya:boolean=false;\r\n    @property(CCBoolean)\r\n    public listo : boolean = false;\r\n    @property (Node) player:Node=null;\r\n\r\n    onLoad()\r\n    {\r\n        \r\n        this.caminoA.active=false;\r\n        this.caminoB.active=false;\r\n        //this.miPos=this.node.children[1].children[0];\r\n        this.posA=this.node.children[1].children[1].children[0];\r\n        this.posB=this.node.children[1].children[1].children[1];\r\n        this.posCaminoA=this.node.children[1].children[1].children[2];\r\n        this.posCaminoB=this.node.children[1].children[1].children[3];\r\n        this.rotondaA.active=false;\r\n        this.rotondaB.active=false;\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        if(this.listo){\r\n                this.listo = false;\r\n                console.log(\"instanciar\");\r\n                const Inst:number = randomRangeInt(0,2);\r\n                console.log(Inst);\r\n\r\n                switch(Inst)\r\n                {\r\n                    case 0:\r\n                        console.log(\"entre 0\");\r\n                        this.temp=instantiate(this.rotondaA);\r\n                        this.temp.active=true;\r\n                        this.temp.parent=this.node;\r\n                        console.log(\"ANTES:\"+this.miPos.parent.position.y);\r\n                        this.temp.position= new Vec3(this.miPos.parent.position.x-220,this.miPos.parent.position.y+511,this.miPos.parent.position.z);\r\n                        console.log(\"DESPUES:\"+this.miPos.parent.position.y);\r\n\r\n                        this.road=instantiate(this.caminoA);\r\n                        this.road.active=true;\r\n                        this.road.parent=this.caminoA.parent;\r\n                        this.road.position=new Vec3(this.miPos.parent.position.x-116,this.miPos.parent.position.y+254, this.miPos.parent.position.z);\r\n\r\n                        this.rota.angle=22.7;\r\n                        this.temp.children[1].children[2].active=true;\r\n                        this.temp.children[1].children[2].getComponent(Tarjetas).Donde(true);\r\n                        this.ya=true;\r\n                        //this.temp.active=true;\r\n                        /*\r\n                        console.log(\"Instancia a\");\r\n                        this.temp=instantiate(this.rotondaA);\r\n                        this.temp.parent=this.node;\r\n                        //this.temp.setWorldPosition(this.posA.getWorldPosition());\r\n                        this.temp.position=new Vec3(this.miPos.position.x-220, this.miPos.position.y+445,this.miPos.position.z);\r\n                        //this.temp.setPosition(this.posA.getPosition());\r\n                        \r\n                        this.road=instantiate(this.caminoA);\r\n                        this.road.parent=this.caminoA.parent;\r\n                        //this.road.position=this.posCaminoA.position;\r\n                        this.road.setWorldPosition(this.posCaminoA.getWorldPosition());\r\n                        this.road.active=true;\r\n                        //this.temp.children[3].getComponent(Monedas).MonedasJuego();\r\n                        this.temp.children[1].children[2].active=true;\r\n                        this.temp.children[1].children[2].getComponent(Tarjetas).Donde(true);\r\n                        this.rota.angle=22.7;\r\n                        //this.monedasA.MonedasJuego();\r\n                        this.ya=true;\r\n                        this.temp.active=true;*/\r\n                        break;\r\n                    case 1:\r\n                        console.log(\"entre 1\");\r\n                        this.temp=instantiate(this.rotondaB);\r\n                        this.temp.active=true;\r\n                        this.temp.parent=this.node;\r\n                        console.log(\"ANTES:\"+this.miPos.parent.position.y);\r\n                        this.temp.position= new Vec3(this.miPos.parent.position.x+220,this.miPos.parent.position.y+511,this.miPos.parent.position.z);\r\n                        console.log(\"DESPUES:\"+this.miPos.parent.position.y);\r\n                        this.road=instantiate(this.caminoB);\r\n                        this.road.active=true;\r\n                        this.road.parent=this.caminoB.parent;\r\n                        this.road.position=new Vec3(this.miPos.parent.position.x+116,this.miPos.parent.position.y+254, this.miPos.parent.position.z);\r\n\r\n                        this.rota.angle=-22.7;\r\n\r\n                        this.temp.children[1].children[3].active=true;\r\n                        this.temp.children[1].children[3].getComponent(Tarjetas).Donde(true);\r\n                        this.ya=true;\r\n                        //this.temp.active=true;\r\n\r\n                        /*\r\n                        console.log(\"Instancia b\");\r\n                        this.temp=instantiate(this.rotondaB);\r\n                        this.temp.parent=this.node;\r\n                        //this.temp.setWorldPosition(this.posB.getWorldPosition());\r\n                        //this.temp.position=this.posB.position;\r\n                        //this.temp.setPosition(this.posB.getPosition());\r\n                        this.temp.position=new Vec3(this.miPos.position.x+220, this.miPos.position.y+445,this.miPos.position.z);\r\n                       \r\n                        this.road=instantiate(this.caminoB);\r\n                        this.road.parent=this.caminoB.parent;\r\n                        this.road.setWorldPosition(this.posCaminoB.getWorldPosition());\r\n                        //this.road.position=this.posCaminoB.position;\r\n                        this.road.active=true;\r\n                        //this.temp.children[3].getComponent(Monedas).MonedasJuego();\r\n                        this.temp.children[1].children[3].active=true;\r\n                        this.temp.children[1].children[3].getComponent(Tarjetas).Donde(true);\r\n                        this.rota.angle=-22.7;\r\n                        //this.monedasB.MonedasJuego();\r\n                        this.ya=true;\r\n                        this.temp.active=true;*/\r\n                        break;\r\n                }\r\n\r\n                this.miPos.getComponent(GiroOrbita).instanciar=false;\r\n            }\r\n        if(this.miPos.getComponent(GiroOrbita).cambia && this.temp!=null)\r\n            {\r\n                //this.miPos.getComponent(GiroOrbita).cambia=false;\r\n                \r\n                \r\n                this.miPos=this.temp.children[0];\r\n                const a=this.miPos;\r\n                a.parent.parent=this.eliminar;\r\n\r\n                this.temp=null;\r\n                this.road=null;\r\n                /*\r\n                const a=this.miPos;\r\n                a.parent.parent=this.eliminar;\r\n\r\n                //this.miPos=this.temp;\r\n                \r\n                this.miPos=this.temp.children[0];\r\n                this.posA=this.temp.children[1].children[0];\r\n                //children[0].children[2].children[0];\r\n                this.posB=this.temp.children[1].children[1];\r\n                this.posCaminoA=this.temp.children[1].children[2];\r\n                this.posCaminoB=this.temp.children[1].children[3];\r\n\r\n                //a.getComponent(GiroOrbita).cambia=false;\r\n                this.miPos.parent.active=true;\r\n\r\n                //this.limpiarNodo(this.temp);\r\n                //this.limpiarNodo(this.road);\r\n                this.temp=null;\r\n                this.road=null;\r\n                //this.caminoA.active=false;\r\n                //this.caminoB.active=false;\r\n                */\r\n\r\n            }\r\n\r\n    \r\n\r\n        if(this.node.children.length>1)\r\n            {\r\n                \r\n            }\r\n            \r\n\r\n        \r\n    }\r\n\r\n    limpiarNodo(nodo: Node) {\r\n        nodo.destroy();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Quat, Vec3, director, find, Collider2D, Contact2DType, math, CCBoolean} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GiroOrbita')\r\nexport class GiroOrbita extends Component {\r\n\r\n    @property public rotationSpeed= 0.5;\r\n    @property public angle=0;\r\n\r\n    @property (Node) player:Node=null;\r\n    @property (Node) rotacion:Node=null;\r\n    @property (Node) rotacion2:Node=null;\r\n    rota:Boolean=false;\r\n    public instanciar:Boolean=false;\r\n    public cambia:Boolean=false;\r\n    @property (Node) padre:Node=null;\r\n    ya:Boolean=false;\r\n    @property(CCBoolean) public primeraVez:boolean=true;\r\n\r\n    protected onLoad(): void \r\n    {\r\n        //this.player=find(\"Canvas/Player\");\r\n        this.rotacion=find(\"Canvas/IndicadorRotacion\");\r\n        this.rotacion2=find(\"Canvas/IndicadorRotacion-001\");\r\n\r\n        ////COLLIDER////\r\n        let collider = this.getComponent(Collider2D);\r\n        if (collider) \r\n        {\r\n            // Called only once when two colliding bodies start to make contact\r\n            collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n            collider.on(Contact2DType.END_CONTACT, this.onEndContact, this);\r\n            \r\n            //collider.on(Contact2DType.END_CONTACT, this.onEndContact, this);\r\n \r\n        }\r\n    }\r\n\r\n    start() {\r\n        this.cambia=false;\r\n    }\r\n\r\n    update(dt) \r\n    {\r\n       if(this.player.parent==this.node&&this.rota)\r\n            {\r\n                this.node.angle = this.angle;\r\n\r\n                this.angle+=this.rotationSpeed;\r\n\r\n       \r\n                if(this.node.angle>=360&&this.angle>=360)\r\n                {\r\n                    this.node.angle=0;\r\n                    this.angle=0;\r\n                }\r\n            }\r\n        \r\n\r\n        if(this.player.parent==this.node &&!this.rota)\r\n        {\r\n            this.RotaHijo(this.player);\r\n            console.log(this.node.name+\"instanciar=true\");\r\n            this.instanciar=true;\r\n            this.ya=true;\r\n            \r\n        }\r\n        if(this.player.parent!=this.node&&this.ya)\r\n            {\r\n                console.log(this.node.name+\"Cambia=true\");\r\n                this.cambia=true;\r\n                this.instanciar=false;\r\n                this.ya=false;\r\n                \r\n            }\r\n        \r\n    }\r\n\r\n    RotaHijo(hijo: Node)\r\n    {\r\n        //hijo.setWorldRotation(this.rotacion2.getWorldRotation());\r\n        //hijo.setWorldRotation(this.rotacion.getWorldRotation());\r\n        \r\n        this.player.setPosition(this.player.position.x, -85, this.player.position.z);\r\n\r\n\r\n        let rotationGiratorio = math.toRadian(this.node.angle);\r\n\r\n        //console.log(\"Angulo: \" + math.toDegree(rotationGiratorio));\r\n        let rotationQuat = new Quat();\r\n        Quat.fromEuler(rotationQuat, 0, 0,  math.toDegree(rotationGiratorio)-90);\r\n\r\n        let finalRotation = new Quat();\r\n        Quat.multiply(finalRotation, this.node.rotation, rotationQuat);\r\n\r\n        this.player.setRotation(rotationQuat);\r\n        \r\n        \r\n        this.rota=true;\r\n        \r\n    }\r\n\r\n    EstoySolo()\r\n    {\r\n        this.cambia=true;\r\n        \r\n    }\r\n   \r\n\r\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D)\r\n    {\r\n        //console.log(this.node.name+selfCollider.group);\r\n        //console.log(this.node.name+otherCollider.group);\r\n\r\n        if(otherCollider.group===8)\r\n        {\r\n            this.scheduleOnce(function(){\r\n                this.padre.destroy();\r\n            },2);\r\n            \r\n        }\r\n        \r\n        \r\n    }\r\n    onEndContact(selfCollider: Collider2D, otherCollider: Collider2D)\r\n    {\r\n        //console.log(\"termino el contacto\");\r\n        \r\n        \r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Input, input, EventMouse, RigidBody2D, Vec2, Vec3, Camera, v2, v3,Collider2D, Contact2DType, CCBoolean, CircleCollider2D, CCFloat, quat, Quat, find, Animation, misc, tween, Tween} from 'cc';\r\nimport { GiroOrbita } from './GiroOrbita';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Lanzame')\r\nexport class Lanzame extends Component {\r\n\r\n    \r\n    @property(CCFloat) speed : number=400;\r\n    @property (CCBoolean) meLanzaron:Boolean=false;\r\n    //@property (CCBoolean)rota:Boolean=false;\r\n    @property (Node) temp:Node=null;\r\n    rotationSpeed: number=0.5;\r\n    angle: number=0;\r\n    \r\n    @property (Node) padre:Node=null\r\n    @property (Node) indicador:Node=null\r\n   \r\n  \r\n    @property (Node) player:Node;\r\n\r\n    @property(CCBoolean) public iman:boolean=false;\r\n    @property(CCBoolean) public control:boolean=false;\r\n    @property(Node) mangerG:Node=null;\r\n\r\n    tiempoRestante:number=10;\r\n\r\n    @property(CCBoolean) public gira: boolean=false;\r\n\r\n    @property(CCBoolean) public enCamino:boolean=false;\r\n    nodeNull:Node=null;\r\n    @property(CCBoolean) public instanciar:boolean=false;\r\n\r\n    rotationTween: Tween<Node>;\r\n    //@property moveSpeed:Number=1000;\r\n    onLoad()\r\n    {\r\n        this.node.on(Input.EventType.TOUCH_END,this.Lanza,this)\r\n        input.on(Input.EventType.MOUSE_UP, this.LanzaMouse, this);\r\n\r\n        this.mangerG=find(\"Canvas/ManagerGeneral\");\r\n\r\n        if(this.mangerG.getComponent(ManagerGeneral).iman==0)\r\n         {\r\n            this.iman=false;\r\n\r\n         }\r\n        else if(this.mangerG.getComponent(ManagerGeneral).iman==1)\r\n         {\r\n            this.iman=true;\r\n         }\r\n\r\n         if(this.mangerG.getComponent(ManagerGeneral).control==0)\r\n        {\r\n            this.control=false;\r\n   \r\n        }\r\n        else if(this.mangerG.getComponent(ManagerGeneral).control==1)\r\n        {\r\n            this.control=true;\r\n        }\r\n\r\n        \r\n        this.player=this.node;\r\n        ////COLLIDER////\r\n        let collider = this.getComponent(Collider2D);\r\n        if (collider) \r\n        {\r\n            // Called only once when two colliding bodies start to make contact\r\n            collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n            \r\n            collider.on(Contact2DType.END_CONTACT, this.onEndContact, this);\r\n \r\n        }\r\n    }\r\n    start() {\r\n\r\n        this.indicador.position=this.node.position;\r\n        \r\n    }\r\n\r\n    update(dt) {\r\n        \r\n        if(this.meLanzaron)\r\n        {\r\n            \r\n            this.Mover(dt);\r\n\r\n           \r\n        }\r\n\r\n        if(this.control)\r\n            {\r\n                this.ControlPowerUp(dt);\r\n            }\r\n            if(this.gira&& !this.rotationTween)\r\n            {\r\n                console.log(\"entre\");\r\n                this.player.parent=this.padre;\r\n                this.node.setWorldPosition(this.indicador.getWorldPosition());\r\n                this.startRotation();\r\n                /*this.rotationTween.call(() => {\r\n                    // Acciones a realizar cuando el tween termina\r\n                    console.log(\"El tween ha terminado.\");\r\n\r\n                    this.stopRotation();\r\n                })*/\r\n            }\r\n        \r\n    }\r\n\r\n    startRotation () \r\n    {\r\n        // Crea una nueva instancia de la animacin tween\r\n        this.rotationTween = tween(this.node)\r\n            // Establece la duracin de la animacin y define la rotacin\r\n            .to(0.5, { angle: this.indicador.angle })\r\n\r\n            this.rotationTween.call(() => {\r\n                // Acciones a realizar cuando el tween termina\r\n                //console.log(\"El tween ha terminado.\");\r\n\r\n                this.enCamino=true;\r\n                this.meLanzaron=true;\r\n                this.gira=false;\r\n            })\r\n            // Repite la animacin indefinidamente\r\n            //.repeatForever()\r\n            // Comienza la animacin\r\n            .start();\r\n\r\n           \r\n    }\r\n   \r\n    stopRotation() {\r\n        if (this.rotationTween) {\r\n            this.rotationTween.stop();\r\n            this.rotationTween = null; // Limpia la variable de tween\r\n        }\r\n    }\r\n\r\n   ControlPowerUp(dt)\r\n   {\r\n        if (this.tiempoRestante > 0) \r\n        {\r\n            this.tiempoRestante-=dt; // Reduce el tiempo restante\r\n            \r\n        }\r\n        else \r\n        {\r\n            this.temp.getComponent(GiroOrbita).rotationSpeed=0.5;\r\n            this.control=false;\r\n            this.mangerG.getComponent(ManagerGeneral).control=0;\r\n            this.mangerG.getComponent(ManagerGeneral).Save();\r\n        }\r\n        if(this.temp!=null&&this.tiempoRestante>0)\r\n        {\r\n            this.temp.getComponent(GiroOrbita).rotationSpeed=0.1;\r\n        }\r\n   }\r\n    \r\n\r\n    Lanza()\r\n    {\r\n        if(this.temp!=null)\r\n            {\r\n               \r\n                this.player.parent=this.padre;\r\n                \r\n                this.node.setWorldPosition(this.indicador.getWorldPosition());\r\n               \r\n                this.gira=true;\r\n                \r\n               \r\n            }\r\n            else\r\n            {\r\n                this.meLanzaron=true;\r\n            }\r\n    }\r\n\r\n\r\n   \r\n\r\n    Mover(dt)\r\n    {\r\n       \r\n        var localUpDirection = this.node.up;\r\n\r\n        // Calcula el desplazamiento multiplicando la direccin local por la velocidad\r\n        var displacement = localUpDirection.multiplyScalar(this.speed*dt);\r\n       \r\n        // Mueve el nodo a lo largo de su eje local hacia arriba\r\n        this.node.position = this.node.position.add(displacement);\r\n    }\r\n    LanzaMouse(event: EventMouse)\r\n    {\r\n        if (event.getButton() === 0) \r\n        {\r\n            \r\n            if(this.temp!=null)\r\n            {\r\n                //this.temp.getComponent(GiroOrbita).EstoySolo();\r\n                \r\n               //this.nodeNull.setWorldRotation(this.indicador.getWorldRotation());\r\n                 \r\n                 this.gira=true;\r\n                 //this.instanciar=false;\r\n                 this.stopRotation();\r\n            }\r\n            else\r\n            {\r\n               \r\n                this.meLanzaron=true;\r\n            }\r\n                \r\n           \r\n      \r\n        }\r\n    }\r\n\r\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D)\r\n    {\r\n        //console.log(otherCollider.name+otherCollider.group);\r\n        if(otherCollider.group===2)\r\n        {\r\n            if(this.node.parent!=otherCollider.node||this.node.parent==this.padre)\r\n            {  \r\n                this.enCamino=false;\r\n                this.angle=otherCollider.node.angle;\r\n                this.instanciar=true;\r\n\r\n               \r\n                    this.temp=otherCollider.node;\r\n                    this.node.parent=this.temp;\r\n\r\n                \r\n                //this.rota=true;\r\n                    this.meLanzaron=false;//evita que se mueva\r\n\r\n                    this.enCamino=false;  \r\n               if(otherCollider.getComponent(GiroOrbita).primeraVez)\r\n               {//console.log(\"mePegue\");\r\n                    \r\n                    otherCollider.getComponent(GiroOrbita).primeraVez=false;\r\n               }\r\n                \r\n                //\r\n                \r\n\r\n            }\r\n            \r\n\r\n            \r\n        }\r\n        if(otherCollider.group===16)\r\n            {\r\n                \r\n            }\r\n        \r\n        \r\n    }\r\n\r\n    onEndContact(selfCollider: Collider2D, otherCollider: Collider2D)\r\n    {\r\n        //console.log(\"termino el contacto\");\r\n\r\n        //this.enCamino=false;\r\n        \r\n        \r\n        \r\n    }\r\n\r\n}\r\n\r\n\r\n","import { _decorator, CCBoolean, CCFloat, Component, find, Label, Node, SpriteFrame, sys, Sprite, CCInteger, Button } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { ButtonMessage } from './ButtonMessage';\r\n\r\n@ccclass('Manager')\r\nexport class Manager extends Component {\r\n\r\n    @property(Label) scoreText: Label=null;\r\n    @property(Label) final_scoreText: Label=null;\r\n    @property (CCInteger) public score: number=0;\r\n    @property(CCFloat) public contadorMonedas:number=0;\r\n    @property(CCInteger) public contadorTarjetas:number=0;\r\n    gameOver:Node=null;\r\n    @property(Node) player:Node=null;\r\n    @property(CCFloat) public creditoTotal:number=0;\r\n\r\n    @property(ManagerGeneral)managerG:ManagerGeneral=null;\r\n    @property(Node)\r\n    public post : Node = null;\r\n    //@property(CCBoolean) public gameOver:boolean=false;\r\n    a:Node=null;\r\n    @property(CCBoolean) public moneda:boolean;\r\n\r\n    @property(CCFloat) modeloCoche:number=0;\r\n    @property([SpriteFrame]) coloresCoche01:SpriteFrame[]=[];\r\n    @property([SpriteFrame]) coloresCoche02:SpriteFrame[]=[];\r\n    @property([SpriteFrame]) coloresCoche03:SpriteFrame[]=[];\r\n    //@property(Node) player:Node=null;\r\n    @property(CCFloat)\r\n    public tiempoRestante = 10;\r\n\r\n    @property(CCFloat) miColor:number=0;\r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.player=find(\"Canvas/Player\");\r\n        this.gameOver=find(\"Canvas/Fondo/GameOver\");\r\n        this.a=find(\"Canvas/ManagerGeneral\");\r\n        this.managerG=this.a.getComponent(ManagerGeneral);\r\n        //this.managerG.LoadData();\r\n        \r\n        this.managerG.CargaCoche();\r\n\r\n        this.modeloCoche=this.managerG.modeloID;\r\n        this.miColor=this.managerG.colorID;\r\n        this.MiCoche();\r\n        \r\n        this.gameOver.active=false;\r\n    }\r\n    start() {\r\n        this.contadorMonedas=this.managerG.contadorMonedas;\r\n        this.contadorTarjetas=0;\r\n\r\n    }\r\n\r\n    MiCoche()\r\n    {\r\n        switch(this.modeloCoche)\r\n        {\r\n            case 0:\r\n                this.player.getComponent(Sprite).spriteFrame=this.coloresCoche01[this.miColor];\r\n                //console.log(\"cambio de color\");\r\n                break;\r\n            case 1:\r\n                this.player.getComponent(Sprite).spriteFrame=this.coloresCoche02[this.miColor];\r\n                //console.log(\"cambio de color\");\r\n                break;\r\n            case 2:\r\n                this.player.getComponent(Sprite).spriteFrame=this.coloresCoche03[this.miColor];\r\n                //console.log(\"cambio de color\");\r\n                break;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    update(deltaTime: number) {\r\n        \r\n        \r\n    }\r\n\r\n    ActualizaScore( valor : number)\r\n    {\r\n        this.scoreText.string=this.score.toString();\r\n        this.managerG.score=this.score;\r\n\r\n        /*\r\n        if(moneda)\r\n            {\r\n                this.managerG.contadorMonedas=this.contadorMonedas;\r\n                console.log(this.managerG.contadorMonedas);\r\n\r\n\r\n            }\r\n            else\r\n            {\r\n                //this.managerG.contadorTarjetas+=1;\r\n                this.managerG.contadorTarjetas=this.contadorTarjetas;\r\n                console.log(this.managerG.contadorTarjetas);\r\n            }*/\r\n        this.managerG.contadorTarjetas+=valor;\r\n        console.log(this.managerG.contadorTarjetas);\r\n        \r\n        this.managerG.Save();\r\n\r\n    }\r\n\r\n    actualizarContador(dt) \r\n    {\r\n        if (this.tiempoRestante > 0) {\r\n            this.tiempoRestante-=dt; // Reduce el tiempo restante\r\n            \r\n        } else {\r\n            \r\n            this.GameOver();\r\n            // Aqu puedes hacer lo que necesites cuando el contador llega a cero\r\n            this.unschedule(this.actualizarContador); // Detiene el temporizador\r\n        }\r\n    }\r\n\r\n    GameOver()\r\n    {\r\n        this.gameOver.active=true;\r\n        this.post.getComponent(ButtonMessage).sendMessageToParent();\r\n        this.player.active=false;\r\n        this.final_scoreText.string=this.score.toString();\r\n        this.managerG.score=this.score;\r\n        this.managerG.Save();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, CCFloat, sys, CCString, Label, find, CCInteger } from 'cc';\r\nimport { Lanzame } from './Lanzame';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ManagerGeneral')\r\nexport class ManagerGeneral extends Component {\r\n\r\n    @property (CCFloat) public score: number=0;\r\n    @property(CCInteger) public contadorMonedas:number=0;\r\n    @property(CCInteger) public contadorTarjetas:number=0;\r\n    @property(CCString)\r\n    public tarjetaString:string= null;\r\n    @property(CCString)\r\n    public monedasString:string= null;\r\n    @property(Label) monedas:Label=null;\r\n    @property(Label) tarjetas:Label=null;\r\n    @property(CCFloat) public colorID:number=0;\r\n    @property(CCFloat) public modeloID:number=0;\r\n    @property(CCFloat) public iman:number=0;\r\n    @property(CCFloat) public control:number=0;\r\n    /*\r\n    @property([CCFloat]) // Especifica que es un array de nmeros flotantes\r\n    miCoche: number[][] = [[0, 0]];*/\r\n\r\n    protected onLoad(): void {\r\n        //sys.localStorage.clear();\r\n       \r\n        this.LoadData();\r\n\r\n        //this.CargaCoche();\r\n       \r\n        \r\n        \r\n    }\r\n\r\n    start() {\r\n\r\n        \r\n    }\r\n\r\n    update(dt) \r\n    {\r\n        \r\n        \r\n    }\r\n\r\n    \r\n    \r\n    Save()\r\n    {\r\n        console.log(\"Save\");\r\n        sys.localStorage.setItem('score',this.score.toString());\r\n        sys.localStorage.setItem('monedas', this.contadorMonedas.toString());\r\n        sys.localStorage.setItem('tarjetas', this.contadorTarjetas.toString());\r\n\r\n        //////////////////////////POWER UPS/////////////////////////////////////\r\n        sys.localStorage.setItem('iman', this.iman.toString());\r\n        sys.localStorage.setItem('control', this.control.toString());\r\n    }\r\n\r\n    LoadData()\r\n    {\r\n        this.monedasString=sys.localStorage.getItem('monedas');\r\n        this.tarjetaString=sys.localStorage.getItem('tarjetas');\r\n        let imanP=sys.localStorage.getItem('iman');\r\n        let controlP=sys.localStorage.getItem('control');\r\n\r\n        if(imanP)\r\n            {\r\n                this.iman=parseInt(imanP);\r\n            }\r\n        if(controlP)\r\n            {\r\n                this.control=parseInt(controlP);\r\n            }\r\n\r\n        if(this.monedasString)\r\n            {\r\n                this.contadorMonedas=parseInt(this.monedasString);\r\n                \r\n            }\r\n\r\n        if(this.tarjetaString)\r\n            {\r\n                \r\n                this.contadorTarjetas=parseInt(this.tarjetaString);\r\n                if(this.contadorTarjetas==null)\r\n                {\r\n                    this.contadorTarjetas=0;\r\n                }\r\n            }\r\n    }\r\n\r\n    ActualizaCompras(valor:number)\r\n    {\r\n        this.contadorTarjetas-=valor;\r\n        /*switch(tipo)\r\n        {\r\n            case 'tarjeta':\r\n               \r\n                break;\r\n            case 'moneda':\r\n                this.contadorMonedas-=valor;\r\n                break;\r\n        }*/\r\n    }\r\n\r\n    CargaCoche()\r\n    {\r\n        /*var cocheString = sys.localStorage.getItem('coche');\r\n        if (cocheString)\r\n        {\r\n            var valores = cocheString.split(',');\r\n            this.colorID=parseInt(valores[0]);\r\n            this.modeloID=parseInt(valores[1]);\r\n            //this.miCoche=[[this.modeloID,this.colorID]];\r\n            console.log(\"cargandoCoche\");\r\n\r\n        }*/\r\n\r\n        var colorIDString=sys.localStorage.getItem('color');\r\n        var modeloIDString=sys.localStorage.getItem('modelo');\r\n\r\n        if(colorIDString)\r\n            {\r\n                this.colorID=parseInt(colorIDString);\r\n                \r\n            }\r\n        if(modeloIDString)\r\n            {\r\n                this.modeloID=parseInt(modeloIDString);\r\n\r\n            }\r\n\r\n        \r\n        \r\n        //console.log(\"cargaCoche\");\r\n        \r\n    }\r\n\r\n    SaveCoche()\r\n    {\r\n        sys.localStorage.setItem('color',this.colorID.toString());\r\n        \r\n        sys.localStorage.setItem('modelo', this.modeloID.toString());\r\n\r\n        //console.log(\"guardaCoche\");\r\n    }\r\n\r\n    CocheDesbloqueado(comprado: number, nombre: string)\r\n    {\r\n        sys.localStorage.setItem(nombre, comprado.toString());\r\n        //console.log(\"guarda meCompraron \"+ nombre);\r\n    }\r\n\r\n    CargaCocheDesbloqueado(nombre:string, compra: number)\r\n    {\r\n        var meCompraron=sys.localStorage.getItem(nombre);\r\n\r\n        if(meCompraron)\r\n            {\r\n                compra=parseInt(meCompraron);\r\n                //console.log(\"meCompraron \"+ nombre);\r\n                \r\n            }\r\n\r\n            return compra;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Marco')\r\nexport class Marco extends Component {\r\n\r\n    @property(Node)\r\n    camara: Node | null = null;\r\n\r\n    onLoad()\r\n    {\r\n        \r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        this.node.setWorldPosition(this.camara.getWorldPosition());\r\n        this.node.setWorldRotation(this.camara.getWorldRotation());\r\n        \r\n    }\r\n\r\n   \r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, randomRange, randomRangeInt, instantiate } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Monedas')\r\nexport class Monedas extends Component {\r\n\r\n    @property ([Node]) posiciones:Node []=[];\r\n    @property(Node) moneda:Node=null;\r\n    @property(Node) moneda2:Node=null;\r\n    @property(Node) moneda3:Node=null;\r\n    @property(Node) moneda4:Node=null;\r\n    \r\n\r\n    onLoad()\r\n    {\r\n        //this.Monedas();\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n        \r\n    }\r\n\r\n    NumeroMonedas()\r\n    {\r\n        let a=randomRangeInt(1,4);\r\n\r\n        return a;\r\n    }\r\n\r\n    public MonedasJuego()\r\n    {\r\n        let inicio=randomRangeInt(0,4);\r\n        let a=this.NumeroMonedas();\r\n        //console.log(\"Numero Monedas\"+a);  \r\n\r\n        //console.log(\"Numero Pos\"+inicio);\r\n        switch(a)\r\n        {\r\n             \r\n            case 1:\r\n                this.moneda.position=this.posiciones[inicio].position;\r\n                break;\r\n            case 2:\r\n                this.moneda.position=this.posiciones[inicio].position;\r\n\r\n                if(inicio==0)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[1].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                    }\r\n\r\n                if(inicio==1)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[2].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                    }\r\n                if(inicio==2)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[3].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                    }\r\n                if(inicio==3)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[0].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                    }\r\n                break;\r\n            case 3:\r\n                this.moneda.position=this.posiciones[inicio].position;\r\n\r\n                if(inicio==0)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[1].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                        this.moneda3=instantiate(this.moneda);\r\n                        this.moneda3.position=this.posiciones[2].position;\r\n                        this.moneda3.parent=this.node.parent;\r\n                    }\r\n\r\n                if(inicio==1)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[2].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                        this.moneda3=instantiate(this.moneda);\r\n                        this.moneda3.position=this.posiciones[3].position;\r\n                        this.moneda3.parent=this.node.parent;\r\n                    }\r\n                if(inicio==2)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[3].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                        this.moneda3=instantiate(this.moneda);\r\n                        this.moneda3.position=this.posiciones[0].position;\r\n                        this.moneda3.parent=this.node.parent;\r\n                    }\r\n                if(inicio==3)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[0].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                        this.moneda3=instantiate(this.moneda);\r\n                        this.moneda3.position=this.posiciones[1].position;\r\n                        this.moneda3.parent=this.node.parent;\r\n                    }\r\n                break;\r\n            case 4:\r\n                this.moneda.position=this.posiciones[inicio].position;\r\n\r\n                if(inicio==0)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[1].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                        this.moneda3=instantiate(this.moneda);\r\n                        this.moneda3.position=this.posiciones[2].position;\r\n                        this.moneda3.parent=this.node.parent;\r\n                        this.moneda4=instantiate(this.moneda);\r\n                        this.moneda4.position=this.posiciones[3].position;\r\n                        this.moneda4.parent=this.node.parent;\r\n                    }\r\n\r\n                if(inicio==1)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[2].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                        this.moneda3=instantiate(this.moneda);\r\n                        this.moneda3.position=this.posiciones[3].position;\r\n                        this.moneda3.parent=this.node.parent;\r\n                        this.moneda4=instantiate(this.moneda);\r\n                        this.moneda4.position=this.posiciones[0].position;\r\n                        this.moneda4.parent=this.node.parent;\r\n                    }\r\n                if(inicio==2)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[3].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                        this.moneda3=instantiate(this.moneda);\r\n                        this.moneda3.position=this.posiciones[0].position;\r\n                        this.moneda3.parent=this.node.parent;\r\n                        this.moneda4=instantiate(this.moneda);\r\n                        this.moneda4.position=this.posiciones[1].position;\r\n                        this.moneda4.parent=this.node.parent;\r\n                    }\r\n                if(inicio==3)\r\n                    {\r\n                        //instanciar\r\n                        this.moneda2=instantiate(this.moneda);\r\n                        this.moneda2.position=this.posiciones[0].position;\r\n                        this.moneda2.parent=this.node.parent;\r\n                        this.moneda3=instantiate(this.moneda);\r\n                        this.moneda3.position=this.posiciones[1].position;\r\n                        this.moneda3.parent=this.moneda.parent;\r\n                        this.moneda4=instantiate(this.moneda);\r\n                        this.moneda4.position=this.posiciones[2].position;\r\n                        this.moneda4.parent=this.moneda.parent;\r\n                    }\r\n                break;\r\n        }\r\n    }\r\n\r\n    PosMonedas(a:number)\r\n    {\r\n        switch(a)\r\n        {\r\n            case 0:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, AudioSource, SpriteFrame } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Mute')\r\nexport class Mute extends Component {\r\n\r\n   @property(Button)\r\n   public muteButton: Button=null;\r\n\r\n   @property(AudioSource)\r\n   public audioSource: AudioSource=null;\r\n\r\n   @property(SpriteFrame)\r\n   public sprites: SpriteFrame []=[];\r\n   onLoad() {\r\n       // Asigna la funcin a ejecutar cuando se hace clic en el botn\r\n       //this.muteButton.node.on('click', this.toggleMute, this);\r\n   }\r\n\r\n   toggleMute() {\r\n       // Verifica si el audio est actualmente silenciado\r\n       console.log(\"volume\");\r\n       // Establece el volumen de la msica a 0 si est activado el sonido, o a 1 si est silenciado\r\n       if(this.audioSource.volume==0)\r\n       {\r\n          \r\n           console.log(\"volume 0\");\r\n           this.audioSource.volume=1;\r\n          \r\n       }\r\n       else\r\n       {\r\n           \r\n           console.log(\"volume 1\");\r\n           this.audioSource.volume=0;\r\n           \r\n       }\r\n       this.cambiaSprite();\r\n   }\r\n   cambiaSprite()\r\n   {\r\n       if(this.audioSource.volume==1)\r\n       {\r\n           this.muteButton.normalSprite=this.sprites[0];\r\n           this.muteButton.pressedSprite=this.sprites[1];\r\n       }\r\n       else if(this.audioSource.volume==0)\r\n       {\r\n           this.muteButton.normalSprite=this.sprites[1];\r\n           this.muteButton.pressedSprite=this.sprites[0];\r\n       }\r\n   }\r\n}","import { _decorator, CCFloat, Component, Node, Collider2D, Contact2DType, CCString, find, Sprite, RigidBody, RigidBody2D, CCInteger } from 'cc';\r\nimport { Manager } from './Manager';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { Lanzame } from './Lanzame';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Objetos')\r\nexport class Objetos extends Component {\r\n\r\n    @property(CCInteger) valor: number=10;\r\n   \r\n    tiempoRestante:number=10;\r\n    onLoad()\r\n    {\r\n       \r\n        ////COLLIDER////\r\n        let collider = this.getComponent(Collider2D);\r\n        if (collider) \r\n        {\r\n            // Called only once when two colliding bodies start to make contact\r\n            //collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n            //collider.on(Contact2DType.END_CONTACT, this.onEndContact, this);\r\n \r\n        }\r\n    }\r\n    destruye(){\r\n        \r\n        this.node.getComponent(Sprite).enabled = false;\r\n        this.node.getComponent(Collider2D).enabled = false;\r\n        this.scheduleOnce(function(){\r\n            this.node.destroy();\r\n        },1)\r\n       \r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    update(dt) \r\n    {\r\n        /*if(this.player.getComponent(Lanzame).iman&&this.tipo==\"moneda\")\r\n            {\r\n                this.Iman(dt);\r\n                \r\n                let newPosition = this.node.worldPosition.lerp(this.player.getWorldPosition(), 2 * dt);\r\n               \r\n                this.node.worldPosition = newPosition;\r\n                \r\n                \r\n            }*/\r\n    }\r\n\r\n    Iman(dt)\r\n    {\r\n        if (this.tiempoRestante > 0) {\r\n            this.tiempoRestante-=dt; // Reduce el tiempo restante\r\n           \r\n        } \r\n        else \r\n        {\r\n            /*this.player.getComponent(Lanzame).iman=false;\r\n            this.managerG.iman=0;\r\n            this.managerG.Save();*/\r\n        }\r\n    }\r\n\r\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D)\r\n    {\r\n        if(otherCollider.group ==4)\r\n        {\r\n           /* this.manager.moneda=false;\r\n            this.manager.contadorTarjetas += this.valor;\r\n            this.managerG.contadorTarjetas += this.valor;\r\n                   \r\n            this.manager.score+=this.valor;\r\n            \r\n                    \r\n            this.manager.ActualizaScore();\r\n           \r\n            switch(this.tipo)\r\n            {\r\n                \r\n                case 'tarjeta':\r\n                    this.manager.moneda=false;\r\n                    this.manager.contadorTarjetas += this.valor;\r\n                    this.managerG.contadorTarjetas += this.valor;\r\n                   \r\n                    this.manager.score+=this.valor;\r\n                    \r\n                    this.manager.ActualizaScore(false);\r\n                    break;\r\n                case 'moneda':\r\n                    this.manager.moneda=true;\r\n                    this.manager.contadorMonedas++;\r\n                   \r\n                    this.manager.score+=this.valor;\r\n                    \r\n                    this.manager.ActualizaScore(true);\r\n                    break;\r\n            }\r\n\r\n               // this.node.active=false;\r\n\r\n            this.scheduleOnce(function()\r\n            {\r\n                this.node.destroy();\r\n            },1)*/\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Vec3, Vec2, math, CCBoolean, Collider2D, Contact2DType, find, CCFloat, Sprite } from 'cc';\r\n//import {GeneracionMapa} from \"./GeneracionMapa\"\r\nimport { SpawnMapa } from './SpawnMapa';\r\nimport { Manager } from '../Manager';\r\nimport { Objetos } from '../Objetos';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PlayerController')\r\nexport class PlayerController extends Component {\r\n    @property(Node)\r\n    roundabout: Node | null = null; // Referencia a la rotonda en el escenario\r\n\r\n    @property(CCFloat)\r\n    public speed: number = 200; // Velocidad lineal del coche\r\n    @property(CCBoolean)\r\n    private isTurning: boolean = false; // Estado de si el coche est girando\r\n    private targetRotation: number = 0; // Rotacin objetivo en grados\r\n    private angleSpeed: number = 100; // Velocidad angular para el giro en la rotonda\r\n    private angle: number = 0; // ngulo actual de rotacin alrededor de la rotonda\r\n    private radius: number = 0; // Distancia entre el coche y el centro de la rotonda\r\n    @property(Vec2)\r\n    private center : Vec2 = null;\r\n    private exitDirection : Vec2 = new Vec2(0,0);\r\n    private exitRotationOffset: number = -90;\r\n    private Inicio : boolean = false;\r\n    @property(CCBoolean)\r\n    private GameOver : boolean = false;\r\n\r\n    @property(Node)\r\n    public SpawnMapa : Node = null;\r\n\r\n    @property(Node)\r\n    public manager : Node = null;\r\n    private reset : number = 10;\r\n    \r\n\r\n\r\n\r\n    \r\n    protected onLoad(): void {\r\n        this.manager = find(\"Canvas/Manager\");\r\n        this.SpawnMapa = find(\"Canvas/Generador\");\r\n        const collision = this.node.getComponent(Collider2D);\r\n       \r\n        if(collision){\r\n            collision.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n            collision.on(Contact2DType.END_CONTACT, this.onEndCollision, this)\r\n        }\r\n    }\r\n     // Mtodo para manejar el clic y detener el giro\r\n    Lanzame() {\r\n        if (this.isTurning) {\r\n            // Detener el giro y permitir el movimiento en lnea recta\r\n            this.isTurning = false;\r\n            \r\n\r\n            // Tambin aplicar el giro a la rotacin visual del coche\r\n            this.node.angle += this.exitRotationOffset;\r\n           \r\n        }\r\n    }\r\n  \r\n    update(deltaTime: number) {\r\n        \r\n        if (!this.isTurning && !this.Inicio) {\r\n            // Movimiento recto en el eje Y en 2D\r\n            this.node.setPosition(\r\n                this.node.position.x, \r\n                this.node.position.y +this.speed * deltaTime\r\n            );\r\n        } else {\r\n            if(!this.isTurning){\r\n                    this.node.setPosition(this.node.position.x + this.exitDirection.x * this.speed * deltaTime,\r\n                    this.node.position.y + this.exitDirection.y * this.speed * deltaTime\r\n                );\r\n               this.manager.getComponent(Manager).actualizarContador(deltaTime);\r\n            }\r\n            else{\r\n                   // Movimiento de giro alrededor de la rotonda en 2D\r\n                this.rotateAroundRoundabout(deltaTime);\r\n            }\r\n         \r\n            \r\n\r\n            \r\n        }\r\n    }\r\n\r\n    // Mtodo que detecta la colisin con la rotonda\r\n    \r\n        // Mtodo que detecta la colisin con la rotonda\r\n        onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D) {\r\n            console.log(\"Choque con \" +  otherCollider.group.toString() + otherCollider.node.name)\r\n            if (otherCollider.group == 2) {\r\n                this.manager.getComponent(Manager).tiempoRestante = this.reset;\r\n                this.GameOver = false;\r\n                this.speed += 10;\r\n                if(!this.Inicio){\r\n                    this.Inicio= true;\r\n                }\r\n                this.SpawnMapa.getComponent(SpawnMapa).Listo = true;\r\n                this.roundabout = otherCollider.node;\r\n                this.SpawnMapa.getComponent(SpawnMapa).RotondaOrigen = this.roundabout;\r\n                this.isTurning = true;\r\n                // Calcula el centro de la rotonda para girar alrededor\r\n                \r\n                this.center = new Vec2(this.roundabout.position.x,this.roundabout.position.y);          \r\n                // Calcula la distancia entre el coche y el centro de la rotonda\r\n                const carPosition = new Vec2(this.node.position.x, this.node.position.y);\r\n                this.radius = Vec2.distance(this.center, carPosition);\r\n                // Calcula el ngulo inicial del coche respecto al centro de la rotonda\r\n                const direction = carPosition.subtract(this.center);\r\n                this.angle = Math.atan2(direction.y, direction.x);\r\n                \r\n            }\r\n            if(otherCollider.group == 1){ // choque con tarjeta suma puntos\r\n                this.manager.getComponent(Manager).score += otherCollider.getComponent(Objetos).valor;\r\n               \r\n                this.manager.getComponent(Manager).ActualizaScore(otherCollider.getComponent(Objetos).valor);\r\n                otherCollider.node.getComponent(Objetos).destruye();\r\n            }\r\n        }\r\n        onEndCollision(selfCollider: Collider2D, otherCollider: Collider2D){\r\n            \r\n        }\r\n        \r\n        startTurning(center: Vec2) {\r\n            // Obtiene la direccin desde la posicin actual hacia el centro de la rotonda\r\n            const direction = new Vec2(center.x - this.node.position.x, center.y - this.node.position.y);\r\n            // Calcula el ngulo hacia el centro de la rotonda en radianes y lo convierte a grados\r\n            this.targetRotation = Math.atan2(direction.y, direction.x) * (180 / Math.PI);\r\n        }\r\n    \r\n        rotateAroundRoundabout(deltaTime: number) {\r\n              // Incrementa el ngulo para simular el movimiento circular\r\n                this.angle += this.speed * deltaTime / this.radius;\r\n\r\n                // Calcula la nueva posicin del coche en el crculo\r\n                const x = this.center.x + this.radius * Math.cos(this.angle);\r\n                const y = this.center.y + this.radius * Math.sin(this.angle);\r\n\r\n                // Actualiza la posicin del coche\r\n                this.node.setPosition(x, y);\r\n                ////----------------------------------------------------------------\r\n                const currentRotation = this.node.angle; // Rotacin actual en 2D\r\n                const targetAngle = this.targetRotation;\r\n                const newAngle = this.angle * (180 / Math.PI);\r\n                this.node.angle = newAngle; // Aplica la nueva rotacin\r\n                // Si la rotacin actual an no ha alcanzado el ngulo objetivo\r\n                /*if (Math.abs(currentRotation - targetAngle) > 90) {\r\n                    // Interpola la rotacin del coche hacia el objetivo usando lerp\r\n                    \r\n                } else {\r\n                    // Cuando alcanza el ngulo objetivo, sigue rotando en crculo\r\n                    const rotationAngle = currentRotation + this.angleSpeed * deltaTime;\r\n                    this.node.angle = rotationAngle;\r\n                }*/\r\n                    this.exitDirection = new Vec2(Math.cos(this.angle), Math.sin(this.angle));\r\n                    \r\n                    \r\n        }\r\n    \r\n       \r\n    }\r\n\r\n\r\n\r\n","import { _decorator, Component, Node, SpriteFrame, find, Sprite,Button } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SeleccionColor')\r\nexport class SeleccionColor extends Component {\r\n\r\n    @property([SpriteFrame]) amarillo: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) azul: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) verde: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) rojo: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) naranja: SpriteFrame[]=[];\r\n\r\n    @property([Node]) modelos: Node[]=[];\r\n\r\n\r\n    onLoad()\r\n    {\r\n        //this.modelos[0]= find(\"Canvas/Modelo01\");\r\n        //this.modelos[1]= find(\"Canvas/Modelo02\");\r\n        //this.modelos[2]= find(\"Canvas/Modelo03\");\r\n\r\n        this.modelos[0].children[1].children[0].getComponent(Sprite).spriteFrame=this.amarillo[1];\r\n    }\r\n\r\n    start() \r\n    {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    Colores(color:string)\r\n    {\r\n        if(this.modelos[0].active)\r\n            {\r\n                this.Seleccion(color,0);\r\n            }\r\n\r\n        if(this.modelos[1].active)\r\n            {\r\n                this.Seleccion(color,1);\r\n            }\r\n\r\n        if(this.modelos[2].active)\r\n            {\r\n                this.Seleccion(color,2);\r\n            }\r\n    }\r\n\r\n    Seleccion(color:string, modelo: number)\r\n    {\r\n        //console.log(\"cambio de color\");\r\n        switch(color)\r\n        {\r\n            case 'amarillo':\r\n                this.modelos[modelo].children[1].children[0].getComponent(Sprite).spriteFrame=this.amarillo[1];\r\n                if(this.modelos[modelo].children[1].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[1].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[1].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[1].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'azul':\r\n                this.modelos[modelo].children[1].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[1].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[1].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                if(this.modelos[modelo].children[1].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[1].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[1].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'verde':\r\n                this.modelos[modelo].children[1].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[1].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[1].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[2].getComponent(Sprite).spriteFrame=this.verde[1];\r\n                if(this.modelos[modelo].children[1].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[1].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'rojo':\r\n                this.modelos[modelo].children[1].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[1].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[1].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[1].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[3].getComponent(Sprite).spriteFrame=this.rojo[1];\r\n                if(this.modelos[modelo].children[1].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'naranja':\r\n                this.modelos[modelo].children[1].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[1].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[1].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[1].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[1].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[1].children[4].getComponent(Sprite).spriteFrame=this.naranja[1];\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, CCBoolean, Component, find, instantiate, Node, Prefab, randomRangeInt, Vec2, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SpawnMapa')\r\nexport class SpawnMapa extends Component {\r\n\r\n    @property(Prefab)\r\n    public ListaPrefab : Prefab [] = [];\r\n    @property(Node)\r\n    public RotondaOrigen : Node = null;\r\n    @property(CCBoolean)\r\n    public Listo : boolean = false;\r\n    private camino : number = 0;\r\n    @property(CCBoolean)\r\n    private inicio : boolean = false;\r\n    protected onLoad(): void {\r\n        this.inicio = true;\r\n        this.RotondaOrigen = find (\"Canvas/Generador/Orbita\");\r\n    }\r\n    start() {\r\n\r\n    }\r\n    instanciaCaminos(){\r\n        if ( this.inicio){\r\n            this.inicio = false;\r\n            this.camino = randomRangeInt(0,2);\r\n            switch(this.camino){\r\n                case 0: \r\n                \r\n                    const node = instantiate(this.ListaPrefab[0]);\r\n                    node.parent = this.node;\r\n                    node.position = new Vec3( this.RotondaOrigen.position.x-270, this.RotondaOrigen.position.y +515, 0);\r\n                    node.angle = 5;\r\n                    this.camino = 1;\r\n                    \r\n                \r\n                \r\n                \r\n                break;\r\n                case 1:\r\n                    \r\n                        const node1 = instantiate(this.ListaPrefab[1]);\r\n                        node1.parent = this.node;\r\n                        node1.position = new Vec3( this.RotondaOrigen.position.x +270, this.RotondaOrigen.position.y +515, 0);\r\n                        node1.angle = -5;\r\n                        this.camino=0;\r\n                    \r\n                \r\n               \r\n                break;\r\n            }\r\n        }\r\n        else{\r\n            switch(this.camino){\r\n                case 0: \r\n                \r\n                    const node = instantiate(this.ListaPrefab[0]);\r\n                    node.parent = this.node;\r\n                    node.position = new Vec3( this.RotondaOrigen.position.x-270, this.RotondaOrigen.position.y +515, 0);\r\n                    node.angle = 5;\r\n                    this.camino = 1;\r\n                    \r\n                \r\n                \r\n                \r\n                break;\r\n                case 1:\r\n                    \r\n                        const node1 = instantiate(this.ListaPrefab[1]);\r\n                        node1.parent = this.node;\r\n                        node1.position = new Vec3( this.RotondaOrigen.position.x +270, this.RotondaOrigen.position.y +515, 0);\r\n                        node1.angle = -5;\r\n                        this.camino=0;\r\n                    \r\n                \r\n               \r\n                break;\r\n            }\r\n        }\r\n       \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n        if(this.Listo){\r\n            this.Listo = false;\r\n            this.instanciaCaminos();\r\n            \r\n        }\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, randomRangeInt, instantiate, v3, Prefab, Vec3, CCInteger, find, Vec2 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Tarjetas')\r\nexport class Tarjetas extends Component {\r\n\r\n    @property ([Node])\r\n    private posiciones:Node []=[];\r\n    @property (Node)\r\n    public tarjeta:Node = null;\r\n    @property(Node)\r\n    private Intsnacia : Node = null;\r\n    @property(CCInteger)\r\n    public position : number = 0;\r\n  \r\n\r\n    onLoad()\r\n    {\r\n        //this.tarjeta = this.node.getChildByPath(\"Tarjeta\")\r\n       // this.tarjeta.active=false;\r\n    }\r\n    start() {\r\n       \r\n        \r\n        \r\n        this.tarjeta = find(\"Canvas/Tarjeta\")\r\n        const node = instantiate(this.tarjeta)\r\n        node.parent = this.node;\r\n        this.Intsnacia = node;\r\n        this.Mostrar();\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    Mostrar()\r\n    {\r\n        this.position=randomRangeInt(0, 4);\r\n\r\n        switch(this.position)\r\n        {\r\n            case 0:\r\n             \r\n               \r\n                this.Intsnacia.parent= this.posiciones[0];\r\n                this.Intsnacia.setPosition(0,0,0)\r\n               \r\n                break;\r\n            case 1:\r\n                \r\n            this.Intsnacia.parent= this.posiciones[1];\r\n            this.Intsnacia.setPosition(0,0,0)\r\n                \r\n                break;\r\n            case 2:\r\n                \r\n           this.Intsnacia.parent= this.posiciones[2];\r\n           this.Intsnacia.setPosition(0,0,0)\r\n               \r\n                break;\r\n            case 3:\r\n                \r\n           this.Intsnacia.parent= this.posiciones[3];\r\n           this.Intsnacia.setPosition(0,0,0)   \r\n               \r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, find, Node } from 'cc';\r\nimport { PlayerController } from './NEW/PlayerController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Touch')\r\nexport class Touch extends Component {\r\n    @property (Node)\r\n    public Player : Node = null;\r\n    protected onLoad(): void {\r\n        this.Player = find(\"Canvas/Player\");\r\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart, this)\r\n        this.node.on(Node.EventType.TOUCH_CANCEL,this.onTouchCancel, this)\r\n    }\r\n    onTouchStart(event:Touch){\r\n        console.log(\"Haces cilck\")\r\n        this.Player.getComponent(PlayerController).Lanzame();\r\n    }\r\n    onTouchCancel(){\r\n\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}