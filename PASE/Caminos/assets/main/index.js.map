{"version":3,"sources":["../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/ButtonMessage.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CambioEscena.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CarrulItems.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Coche.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CollisionesPared.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CompraColor.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CompraObjetos.ts","../file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/FollowPlayer.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/info.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Instrucciones.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Manager.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/ManagerGeneral.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Raycast.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/RemovePieza.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/RotarPiezas.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SeleccionColor.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SelladoPieza.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SpawnPiso.ts"],"names":["ccclass","_decorator","property","_dec","_dec2","Coche","_descriptor","_applyDecoratedDescriptor","_class2","_Component","ButtonMessage","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_assertThisInitialized","_inheritsLoose","_proto","prototype","sendMessageToParent","_window$parent","window","parent","postMessage","score","this","manScore","Score","sendMessageToExit","_window$parent2","state","sendMessageToRestart","_window$parent3","status","sendMessageToStart","_window$parent4","Component","configurable","enumerable","writable","initializer","_class","_RF","pop","CCString","CambioEscena","onLoad","cambio","director","preloadScene","name2","toString","completedCount","totalCount","item","error","asset","Carga","loadScene","Node","_dec3","_dec4","CarrulItems","_descriptor2","index","_descriptor3","ma","find","i","items","active","botones","start","update","deltaTime","next","console","log","back","EstoyActivo","index_","children","CCFloat","_dec5","Vec3","_dec6","_dec7","_dec8","RigidBody","_dec9","CCBoolean","_dec10","_dec11","_dec12","CCInteger","_dec13","Label","_dec14","ManagerGeneral","_dec15","_dec16","speedMax","valormin","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","valorx","valory","negativ","_descriptor9","_descriptor10","aumenta","GameOver","_descriptor11","_descriptor12","ScoreGameOver","_descriptor13","_descriptor14","_descriptor15","a","rigid","node","getComponentInChildren","SpawnPisoNode","speed","ScoreText","getComponent","string","collider","Collider","on","onCollisionEnter","onCollisionExit","SpawnPiso","tiempo","tiempoSpawn","contadorTarjetas","managerG","scheduleOnce","inicio","AnularFuerzas","Muerto","message","event","otherCollider","getGroup","Padre","RotarPieza","FollowPlayer","derecha","SelladoPieza","Derecha","Sellado","yaPaso","getChildByName","ParticleSystem","play","RemovePieza","remove","indexP","IndexPieza","info","nombre","setRotationFromEuler","destroy","Power","Animation","contadortarjetas","Save","avanza","moveDirection","x","y","setPosition","aumentaDif","tiempoRotacion","Actualizar","CollisionesPared","onControllerTriggerEnter","SpriteFrame","Button","Color","_dec17","_dec18","_dec19","_dec20","CompraColor","_descriptor16","_descriptor17","_descriptor18","_descriptor19","subMenu","desbloqueado","CargaCocheDesbloqueado","botonCompra","EventType","CLICK","Compra","cerrar","Cerrar","Sprite","spriteFrame","normalFrame","normalSprite","colorFinal","colorID","miColorID","modeloID","miModeloID","SaveCoche","LoadData","hoverSprite","costoString","color","colorTexto","colorTextoNormal","Seleccion","name","costo","subSprite","colorModelo","MeAlcanza","coche","pressedSprite","tarjeta","interactable","onDisable","valor","ActualizaCompras","Comprado","CocheDesbloqueado","CompraObjetos","desMOD","miCosto","modelo","colores","SeleccionColor","Colores","azul","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","WHITE","BLACK","RED","GREEN","BLUE","Canvas","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","miscNode","buttonNode","instantiate","titleNode","newLabel","EnableAllCompositeModeButton","setScale","labelComponent","overflow","currentRow","newNode","singleModeToggle","textComponent","RichText","Toggle","TOGGLE","toggleSingleMode","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","toggleComponent","activeValue","aleja","SpawnP","mueveCamara","target","currentPosition","position","clone","lerp","zoomOut","Camera","orthoHeight","math","targetD","z","targetI","Instrucciones","sys","isMobile","mobile","listaFinal","PC","lista","Mesh","Material","Manager","modeloCoche","miColor","MiCoche","player","MeshRenderer","mesh","modelos","setSharedMaterial","materiales","dt","localStorage","setItem","contadorMonedas","contadormonedas","getItem","parseInt","tipo","CargaCoche","colorIDString","modeloIDString","undefined","warn","comprado","compra","meCompraron","Raycast","rotateY","input","Input","TOUCH_START","onTouchStart","_this$mainCamera","PhysicsSystem","instance","resetAccumulator","touch","getLocation","ray","geometry","Ray","mainCamera","screenPointToRay","raycast","results","raycastResults","clickedNode","rotateNode","rotapieza","RotaPieza","Math","floor","currentRotation","getRotation","additionalRotation","Quat","fromEuler","rotationAngle","newRotation","multiply","setRotation","onDestroy","off","RotarPiezas","ultima","ontouch","TOUCH_MOVE","TOUCH_END","ontouchcancel","TOUCH_CANCEL","ultimaPieza","rotation","cambiaultima","numb","Spawn","GameObjetc","amarillo","verde","rojo","naranja","SellarPiezas","Prefab","creando","distanciax","distanciaz","PowerUp","indexPiezasOrdenar","vertical","asignaindex","pieza","crea","izquierda","randomRangeInt","horizontal","LimiteH","node2","prefab","RotaRandomPieza","push","node1","valorMax","LimiteV","node3","ordenaPiezas","ind","max","Pieza","random","rotaty"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, Component, Button } from 'cc';\r\nimport { Coche } from './Coche';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ButtonMessage')\r\nexport class ButtonMessage extends Component {\r\n    @property(Coche)\r\n    public manScore : Coche = null;\r\n\r\n\r\n    sendMessageToParent() {\r\n        window.parent?.postMessage({\r\n            score: this.manScore.Score\r\n        }, '*');\r\n    }\r\n    sendMessageToExit() {\r\n        window.parent?.postMessage({\r\n            state: 'exit'\r\n        }, '*');\r\n    }\r\n    sendMessageToRestart() {\r\n        window.parent?.postMessage({\r\n            status: 'reset'\r\n        }, '*');\r\n    }\r\n     sendMessageToStart() {\r\n        window.parent?.postMessage({\r\n            status: 'start'\r\n        }, '*');\r\n    }\r\n}","import { _decorator, Component, director, SceneAsset, CCString } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CambioEscena')\r\nexport class CambioEscena extends Component {\r\n    @property(CCString)\r\n    public name2 : String = \"\";\r\n    onLoad() {\r\n        // Agrega un evento de clic al botn\r\n       \r\n       this.cambio();\r\n    }\r\n\r\n   \r\n    cambio() {\r\n       \r\nvar progress = 0;\r\n       director.preloadScene(this.name2.toString(), (completedCount: number, totalCount: number, item: any) => {\r\n        progress = completedCount / totalCount;\r\n    }, (error: Error, asset: SceneAsset) => {\r\n        //do something after preloaded scene\r\n       \r\n    });\r\n       \r\n    }\r\n    Carga(){\r\n         director.loadScene(this.name2.toString());\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find } from 'cc';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CarrulItems')\r\nexport class CarrulItems extends Component \r\n{\r\n    @property(Node) public botones: Node[]=[];\r\n    @property(Node) public items: Node[]=[];\r\n    index:number=0;\r\n    @property (Node) ma:Node=null;\r\n\r\n    onLoad()\r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        for(let i=1;i<this.items.length;i++)\r\n            {\r\n                this.items[i].active=false;\r\n            }\r\n        \r\n        //this.items[2].active=false;\r\n        this.index=0;\r\n        this.botones[1].active=false;\r\n    }\r\n    start() \r\n    {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        if(this.index==0)\r\n            {\r\n                this.botones[1].active=false;\r\n            }else\r\n            {\r\n                this.botones[1].active=true;\r\n            }\r\n     \r\n            if(this.index==this.items.length-1)\r\n            {\r\n                this.botones[0].active=false;\r\n            }\r\n            else\r\n            {\r\n                this.botones[0].active=true;\r\n            }\r\n    }\r\n\r\n    next()\r\n    {\r\n        console.log(\"next\");\r\n        if(this.index<this.items.length-1)\r\n            {\r\n                this.index++;\r\n                this.items[this.index].active=true;\r\n                this.items[this.index-1].active=false;\r\n                console.log(this.index);\r\n                //this.EstoyActivo(this.index);\r\n                \r\n            }\r\n    }\r\n\r\n    back()\r\n    {\r\n        console.log(\"back\");\r\n        if(this.index>0)\r\n            {\r\n                this.index--;\r\n                this.items[this.index].active=true;\r\n                this.items[this.index+1].active=false;\r\n                console.log(this.index);\r\n                //this.EstoyActivo(this.index);\r\n            }\r\n    }\r\n\r\n    EstoyActivo(index_:number)\r\n    {\r\n        if(this.items[index_].children[0].active)\r\n        {\r\n            //this.ma.getComponent(SeleccionColor).MeSeleccionaron(index_);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, RigidBody, Vec3, CCFloat, CCBoolean, Collider, ICollisionEvent, find, CCInteger, ParticleSystem, Animation, Label, Button } from 'cc';\r\nimport { info } from './info';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nimport { FollowPlayer } from './FollowPlayer';\r\nimport { RemovePieza } from './RemovePieza';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { ButtonMessage } from './ButtonMessage';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Coche')\r\nexport class Coche extends Component {\r\n    @property(CCFloat)\r\n    public speed:number;\r\n    private speedMax : number =20;\r\n    private valormin : number = .1;\r\n    @property(CCFloat)\r\n    public tiempoSpawn : number = 0;\r\n    @property(CCFloat)\r\n    public tiempoRotacion : number = 0;\r\n    @property(Vec3)\r\n    public moveDirection : Vec3 = new Vec3;\r\n    @property (CCFloat)\r\n    public angle : number = 0;\r\n    @property(Node)\r\n    public nodeImage : Node = null;\r\n    @property(RigidBody)\r\n    private rigid:RigidBody = null;\r\n    @property(CCBoolean)\r\n    private inicio :boolean = false;\r\n    private valorx : number = 0;\r\n    private valory : number = 0;\r\n    private negativ :boolean = false;\r\n    @property(Node)\r\n    private SpawnPisoNode : Node = null;\r\n    @property(Node)\r\n    private RotarPieza : Node = null;\r\n    private aumenta : boolean = false;\r\n    private GameOver : Node = null;\r\n    @property(CCInteger)\r\n    private indexP : number = 0;\r\n    @property(Label)\r\n    public ScoreText : Label = null;\r\n    public Score : number = 0;\r\n    private ScoreGameOver : Label = null;\r\n    \r\n    @property(ManagerGeneral)managerG:ManagerGeneral=null;\r\n   @property(Node)\r\n   public message : Node = null;\r\n    @property(CCInteger) public contadorTarjetas:number=0;\r\n    a:Node=null;\r\n\r\n\r\n    protected onLoad(): void {\r\n        this.a=find(\"Canvas/ManagerGeneral\");\r\n        \r\n        this.Score = 0;\r\n        this.rigid = this.node.getComponentInChildren(RigidBody);\r\n        this.SpawnPisoNode = find(\"ManagerMapa\")\r\n        this.valorx = (this.speed/100) * -1;\r\n        this.GameOver = find(\"Canvas/gameover\");\r\n        this.ScoreText = find(\"Canvas/Marcos/Score\").getComponent(Label);\r\n        this.ScoreGameOver = find(\"Canvas/gameover/fin/Score\").getComponent(Label);\r\n       \r\n        this.ScoreText.string = this.Score.toString();\r\n        this.GameOver.active=false;\r\n       \r\n        \r\n       \r\n        const collider = this.getComponentInChildren(Collider);\r\n        if (collider) {\r\n            // Registrar los eventos de colisin\r\n            collider.on('onTriggerEnter', this.onCollisionEnter, this);\r\n            //collider.on('onCollisionStay', this.onCollisionStay, this);\r\n            collider.on('onCollisionExit', this.onCollisionExit, this);\r\n        }\r\n        this.SpawnPisoNode.getComponent(SpawnPiso).tiempo = this.tiempoSpawn;\r\n\r\n        this.contadorTarjetas=this.managerG.contadorTarjetas;\r\n        \r\n    }\r\n    start() {\r\n        \r\n        this.scheduleOnce(function(){\r\n            this.inicio = true;\r\n        },5)\r\n\r\n       \r\n        \r\n    }\r\n    AnularFuerzas(){\r\n        if(!this.GameOver.active){\r\n            this.GameOver.active = true;\r\n            //  this.rigid.clearForces();\r\n            this.valorx = 0;\r\n            this.valory = 0;\r\n            this.inicio=false;\r\n            this.SpawnPisoNode.getComponent(SpawnPiso).Muerto = true;\r\n            this.ScoreGameOver.string = this.ScoreText.string;\r\n            // this.RotarPieza.getComponent(RotarPiezas).Muerto = true;\r\n          this.message.getComponent(ButtonMessage).sendMessageToParent();\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    onCollisionEnter(event: ICollisionEvent) {\r\n        // Lgica cuando comienza una colisin\r\n       //console.log('Colisin detectada al entrar con: ', event.otherCollider.name);\r\n       if(event.otherCollider.getGroup()==64){\r\n        const Padre = event.otherCollider.node.parent \r\n        this.RotarPieza.getComponent(FollowPlayer).derecha = Padre.getComponent(SelladoPieza).Derecha;\r\n        //console.log (Padre.name);\r\n        Padre.getComponent(SelladoPieza).Sellado = true;\r\n        if(!Padre.getComponent(SelladoPieza).yaPaso){\r\n            Padre.getChildByName(\"Particulas\").getComponent(ParticleSystem).play();\r\n            Padre.getComponent(SelladoPieza).yaPaso=true;\r\n            this.Score +=1;\r\n            this.ScoreText.string = this.Score.toString();\r\n            ////////\r\n        }\r\n        Padre.getComponent(RemovePieza).remove();\r\n       \r\n        this.indexP = Padre.getComponent(SelladoPieza).IndexPieza;\r\n        let name : number = event.otherCollider.node.getComponent(info).nombre;\r\n       \r\n        switch(name){\r\n            case 0:\r\n                //vertical;\r\n               //this.rigid.clearVelocity();\r\n               //this.rigid.clearForces();\r\n               //this.rigid.applyLocalForce(new Vec3(this.moveDirection.x * -2.5,0,this.moveDirection.y * -2));\r\n               this.node.setRotationFromEuler(new Vec3(0,0,0))\r\n               this.valorx = (this.speed/100) * -1;\r\n                this.valory = 0;\r\n                break;\r\n            case 1:\r\n                //Izquierda\r\n                this.valorx = 0;\r\n               this.node.setRotationFromEuler(new Vec3(0,-90,0))\r\n                this.valory = (this.speed/100) * -1;\r\n               // this.valory = -1/100;\r\n                break;\r\n            case 2:\r\n                //Derecha\r\n               this.valorx = 0;\r\n                this.node.setRotationFromEuler(new Vec3(0,90,0))\r\n                this.valory = (this.speed/100) * 1;\r\n                //this.valory = 1/100;\r\n                \r\n                break;\r\n            case 3:\r\n               this.node.setRotationFromEuler(new Vec3(0,0,0))\r\n                this.valorx = (this.speed/100) * -1;\r\n                this.valory = 0;\r\n                \r\n               \r\n                break;\r\n            case 4:\r\n                 //Horizontal\r\n                 this.valorx = 0;\r\n\r\n                \r\n        }\r\n        \r\n       }\r\n       if (event.otherCollider.getGroup() == 16){\r\n            //console.log(\"Toque tarejta \" + event.otherCollider.getGroup().toString())\r\n            event.otherCollider.node.getComponent(Collider).destroy();\r\n            this.SpawnPisoNode.getComponent(SpawnPiso).Power(this.indexP);\r\n            event.otherCollider.node.getComponent(Animation).play(\"Tarjeta-Desaparece\");\r\n            console.log(\"ORDENA\");\r\n\r\n            /*CONTADOR TARJETAS*/\r\n            this.contadorTarjetas+=5;\r\n            console.log(\"this.contadorTarjetas\"+this.contadorTarjetas);\r\n            this.managerG.contadorTarjetas=this.contadorTarjetas;\r\n            this.managerG.contadortarjetas = this.contadorTarjetas.toString();\r\n            console.log(\"this.managerG.contadorTarjetas\"+this.managerG.contadorTarjetas);\r\n            this.managerG.Save();\r\n       }\r\n    }\r\n    onCollisionExit(event:ICollisionEvent){\r\n       // console.log('Colisin detectada al salir con: ', event.otherCollider.node.name);\r\n    }\r\n    avanza(){\r\n        this.moveDirection.x += this.valorx;\r\n        this.moveDirection.y += this.valory;\r\n        this.node.setPosition(new Vec3 ( this.moveDirection.x, 0,this.moveDirection.y));\r\n        //this.moveDirection.y += this.valory;\r\n\r\n       // this.angle = Math.atan2(this.moveDirection.x, this.moveDirection.y) * (-180 / Math.PI);\r\n        //Vec3.normalize(this.moveDirection, this.moveDirection);\r\n       // this.nodeImage.angle=this.angle;\r\n        //this.rigid.applyLocalForce(new Vec3(this.moveDirection.x * this.speed,0,this.moveDirection.y * this.speed));\r\n    }\r\n    aumentaDif(){\r\n        this.speed += .5;\r\n        if(this.speed >= this.speedMax){\r\n            this.speed = this.speedMax;\r\n        }\r\n        this.tiempoSpawn -= .8\r\n        \r\n       \r\n        if(this.tiempoSpawn <= this.valormin){\r\n            this.tiempoSpawn = this.valormin;\r\n        }\r\n        this.SpawnPisoNode.getComponent(SpawnPiso).tiempo = this.tiempoSpawn;\r\n        this.tiempoRotacion -= .08;\r\n        this.aumenta=false;\r\n        \r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n        if(this.inicio){\r\n            this.avanza();\r\n            if(!this.aumenta)\r\n            {\r\n                this.aumenta = true;\r\n                this.scheduleOnce(function(){\r\n                    this.aumentaDif()\r\n                },10)\r\n            }\r\n        }\r\n    }\r\n\r\n    Actualizar()\r\n    {\r\n        this.managerG.contadorTarjetas=this.contadorTarjetas;\r\n        console.log(this.managerG.contadorTarjetas);\r\n\r\n        this.managerG.Save();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Collider, ICollisionEvent } from 'cc';\r\nimport{Coche} from \"./Coche\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CollisionesPared')\r\nexport class CollisionesPared extends Component {\r\n\r\n\r\n\r\n    protected onLoad(): void {\r\n        const collider = this.getComponent(Collider);\r\n        if(collider){\r\n           \r\n            collider.on('onTriggerEnter',this.onControllerTriggerEnter, this)\r\n            collider.on('onCollisionExit', this.onCollisionExit, this);\r\n        }\r\n        \r\n        \r\n    }\r\n    onControllerTriggerEnter(event: ICollisionEvent){\r\n        //console.log(event.otherCollider.getGroup().toString());\r\n        if(event.otherCollider.getGroup()== 2){\r\n            //console.log(\"Chocaste contra pared nub\");\r\n            this.node.parent.getComponent(Coche).AnularFuerzas();\r\n        }\r\n       \r\n\r\n    }\r\n   \r\n    onCollisionExit(event: ICollisionEvent){\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find, Button, Sprite, Color, color, Label, CCFloat, CCString, SpriteFrame, CCBoolean } from 'cc';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CompraColor')\r\nexport class CompraColor extends Component \r\n{\r\n    @property(Node) subMenu: Node=null;\r\n    @property(Label) costoString:Label=null;\r\n    @property(Node) subSprite:Node=null;\r\n    /////////////////////////////////////////////\r\n    @property(CCFloat) costo:number=0;\r\n    @property (SpriteFrame) colorFinal:SpriteFrame=null;\r\n    @property (SpriteFrame) colorModelo:SpriteFrame=null;\r\n    @property(Node) coche:Node;//modelo del coche para ventana compra\r\n\r\n    ////////////////////////////////////////////////\r\n    @property(CCFloat) miColorID:number;\r\n    @property(CCFloat) miModeloID:number;\r\n    \r\n    /////////////////////////////////////////////////\r\n    @property (Button) botonCompra: Button;\r\n    @property(Button) cerrar:Button;\r\n\r\n    managerG:ManagerGeneral;\r\n    ma:Node=null;\r\n\r\n    @property(Node) botones:Node=null;\r\n    @property(CCString) colors:string=\"\";\r\n    @property(Color) colorTexto:Color=null;\r\n    @property(Color) colorTextoNormal=null;\r\n    \r\n    @property(CCString) nombre:string=\"\";\r\n    @property (CCFloat) desbloqueado:number=0;\r\n    @property(SpriteFrame) normalFrame: SpriteFrame=null;\r\n\r\n    @property(CCBoolean) tarjeta:boolean=false;\r\n    \r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        //this.botones=find(\"Canvas/Botones\");\r\n        this.managerG=this.ma.getComponent(ManagerGeneral);\r\n        this.subMenu.active=false;\r\n\r\n        this.desbloqueado=this.managerG.CargaCocheDesbloqueado(this.nombre,this.desbloqueado);\r\n\r\n        \r\n        \r\n        this.botonCompra.node.on(Button.EventType.CLICK, this.Compra, this);\r\n        this.cerrar.node.on(Button.EventType.CLICK, this.Cerrar, this);\r\n\r\n    }\r\n\r\n    start() {\r\n\r\n        if(this.desbloqueado==1)\r\n            {\r\n                console.log(\"ya me desbloquearon\");\r\n                this.node.getComponent(Sprite).spriteFrame=this.normalFrame;\r\n                this.node.getComponent(Button).normalSprite=this.normalFrame;\r\n            }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.node.getComponent(Sprite).spriteFrame==this.colorFinal)\r\n            {\r\n                this.managerG.colorID=this.miColorID;\r\n                this.managerG.modeloID=this.miModeloID;\r\n\r\n                this.managerG.SaveCoche();\r\n                this.managerG.LoadData();\r\n            }\r\n            if(this.botonCompra.node.active)\r\n                {\r\n                    if(this.botonCompra.getComponent(Sprite).spriteFrame==this.botonCompra.getComponent(Button).hoverSprite)\r\n                        {\r\n                            this.costoString.color=this.colorTexto;\r\n                        }\r\n                        else\r\n                        {\r\n                            this.costoString.color=this.colorTextoNormal;\r\n                        }\r\n                }\r\n       \r\n        \r\n    }\r\n\r\n    Cerrar()\r\n    {\r\n        this.subMenu.active=false;\r\n        this.botones.active=true;\r\n        this.botonCompra.node.active=false;\r\n    }\r\n\r\n    Seleccion()\r\n    {\r\n        \r\n        if(this.node.getComponent(Sprite).spriteFrame.name=='bloqueado')\r\n        {\r\n            console.log(\"comprar\");\r\n            this.subMenu.active=true;\r\n            this.botonCompra.node.active=true;\r\n            this.costoString.string=this.costo.toString();\r\n            this.botones.active=false;\r\n            this.subSprite.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n            this.MeAlcanza();\r\n        }\r\n        else\r\n        {\r\n            console.log(\"seleccion\");\r\n            this.coche.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n            this.node.getComponent(Button).pressedSprite=this.colorFinal;\r\n            this.node.getComponent(Button).normalSprite=this.colorFinal;\r\n            //this.ma.getComponent(SeleccionColor).Colores(this.colors);\r\n            //Selecciona este color\r\n            this.managerG.colorID=this.miColorID;\r\n            this.managerG.modeloID=this.miModeloID;\r\n            this.managerG.SaveCoche();\r\n        }\r\n    }\r\n\r\n    MeAlcanza()\r\n    {\r\n        /*if(!this.tarjeta)\r\n        {\r\n            if(this.costo<=this.managerG.contadorMonedas)\r\n                {\r\n                    this.botonCompra.interactable=true;\r\n                }\r\n                else\r\n                {\r\n                    this.botonCompra.interactable=false;\r\n                    this.botonCompra.onDisable();\r\n                }     \r\n        }\r\n        else*/ if(this.tarjeta)\r\n            {\r\n                if(this.costo<=this.managerG.contadorTarjetas)\r\n                    {\r\n                        this.botonCompra.interactable=true;\r\n                        console.log(this.costo + \" \" + this.managerG.contadorTarjetas);\r\n                    }\r\n                    else\r\n                    {\r\n                        this.botonCompra.interactable=false;\r\n                        this.botonCompra.onDisable();\r\n                        console.log(\"No Alcanza\");\r\n                    }     \r\n            }\r\n        \r\n    }\r\n\r\n    Compra(valor:number)\r\n    {\r\n        if(!this.tarjeta)\r\n            this.managerG.ActualizaCompras(valor,\"moneda\");\r\n        else if(this.tarjeta)\r\n            this.managerG.ActualizaCompras(valor,\"tarjeta\");\r\n        this.costoString.color=this.colorTexto;\r\n        this.managerG.Save();\r\n        this.Comprado();\r\n        //this.candadoIcon.active=false;\r\n\r\n        //this.managerG.modeloID=this.miModeloID;\r\n        //this.managerG.colorID=this.miColorID;\r\n        this.managerG.SaveCoche();\r\n        this.managerG.LoadData();\r\n        \r\n    }\r\n\r\n    Comprado()\r\n    {\r\n        \r\n        this.node.getComponent(Sprite).spriteFrame=this.colorFinal;\r\n        console.log(this.colorModelo.name);\r\n        this.coche.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n        this.node.getComponent(Button).normalSprite=this.colorFinal;\r\n        this.node.getComponent(Button).pressedSprite=this.colorFinal;\r\n        this.subMenu.active=false;\r\n        this.botones.active=true;\r\n        this.botonCompra.node.active=false;\r\n        this.costoString.color=this.colorTextoNormal;\r\n        this.managerG.colorID=this.miColorID;\r\n        this.managerG.modeloID=this.miModeloID;\r\n        //this.ma.getComponent(SeleccionColor).Colores(this.colors);\r\n\r\n        this.managerG.CocheDesbloqueado(1,this.nombre);\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find, CCBoolean, CCFloat, Button, Label, SpriteFrame, Sprite, CCString, CCInteger } from 'cc';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CompraObjetos')\r\nexport class CompraObjetos extends Component \r\n{\r\n    managerG:ManagerGeneral;\r\n    @property (Node) ma:Node=null;\r\n    //@property(CCBoolean) moneda:Boolean;\r\n    @property(CCFloat) costo:number;\r\n    @property(Label) miCosto:Label=null;\r\n\r\n    @property(Node) colores:Node=null;\r\n    @property(SpriteFrame) azul:SpriteFrame=null;\r\n    @property(SpriteFrame) modelo:SpriteFrame=null;\r\n    @property(CCFloat) desMOD:number=0;\r\n\r\n    @property(CCString) nombre:string=\"\";\r\n    @property(CCFloat) modeloID:number=0;\r\n    \r\n\r\n\r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        this.managerG=this.ma.getComponent(ManagerGeneral);\r\n        //this,this.managerG.LoadData();\r\n        this.desMOD=this.managerG.CargaCocheDesbloqueado(this.nombre,this.desMOD);\r\n\r\n        this.miCosto.string=this.costo.toString();\r\n        this.MeAlcanza();\r\n        \r\n    }\r\n\r\n    start() \r\n    {\r\n        \r\n        if(this.desMOD==1)\r\n            {\r\n                console.log(\"modelo desbloqueado\");\r\n                this.node.parent.children[1].getComponent(Sprite).spriteFrame=this.modelo;\r\n                this.colores.active=true;\r\n                \r\n                this.ma.getComponent(SeleccionColor).Colores(\"azul\");\r\n                this.colores.children[0].getComponent(Sprite).spriteFrame=this.azul;\r\n                this.colores.children[0].getComponent(Button).normalSprite=this.azul;\r\n                //this.ma.getComponent(SeleccionColor).MeSeleccionaron(this.modeloID);\r\n                this.node.active=false;\r\n        \r\n            }\r\n            \r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    MeAlcanza()\r\n    {\r\n        if(this.costo<=this.managerG.contadorTarjetas)\r\n        {\r\n            this.node.getComponent(Button).interactable=true;\r\n        }\r\n        else\r\n        {\r\n            this.node.getComponent(Button).interactable=false;\r\n            this.node.getComponent(Button).onDisable();\r\n        }\r\n    }\r\n\r\n    Compra()\r\n    {\r\n        this.managerG.ActualizaCompras(this.costo,\"tarjeta\");\r\n                /*this.managerG.control=this.control;\r\n                this.managerG.iman=this.iman;*/\r\n\r\n                this.ma.getComponent(SeleccionColor).Colores(\"azul\");\r\n                \r\n                this.colores.active=true;\r\n                this.colores.children[0].getComponent(Sprite).spriteFrame=this.azul;\r\n                this.colores.children[0].getComponent(Button).normalSprite=this.azul;\r\n\r\n                this.managerG.colorID=0;\r\n                this.node.parent.children[1].getComponent(Sprite).spriteFrame=this.modelo;\r\n                this.managerG.modeloID=this.modeloID;\r\n                this.managerG.CocheDesbloqueado(1,this.nombre);\r\n        this.managerG.Save();\r\n        \r\n\r\n        this.node.active=false;\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, CCBoolean, Component, find, Node, Vec3, math, Camera } from 'cc';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FollowPlayer')\r\nexport class FollowPlayer extends Component {\r\n\r\n    @property(Node)\r\n    public player : Node;\r\n\r\n    @property(Node)\r\n    coche : Node;\r\n    @property(Node)\r\n    public SpawnP : Node; \r\n    @property(CCBoolean)\r\n    public derecha = false;\r\n    @property(CCBoolean)\r\n    private aleja : boolean = false;\r\n    \r\n\r\n    onLoad() {\r\n        this.scheduleOnce(function(){\r\n            this.aleja = true;\r\n        },3.5)\r\n        this.SpawnP = find(\"ManagerMapa\");\r\n       /* for(let i = 0 ; i< this.player.children.length; i++)\r\n            {\r\n                 if(this.player.children[i].active)\r\n                    {\r\n                        this.coche = this.player.children[i];\r\n                    }\r\n            }*/\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n    mueveCamara(deltaTime: number, target : Vec3){\r\n        let currentPosition : Vec3 = this.node.position.clone();\r\n        Vec3.lerp(currentPosition, this.node.position, target , .5 * deltaTime ); \r\n        this.node.setPosition( currentPosition);\r\n    }\r\n     private zoomOut(deltaTime : number){\r\n        this.node.getComponent(Camera).orthoHeight = math.lerp(this.node.getComponent(Camera).orthoHeight, 25, 0.5 * deltaTime);\r\n    }\r\n    update(deltaTime: number) {\r\n        if(this.derecha){\r\n           const targetD = new Vec3(this.coche.position.x-23,this.coche.position.y +20, this.coche.position.z+27)\r\n           this.mueveCamara(deltaTime,targetD)\r\n        }\r\n        else{\r\n            const targetI = new Vec3(this.coche.position.x-25,this.coche.position.y +20, this.coche.position.z+20)\r\n            this.mueveCamara(deltaTime,targetI);\r\n        }\r\n        if(this.aleja){\r\n            this.zoomOut(deltaTime);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, CCInteger, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('info')\r\nexport class info extends Component {\r\n    @property(CCInteger)\r\n    public nombre : number = 0;\r\n    \r\n}\r\n\r\n\r\n","import { _decorator, Component, Node,sys, director, SceneAsset } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Instrucciones')\r\nexport class Instrucciones extends Component {\r\n\r\n    @property(Node)\r\n    public PC : Node = null;\r\n    @property(Node)\r\n    public mobile : Node = null;\r\n    @property([Node])\r\n    public lista: Node[] =[];\r\n    @property([Node])\r\n    public listaFinal: Node[] =[];\r\n    @property([Node])\r\n    public botones: Node[]=[];\r\n    public index: number = 0;\r\n \r\n \r\n    onLoad() {\r\n        // Verifica si el juego se est ejecutando en un dispositivo mvil\r\n        if (sys.isMobile) {\r\n \r\n            \r\n           this.mobile.active=true;\r\n           this.listaFinal[0]=this.mobile;\r\n        } else {\r\n            // Cdigo para otras plataformas (por ejemplo, navegadores)\r\n            this.PC.active=true;\r\n           //this.mobile.active=false;\r\n \r\n           this.listaFinal[0]=this.PC;\r\n           \r\n        }\r\n \r\n        this.listaFinal[1]=this.lista[0];\r\n        \r\n    }\r\n \r\n   \r\n \r\n \r\n    start() {\r\n \r\n        this.botones[1].active=false;\r\n \r\n    }\r\n    update (){\r\n \r\n        if(this.index==0)\r\n        {\r\n            this.botones[1].active=false;\r\n        }else\r\n        {\r\n            this.botones[1].active=true;\r\n        }\r\n \r\n        if(this.index==this.listaFinal.length-1)\r\n        {\r\n            this.botones[0].active=false;\r\n        }\r\n        else\r\n        {\r\n            this.botones[0].active=true;\r\n        }\r\n        \r\n    }\r\n \r\n    next()\r\n    {\r\n        if(this.index<this.listaFinal.length-1)\r\n        {\r\n            this.index++;\r\n \r\n            this.listaFinal[this.index].active=true;\r\n            this.listaFinal[this.index-1].active=false;\r\n           \r\n           \r\n        }\r\n       \r\n    }\r\n \r\n    back()\r\n    {\r\n        if(this.index>0)\r\n        {\r\n            this.index--;\r\n            this.listaFinal[this.index].active=true;\r\n            this.listaFinal[this.index+1].active=false;\r\n           \r\n        }\r\n \r\n    }\r\n \r\n}\r\n\r\n\r\n","import { _decorator, CCBoolean, CCFloat, Component, find, Label, Node, SpriteFrame, sys, Sprite, MeshRenderer, Mesh, Color, Material } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\n\r\n@ccclass('Manager')\r\nexport class Manager extends Component \r\n{\r\n    @property(Node) player:Node=null;\r\n    @property([Mesh]) modelos:Mesh[]=[];\r\n\r\n    \r\n\r\n    @property([Material]) materiales:Material[]=[];\r\n    \r\n    \r\n\r\n    @property(CCFloat) modeloCoche:number=0;\r\n    @property(CCFloat) miColor:number=0;\r\n\r\n    @property(ManagerGeneral)managerG:ManagerGeneral=null;\r\n\r\n    a:Node=null;\r\n\r\n    \r\n    /*\r\n    @property (Color) cAzul = new Color(110, 135, 231, 255);\r\n    @property (Color) cAmarillo = new Color(226, 231, 110, 255);\r\n    @property (Color) cVerde = new Color(110, 231, 110, 255);\r\n    @property (Color) cRojo = new Color(231, 110, 110, 255);\r\n    @property (Color) cNaranja = new Color(231, 187, 110, 255);*/\r\n\r\n    \r\n    \r\n\r\n    protected onLoad(): void \r\n    {\r\n        //this.player=find(\"Player\");\r\n        \r\n        this.a=find(\"Canvas/ManagerGeneral\");\r\n        this.managerG=this.a.getComponent(ManagerGeneral);\r\n        //this.managerG.LoadData();\r\n        \r\n        //this.managerG.CargaCoche();\r\n\r\n        //this.modeloCoche=this.managerG.modeloID;\r\n        //this.miColor=this.managerG.colorID;\r\n        this.modeloCoche=0;\r\n        this.miColor=0;\r\n        console.log(this.miColor);\r\n        \r\n\r\n        this.MiCoche();\r\n        \r\n        \r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        \r\n    }\r\n\r\n    MiCoche()\r\n    {\r\n        console.log(\"this.miColor\");\r\n        switch(this.modeloCoche)\r\n        {\r\n            case 0:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[0];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n                //this.ColorCoche(this.player.getComponent(MeshRenderer));\r\n                \r\n                break;\r\n            case 1:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[1];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n               \r\n                break;\r\n            case 2:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[2];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n               \r\n                break;\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, CCFloat, sys, CCString, Label, find, CCInteger } from 'cc';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ManagerGeneral')\r\nexport class ManagerGeneral extends Component {\r\n\r\n    @property (CCFloat) public score: number=0;\r\n    @property(CCInteger) public contadorMonedas:number=0;\r\n    @property(CCInteger) public contadorTarjetas:number=0;\r\n    @property(CCString)\r\n    public contadortarjetas : string = \"\";\r\n    @property(CCString)\r\n    public contadormonedas : string = \"\";\r\n    @property(Label) monedas:Label=null;\r\n    @property(Label) tarjetas:Label=null;\r\n    @property(CCFloat) public colorID:number=0;\r\n    @property(CCFloat) public modeloID:number=0;\r\n    \r\n    /*\r\n    @property([CCFloat]) // Especifica que es un array de nmeros flotantes\r\n    miCoche: number[][] = [[0, 0]];*/\r\n\r\n    protected onLoad(): void {\r\n        //sys.localStorage.clear();//Reset\r\n        \r\n        this.LoadData();\r\n        //this.CargaCoche();\r\n       \r\n        \r\n        \r\n    }\r\n\r\n    start() {\r\n\r\n        \r\n    }\r\n\r\n    update(dt) \r\n    {\r\n        \r\n        \r\n    }\r\n\r\n    \r\n    \r\n    Save()\r\n    {\r\n        //console.log(\"Save\");\r\n        sys.localStorage.setItem('score',this.score.toString());\r\n        sys.localStorage.setItem('monedas', this.contadorMonedas.toString());\r\n        sys.localStorage.setItem('tarjetas', this.contadorTarjetas.toString());\r\n\r\n        //////////////////////////POWER UPS/////////////////////////////////////\r\n        //sys.localStorage.setItem('iman', this.iman.toString());\r\n        //sys.localStorage.setItem('control', this.control.toString());\r\n    }\r\n\r\n    LoadData()\r\n    {\r\n        this.contadormonedas=sys.localStorage.getItem('monedas');\r\n        this.contadortarjetas=sys.localStorage.getItem('tarjetas');\r\n        let imanP=sys.localStorage.getItem('iman');\r\n        let controlP=sys.localStorage.getItem('control');\r\n\r\n        /*\r\n        if(imanP)\r\n            {\r\n                this.iman=parseInt(imanP);\r\n            }\r\n        if(controlP)\r\n            {\r\n                this.control=parseInt(controlP);\r\n            }\r\n        */\r\n       /*\r\n        if(this.monedasString)\r\n            {\r\n                this.contadorMonedas=parseInt(this.monedasString);\r\n                \r\n            }\r\n        */\r\n        if(this.contadortarjetas)\r\n            {\r\n                \r\n                this.contadorTarjetas=parseInt(this.contadortarjetas);\r\n                if(this.contadorTarjetas==null)\r\n                {\r\n                    this.contadorTarjetas=0;\r\n                }\r\n            }\r\n    }\r\n\r\n    ActualizaCompras(valor:number, tipo: string)\r\n    {\r\n        switch(tipo)\r\n        {\r\n            case 'tarjeta':\r\n                this.contadorTarjetas-=valor;\r\n                break;\r\n            case 'moneda':\r\n                //this.contadorMonedas-=valor;\r\n                break;\r\n        }\r\n    }\r\n\r\n    CargaCoche()\r\n    {\r\n        /*var cocheString = sys.localStorage.getItem('coche');\r\n        if (cocheString)\r\n        {\r\n            var valores = cocheString.split(',');\r\n            this.colorID=parseInt(valores[0]);\r\n            this.modeloID=parseInt(valores[1]);\r\n            //this.miCoche=[[this.modeloID,this.colorID]];\r\n            console.log(\"cargandoCoche\");\r\n\r\n        }*/\r\n\r\n        var colorIDString=sys.localStorage.getItem('color');\r\n        var modeloIDString=sys.localStorage.getItem('modelo');\r\n\r\n        if(colorIDString)\r\n            {\r\n                this.colorID=parseInt(colorIDString);\r\n                \r\n            }\r\n        if(modeloIDString)\r\n            {\r\n                this.modeloID=parseInt(modeloIDString);\r\n\r\n            }\r\n\r\n        \r\n        \r\n        //console.log(\"cargaCoche\");\r\n        \r\n    }\r\n\r\n    SaveCoche()\r\n    {\r\n        \r\n        if (this.colorID !== undefined) {\r\n            sys.localStorage.setItem('color', this.colorID.toString());\r\n        } else {\r\n            console.warn(\"colorID est indefinido y no se pudo guardar.\");\r\n        }\r\n    \r\n        if (this.modeloID !== undefined) {\r\n            sys.localStorage.setItem('modelo', this.modeloID.toString());\r\n        } else {\r\n            console.warn(\"modeloID est indefinido y no se pudo guardar.\");\r\n        }\r\n    \r\n        console.log(\"guardaCoche\");\r\n        \r\n    }\r\n\r\n    CocheDesbloqueado(comprado: number, nombre: string)\r\n    {\r\n        sys.localStorage.setItem(nombre, comprado.toString());\r\n        //console.log(\"guarda meCompraron \"+ nombre);\r\n    }\r\n\r\n    CargaCocheDesbloqueado(nombre:string, compra: number)\r\n    {\r\n        var meCompraron=sys.localStorage.getItem(nombre);\r\n\r\n        if(meCompraron)\r\n            {\r\n                compra=parseInt(meCompraron);\r\n                console.log(\"meCompraron \"+ nombre);\r\n                \r\n            }\r\n\r\n            return compra;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Camera, Component, Node, math, PhysicsSystem, geometry,Quat, Vec2, Vec3, EventTouch, input, Input, quat, Collider } from 'cc';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Raycast')\r\nexport class Raycast extends Component {\r\n\r\n    @property(Camera)\r\n    mainCamera : Camera = null;\r\n    @property(Vec3)\r\n    rotationAngle: Vec3 = new Vec3(0, 45, 0)\r\n    private rotateY : number;\r\n    private index : number = -1;\r\n    protected onLoad(): void {\r\n        input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n    }\r\n\r\n    start() {\r\n        \r\n\r\n    }\r\n    onTouchStart(event:EventTouch){\r\n        PhysicsSystem.instance.resetAccumulator();\r\n\r\n        const touch = event.getLocation();\r\n        const ray = new geometry.Ray();\r\n         // Generar el rayo desde la cmara y la posicin del toque\r\n         this.mainCamera?.screenPointToRay(touch.x, touch.y, ray);\r\n\r\n         // Usar el sistema de fsica para verificar colisiones\r\n         if (PhysicsSystem.instance.raycast(ray)) {\r\n             const results = PhysicsSystem.instance.raycastResults;\r\n             for (let i = 0; i < results.length; i++) {\r\n                 const hit = results[i];\r\n                 const clickedNode: Node= hit.collider.node;\r\n                 //console.log(clickedNode.getComponent(Collider).getGroup().toString() + \"grupo de lo que tocaste\")\r\n                 if(clickedNode.getComponent(Collider).getGroup()==1 && !clickedNode.getComponent(SelladoPieza).Sellado){\r\n                    //console.log(\"Es la pieza\" + clickedNode.name);\r\n                    this.rotateNode(clickedNode)\r\n                 }\r\n                \r\n                  /*  if(clickedNode.parent.getComponent(SelladoPieza).Sellado){\r\n                        \r\n                    }\r\n                    else{\r\n                        console.log(\"rota pieza\")\r\n                        //clickedNode.parent;\r\n     \r\n                     // Aqu puedes agregar lo que quieres hacer cuando el objeto es clickeado\r\n                     console.log(\"Objeto clickeado:\", clickedNode.name);\r\n                     \r\n                     //this.rotapieza(clickedNode);\r\n                     this.rotateNode(clickedNode.parent)\r\n                    }*/\r\n                    \r\n                 \r\n                 \r\n             }\r\n         }\r\n\r\n    }\r\n    rotapieza(RotaPieza:Node){\r\n        const node = RotaPieza.parent;\r\n        this.rotateY += 90;\r\n        this.rotateY = Math.floor(this.rotateY);\r\n        if(this.rotateY >= 360){\r\n            this.rotateY = 0;\r\n        }    \r\n       \r\n        node.setRotationFromEuler(new Vec3(0, this.rotateY,0));\r\n    }\r\n    rotateNode(node: Node) {\r\n        // Convierte el ngulo a una rotacin en cuaternin y aplcala\r\n       // if(node.name == \"ManagerMAp\")\r\n        const currentRotation = node.getRotation();\r\n        const additionalRotation = new Quat();\r\n        Quat.fromEuler(additionalRotation, this.rotationAngle.x, this.rotationAngle.y, this.rotationAngle.z);\r\n        const newRotation = new Quat();\r\n         math.Quat.multiply (newRotation, currentRotation, additionalRotation)\r\n\r\n        node.setRotation(newRotation);\r\n    }\r\n    onDestroy() {\r\n        input.off(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RemovePieza')\r\nexport class RemovePieza extends Component {\r\n    protected onLoad(): void {\r\n       \r\n    }\r\n    start() {\r\n\r\n    }\r\n    remove(){\r\n        this.scheduleOnce(function(){\r\n            this.node.destroy();\r\n        },15)\r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Collider2D, find, Vec3, CCInteger, CCString, CCBoolean } from 'cc';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nimport {Coche} from \"./Coche\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RotarPiezas')\r\nexport class RotarPiezas extends Component {\r\n    @property(Node)\r\n    public Spawn : Node = null; //asignar desde inspector\r\n    @property(Node)\r\n    public ultimaPieza : Node = null;\r\n    @property(CCBoolean)\r\n    public Muerto : boolean = false;\r\n    \r\n    private ultima : boolean = false;\r\n    @property(CCInteger)\r\n    public rotateY : number = 0;\r\n    @property(CCInteger)\r\n    public nombre : number = 0;\r\n    @property(CCInteger)\r\n    private tiempo : number = 0;\r\n    private index : number = 0;\r\n\r\n    protected onLoad(): void {\r\n        const node = find(\"coche\");\r\n        this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n       this.node.on(Node.EventType.TOUCH_START, this.ontouch, this)\r\n       this.node.on(Node.EventType.TOUCH_MOVE, this.ontouch, this)\r\n       this.node.on(Node.EventType.TOUCH_END, this.ontouchcancel, this)\r\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.ontouchcancel,this)\r\n        \r\n    }\r\n    ontouch(event: Touch){\r\n       \r\n        this.index +=1;\r\n        if(this.ultimaPieza!=null){\r\n           // console.log(\"rota \" + this.ultimaPieza)\r\n           this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n           /* switch(this.index){\r\n                case 0: \r\n                \r\n                break;\r\n                case 1:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                break;\r\n                case 2:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                break;\r\n                case 3:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                this.index= 0;\r\n                break;\r\n            }*/\r\n           \r\n           \r\n            \r\n            this.ultimaPieza.setRotationFromEuler(new Vec3(0, this.rotateY,0))\r\n        }\r\n    }\r\n    ontouchcancel(event: Touch){\r\n\r\n    }\r\n   \r\n    cambiaultima(){\r\n        const node = find(\"coche\");\r\n        this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        const numb = this.Spawn.getComponent(SpawnPiso).GameObjetc.length;\r\n        //console.log(\"el valor del arreglo es igual a \"+ numb.toString());\r\n        this.ultimaPieza = this.Spawn.getComponent(SpawnPiso).GameObjetc[numb-1];\r\n        this.rotateY = this.ultimaPieza.rotation.y;\r\n        this.ultima = false;\r\n       // console.log(\"Cambie algo\");\r\n    }\r\n    start() {\r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if (!this.ultima && !this.Muerto) {\r\n            this.ultima = true;\r\n            this.scheduleOnce(function () {\r\n                this.cambiaultima();\r\n \r\n            }, this.tiempo);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, SpriteFrame, find, Sprite,Button } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SeleccionColor')\r\nexport class SeleccionColor extends Component {\r\n\r\n    @property([SpriteFrame]) amarillo: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) azul: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) verde: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) rojo: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) naranja: SpriteFrame[]=[];\r\n\r\n    @property([Node]) modelos: Node[]=[];\r\n\r\n\r\n    onLoad()\r\n    {\r\n        //this.modelos[0]= find(\"Canvas/Modelo01\");\r\n        //this.modelos[1]= find(\"Canvas/Modelo02\");\r\n        //this.modelos[2]= find(\"Canvas/Modelo03\");\r\n\r\n        this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n    }\r\n\r\n    start() \r\n    {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    Colores(color:string)\r\n    {\r\n        if(this.modelos[0].active)\r\n            {\r\n                this.Seleccion(color,0);\r\n            }\r\n\r\n        if(this.modelos[1].active)\r\n            {\r\n                this.Seleccion(color,1);\r\n            }\r\n\r\n        if(this.modelos[2].active)\r\n            {\r\n                this.Seleccion(color,2);\r\n            }\r\n    }\r\n\r\n    Seleccion(color:string, modelo: number)\r\n    {\r\n        //console.log(\"cambio de color\");\r\n        switch(color)\r\n        {\r\n            case 'amarillo':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[1];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'azul':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'verde':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[1];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'rojo':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[1];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'naranja':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[1];\r\n                break;\r\n        }\r\n    }\r\n\r\n    /*\r\n    MeSeleccionaron(modelo:number)\r\n    {\r\n        switch(modelo)\r\n        {\r\n            case 0:\r\n                this.modelos[0].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',1);\r\n                this.Seleccion('azul',2);\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n\r\n            case 1:\r\n                this.modelos[1].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',0);\r\n                this.Seleccion('azul',2);\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n\r\n            case 2:\r\n                this.modelos[2].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',0);\r\n                this.Seleccion('azul',1);\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n        }\r\n        \r\n    }*/\r\n}\r\n\r\n\r\n","import { _decorator, CCBoolean, CCInteger, Component, Node } from 'cc';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SelladoPieza')\r\nexport class SelladoPieza extends Component {\r\n    @property(CCBoolean)\r\n    public Sellado : boolean = false;\r\n    @property(CCInteger)\r\n    public IndexPieza : number = 0;\r\n    @property(CCBoolean)\r\n    public yaPaso : boolean = false;\r\n    @property(CCBoolean)\r\n    public Derecha : boolean = false;\r\n\r\n    protected onLoad(): void {\r\n        this.Sellado= false;\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    SellarPiezas(){\r\n        this.Sellado = true;\r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Prefab, randomRangeInt, instantiate, Vec3, CCBoolean, CCInteger, find, CCFloat, Game, ParticleSystem } from 'cc';\r\nimport { Coche } from './Coche';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SpawnPiso')\r\nexport class SpawnPiso extends Component {\r\n    @property([Prefab])\r\n    public prefab: Prefab[] = []; // Prefab para representar los Pisos del mapa\r\n    private creando: boolean = false;\r\n    private distanciax : number = 0;\r\n    @property(Node)\r\n    public GameObjetc:Node[] = [];\r\n    private distanciaz : number = 0;\r\n    @property(CCBoolean)\r\n    public derecha : boolean = false;\r\n    @property(CCBoolean)\r\n    public izquierda : boolean = false;\r\n    @property(CCInteger)\r\n    public valorMax : number = 3;\r\n    private PowerUp : boolean = false;\r\n    @property(CCInteger)\r\n    private LimiteH : number = 2;\r\n    @property(CCInteger)\r\n    private LimiteV : number = 2;\r\n    @property(CCInteger)\r\n    private horizontal : number = 0;\r\n    @property(CCInteger)\r\n    private vertical : number = 0;\r\n    @property(CCInteger)\r\n    private rotaty : number = 0 ;\r\n    @property(CCFloat)\r\n    public tiempo : number = 0;\r\n    @property(CCBoolean)\r\n    public Muerto : boolean = false;\r\n    @property(CCInteger)\r\n    public random : number = 0;\r\n    @property(CCInteger)\r\n    private index : number = 0;\r\n    private indexPiezasOrdenar = 0;\r\n    private coche : Node = null;\r\n    \r\n    \r\n    protected onLoad(): void {\r\n        this.vertical = 3;\r\n        this.coche = find(\"COCHEa\");\r\n        //this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n    Power( i : number){\r\n        this.PowerUp = true;\r\n        //this.valorMax = 1;\r\n        this.indexPiezasOrdenar = i\r\n    }\r\n    asignaindex( pieza: Node, i : number){\r\n        pieza.getComponent(SelladoPieza).IndexPieza = i;\r\n    }\r\n    crea() {\r\n       // const node = find(\"coche\");\r\n        //this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        if(this.izquierda || this.derecha){\r\n\r\n            if(this.derecha ){\r\n                this.distanciaz -=8;\r\n                const camino : number = randomRangeInt(1,3);\r\n                switch(camino){\r\n                    case 1:\r\n                        //seguir el camino en horizontal\r\n                        this.horizontal+=1;\r\n                        if(this.horizontal > this.LimiteH){\r\n                            const node2 = instantiate(this.prefab[4]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                           \r\n                            this.creando = false;\r\n                           this.derecha=false;\r\n                           this.GameObjetc.push(node2);\r\n                          \r\n                           break;\r\n                        }\r\n                        \r\n                        const node1 = instantiate(this.prefab[3]);\r\n                           node1.parent = this.node;\r\n                           node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node1);\r\n                          \r\n                            this.creando = false;\r\n                           this.GameObjetc.push(node1);\r\n                        break;\r\n                    case 2:\r\n                        //vuelta izq\r\n                        \r\n                        const node2 = instantiate(this.prefab[4]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                           \r\n                            this.creando = false;\r\n                           this.derecha=false;\r\n                           this.GameObjetc.push(node2);\r\n                           \r\n                           \r\n                        break;\r\n                       \r\n                }\r\n            }\r\n            else{\r\n                this,this.distanciaz +=8;\r\n                const camino : number = randomRangeInt(1,3);\r\n                switch(camino){\r\n                    case 1:\r\n                        //seguir el camino horizontal a la izquierda\r\n                        this.horizontal+=1;\r\n                        if(this.horizontal > this.LimiteH){\r\n                            const node2 = instantiate(this.prefab[5]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                           this.izquierda=false;\r\n                           this.GameObjetc.push(node2)\r\n                           break;\r\n                        }\r\n                        const node1 = instantiate(this.prefab[3]);\r\n                           node1.parent = this.node;\r\n                           node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node1);\r\n                           node1.getComponent(SelladoPieza).Derecha = true;\r\n                            this.creando = false;\r\n                           this.GameObjetc.push(node1);\r\n                        break;\r\n                    case 2:\r\n                        //vuelta izq\r\n                        const node2 = instantiate(this.prefab[5]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                           this.izquierda=false;\r\n                           this.GameObjetc.push(node2);\r\n                           \r\n                        break;\r\n                       \r\n                }\r\n            }\r\n        }\r\n        \r\n        \r\n        else{\r\n            this.horizontal =0;\r\n            \r\n            this.distanciax -=8;\r\n            const Inst:number = randomRangeInt(1,this.valorMax);         \r\n            switch(Inst){\r\n                case 1:\r\n                   //vertcial\r\n                   this.vertical+=1;\r\n                   if(this.vertical >= this.LimiteV){\r\n                        let opcion = randomRangeInt(1,3)\r\n                        switch(opcion){\r\n                            case 1:\r\n                            const node2 = instantiate(this.prefab[1]);\r\n                            node2.parent = this.node;\r\n                            node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                            const randomd : number = randomRangeInt(2,4);\r\n                       \r\n                            this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                            this.derecha = true;\r\n                            this.GameObjetc.push(node2);\r\n                            this.vertical=0;\r\n                            break;\r\n                    case 2:\r\n                        const node3 = instantiate(this.prefab[2]);\r\n                       node3.parent = this.node;\r\n                       node3.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      this.RotaRandomPieza(node3);\r\n                       \r\n                       this.creando = false;\r\n                       this.izquierda=true;\r\n                       this.GameObjetc.push(node3);\r\n                       this.vertical=0;\r\n                       break;\r\n\r\n                    }\r\n\r\n                   }\r\n                   else{\r\n                    const node1 = instantiate(this.prefab[0]);\r\n                    node1.parent = this.node;\r\n                    node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                    this.RotaRandomPieza(node1);\r\n                    this.creando = false;\r\n                    this.GameObjetc.push(node1);\r\n                   }\r\n                       \r\n                   \r\n                    break;\r\n                    case 2:\r\n                       //Derecha\r\n                       this.vertical=0;\r\n                       const node2 = instantiate(this.prefab[1]);\r\n                       node2.parent = this.node;\r\n                       node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      this.RotaRandomPieza(node2);\r\n                       \r\n                       this.creando = false;\r\n                       this.derecha = true;\r\n                       this.GameObjetc.push(node2);\r\n                       break;\r\n                   case 3:\r\n                       //IZQ\r\n                       this.vertical=0;\r\n                       const node3 = instantiate(this.prefab[2]);\r\n                       node3.parent = this.node;\r\n                       node3.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      \r\n                       this.RotaRandomPieza(node3);\r\n                       this.creando = false;\r\n                       this.izquierda=true;\r\n                       this.GameObjetc.push(node3);\r\n                       break;\r\n            }\r\n        }\r\n        \r\n        \r\n    }\r\n    ordenaPiezas(ind: number){\r\n        console.log(\"Ordena desde la pieza \" + ind.toString());\r\n        let max : number = ind +4;\r\n        this.coche.getComponent(Coche).Score += 4;\r\n        this.coche.getComponent(Coche).ScoreText.string= this.coche.getComponent(Coche).Score.toString();\r\n        const inicio : number = ind+1;\r\n        if(max> this.GameObjetc.length){\r\n            max = this.GameObjetc.length;\r\n        }\r\n        for(let i = inicio; i < max; i++ ){\r\n            console.log(\"Estoy entrando aqui??\" + i.toString());\r\n            this.GameObjetc[i].setRotationFromEuler(new Vec3(0,0,0));\r\n            this.GameObjetc[i].getChildByName(\"Particulas\").getComponent(ParticleSystem).play();\r\n            this.GameObjetc[i].getComponent(SelladoPieza).Sellado=true;\r\n            this.GameObjetc[i].getComponent(SelladoPieza).yaPaso = true;\r\n        }\r\n        \r\n    }\r\n    RotaRandomPieza(Pieza : Node){\r\n        \r\n        this.asignaindex(Pieza, this.index);\r\n        this.index +=1;\r\n        this.random= randomRangeInt(2,4);\r\n       // this.random = 1;\r\n        switch(this.random){\r\n            case 1:\r\n                this.rotaty = 0;\r\n            break;\r\n            case 2: \r\n                this.rotaty = 90;\r\n            break;\r\n            case 3:\r\n                this.rotaty=180;\r\n            break;\r\n\r\n        }\r\n        Pieza.setRotationFromEuler(new Vec3(0,this.rotaty,0))\r\n    }\r\n    update(deltaTime: number) {\r\n        if (!this.creando && !this.Muerto ) {\r\n            this.creando = true;\r\n            this.scheduleOnce(function () {\r\n                this.crea();\r\n \r\n            }, this.tiempo);\r\n        }\r\n        if(this.PowerUp){\r\n            this.PowerUp = false;\r\n            this.ordenaPiezas(this.indexPiezasOrdenar);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}