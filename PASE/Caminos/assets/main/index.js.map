{"version":3,"sources":["../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/ButtonMessage.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CambioEscena.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CarrulItems.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Coche.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CollisionesPared.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CompraColor.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CompraObjetos.ts","../file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/FollowPlayer.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/info.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Instrucciones.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Manager.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/ManagerGeneral.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Raycast.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/RemovePieza.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/RotarPiezas.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SeleccionColor.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SelladoPieza.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SpawnPiso.ts"],"names":["ccclass","_decorator","property","_dec","_dec2","Coche","_descriptor","_applyDecoratedDescriptor","_class2","_Component","ButtonMessage","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_assertThisInitialized","_inheritsLoose","_proto","prototype","sendMessageToParent","_window$parent","window","parent","postMessage","score","this","manScore","Score","sendMessageToExit","_window$parent2","state","sendMessageToRestart","_window$parent3","status","sendMessageToStart","_window$parent4","Component","configurable","enumerable","writable","initializer","_class","_RF","pop","CCString","CambioEscena","onLoad","cambio","director","preloadScene","name2","toString","completedCount","totalCount","item","error","asset","Carga","loadScene","Node","_dec3","_dec4","CarrulItems","_descriptor2","index","_descriptor3","ma","find","i","items","active","botones","start","update","deltaTime","next","console","log","back","EstoyActivo","index_","children","CCFloat","_dec5","Vec3","_dec6","_dec7","_dec8","RigidBody","_dec9","CCBoolean","_dec10","_dec11","_dec12","CCInteger","_dec13","Label","_dec14","ManagerGeneral","_dec15","speedMax","valormin","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","valorx","valory","negativ","_descriptor9","_descriptor10","aumenta","GameOver","_descriptor11","_descriptor12","ScoreGameOver","_descriptor13","_descriptor14","a","rigid","node","getComponentInChildren","SpawnPisoNode","speed","ScoreText","getComponent","string","collider","Collider","on","onCollisionEnter","onCollisionExit","SpawnPiso","tiempo","tiempoSpawn","contadorTarjetas","managerG","scheduleOnce","inicio","AnularFuerzas","Muerto","event","otherCollider","getGroup","Padre","RotarPieza","FollowPlayer","derecha","SelladoPieza","Derecha","Sellado","yaPaso","getChildByName","ParticleSystem","play","RemovePieza","remove","indexP","IndexPieza","info","nombre","setRotationFromEuler","destroy","Power","Animation","contadortarjetas","Save","avanza","moveDirection","x","y","setPosition","aumentaDif","tiempoRotacion","Actualizar","CollisionesPared","onControllerTriggerEnter","SpriteFrame","Button","Color","_dec16","_dec17","_dec18","_dec19","_dec20","CompraColor","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","subMenu","desbloqueado","CargaCocheDesbloqueado","botonCompra","EventType","CLICK","Compra","cerrar","Cerrar","Sprite","spriteFrame","normalFrame","normalSprite","colorFinal","colorID","miColorID","modeloID","miModeloID","SaveCoche","LoadData","hoverSprite","costoString","color","colorTexto","colorTextoNormal","Seleccion","name","costo","subSprite","colorModelo","MeAlcanza","coche","pressedSprite","tarjeta","interactable","onDisable","valor","ActualizaCompras","Comprado","CocheDesbloqueado","CompraObjetos","desMOD","miCosto","modelo","colores","SeleccionColor","Colores","azul","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","WHITE","BLACK","RED","GREEN","BLUE","Canvas","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","miscNode","buttonNode","instantiate","titleNode","newLabel","EnableAllCompositeModeButton","setScale","labelComponent","overflow","currentRow","newNode","singleModeToggle","textComponent","RichText","Toggle","TOGGLE","toggleSingleMode","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","toggleComponent","activeValue","aleja","SpawnP","mueveCamara","target","currentPosition","position","clone","lerp","zoomOut","Camera","orthoHeight","math","targetD","z","targetI","Instrucciones","sys","isMobile","mobile","listaFinal","PC","lista","Mesh","Material","Manager","CargaCoche","modeloCoche","miColor","MiCoche","player","MeshRenderer","mesh","modelos","setSharedMaterial","materiales","dt","localStorage","setItem","contadorMonedas","contadormonedas","getItem","parseInt","tipo","colorIDString","modeloIDString","undefined","warn","comprado","compra","meCompraron","Raycast","rotateY","input","Input","TOUCH_START","onTouchStart","_this$mainCamera","PhysicsSystem","instance","resetAccumulator","touch","getLocation","ray","geometry","Ray","mainCamera","screenPointToRay","raycast","results","raycastResults","clickedNode","rotateNode","rotapieza","RotaPieza","Math","floor","currentRotation","getRotation","additionalRotation","Quat","fromEuler","rotationAngle","newRotation","multiply","setRotation","onDestroy","off","RotarPiezas","ultima","ontouch","TOUCH_MOVE","TOUCH_END","ontouchcancel","TOUCH_CANCEL","ultimaPieza","rotation","cambiaultima","numb","Spawn","GameObjetc","amarillo","verde","rojo","naranja","SellarPiezas","Prefab","creando","distanciax","distanciaz","PowerUp","indexPiezasOrdenar","vertical","asignaindex","pieza","crea","izquierda","randomRangeInt","horizontal","LimiteH","node2","prefab","RotaRandomPieza","push","node1","valorMax","LimiteV","node3","ordenaPiezas","ind","max","Pieza","random","rotaty"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, Component, Button } from 'cc';\r\nimport { Coche } from './Coche';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ButtonMessage')\r\nexport class ButtonMessage extends Component {\r\n    @property(Coche)\r\n    public manScore : Coche = null;\r\n\r\n\r\n    sendMessageToParent() {\r\n        window.parent?.postMessage({\r\n            score: this.manScore.Score\r\n        }, '*');\r\n    }\r\n    sendMessageToExit() {\r\n        window.parent?.postMessage({\r\n            state: 'exit'\r\n        }, '*');\r\n    }\r\n    sendMessageToRestart() {\r\n        window.parent?.postMessage({\r\n            status: 'reset'\r\n        }, '*');\r\n    }\r\n     sendMessageToStart() {\r\n        window.parent?.postMessage({\r\n            status: 'start'\r\n        }, '*');\r\n    }\r\n}","import { _decorator, Component, director, SceneAsset, CCString } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CambioEscena')\r\nexport class CambioEscena extends Component {\r\n    @property(CCString)\r\n    public name2 : String = \"\";\r\n    onLoad() {\r\n        // Agrega un evento de clic al botn\r\n       \r\n       this.cambio();\r\n    }\r\n\r\n   \r\n    cambio() {\r\n       \r\nvar progress = 0;\r\n       director.preloadScene(this.name2.toString(), (completedCount: number, totalCount: number, item: any) => {\r\n        progress = completedCount / totalCount;\r\n    }, (error: Error, asset: SceneAsset) => {\r\n        //do something after preloaded scene\r\n       \r\n    });\r\n       \r\n    }\r\n    Carga(){\r\n         director.loadScene(this.name2.toString());\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find } from 'cc';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CarrulItems')\r\nexport class CarrulItems extends Component \r\n{\r\n    @property(Node) public botones: Node[]=[];\r\n    @property(Node) public items: Node[]=[];\r\n    index:number=0;\r\n    @property (Node) ma:Node=null;\r\n\r\n    onLoad()\r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        for(let i=1;i<this.items.length;i++)\r\n            {\r\n                this.items[i].active=false;\r\n            }\r\n        \r\n        //this.items[2].active=false;\r\n        this.index=0;\r\n        this.botones[1].active=false;\r\n    }\r\n    start() \r\n    {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        if(this.index==0)\r\n            {\r\n                this.botones[1].active=false;\r\n            }else\r\n            {\r\n                this.botones[1].active=true;\r\n            }\r\n     \r\n            if(this.index==this.items.length-1)\r\n            {\r\n                this.botones[0].active=false;\r\n            }\r\n            else\r\n            {\r\n                this.botones[0].active=true;\r\n            }\r\n    }\r\n\r\n    next()\r\n    {\r\n        console.log(\"next\");\r\n        if(this.index<this.items.length-1)\r\n            {\r\n                this.index++;\r\n                this.items[this.index].active=true;\r\n                this.items[this.index-1].active=false;\r\n                console.log(this.index);\r\n                //this.EstoyActivo(this.index);\r\n                \r\n            }\r\n    }\r\n\r\n    back()\r\n    {\r\n        console.log(\"back\");\r\n        if(this.index>0)\r\n            {\r\n                this.index--;\r\n                this.items[this.index].active=true;\r\n                this.items[this.index+1].active=false;\r\n                console.log(this.index);\r\n                //this.EstoyActivo(this.index);\r\n            }\r\n    }\r\n\r\n    EstoyActivo(index_:number)\r\n    {\r\n        if(this.items[index_].children[0].active)\r\n        {\r\n            //this.ma.getComponent(SeleccionColor).MeSeleccionaron(index_);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, RigidBody, Vec3, CCFloat, CCBoolean, Collider, ICollisionEvent, find, CCInteger, ParticleSystem, Animation, Label } from 'cc';\r\nimport { info } from './info';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nimport { FollowPlayer } from './FollowPlayer';\r\nimport { RemovePieza } from './RemovePieza';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { ButtonMessage } from './ButtonMessage';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Coche')\r\nexport class Coche extends Component {\r\n    @property(CCFloat)\r\n    public speed:number;\r\n    private speedMax : number =20;\r\n    private valormin : number = .1;\r\n    @property(CCFloat)\r\n    public tiempoSpawn : number = 0;\r\n    @property(CCFloat)\r\n    public tiempoRotacion : number = 0;\r\n    @property(Vec3)\r\n    public moveDirection : Vec3 = new Vec3;\r\n    @property (CCFloat)\r\n    public angle : number = 0;\r\n    @property(Node)\r\n    public nodeImage : Node = null;\r\n    @property(RigidBody)\r\n    private rigid:RigidBody = null;\r\n    @property(CCBoolean)\r\n    private inicio :boolean = false;\r\n    private valorx : number = 0;\r\n    private valory : number = 0;\r\n    private negativ :boolean = false;\r\n    @property(Node)\r\n    private SpawnPisoNode : Node = null;\r\n    @property(Node)\r\n    private RotarPieza : Node = null;\r\n    private aumenta : boolean = false;\r\n    private GameOver : Node = null;\r\n    @property(CCInteger)\r\n    private indexP : number = 0;\r\n    @property(Label)\r\n    public ScoreText : Label = null;\r\n    public Score : number = 0;\r\n    private ScoreGameOver : Label = null;\r\n    \r\n    @property(ManagerGeneral)managerG:ManagerGeneral=null;\r\n    @property(CCInteger) public contadorTarjetas:number=0;\r\n    a:Node=null;\r\n\r\n\r\n    protected onLoad(): void {\r\n        this.a=find(\"Canvas/ManagerGeneral\");\r\n        \r\n        this.Score = 0;\r\n        this.rigid = this.node.getComponentInChildren(RigidBody);\r\n        this.SpawnPisoNode = find(\"ManagerMapa\")\r\n        this.valorx = (this.speed/100) * -1;\r\n        this.GameOver = find(\"Canvas/gameover\");\r\n        this.ScoreText = find(\"Canvas/Marcos/Score\").getComponent(Label);\r\n        this.ScoreGameOver = find(\"Canvas/gameover/fin/Score\").getComponent(Label);\r\n       \r\n        this.ScoreText.string = this.Score.toString();\r\n        this.GameOver.active=false;\r\n       \r\n        \r\n       \r\n        const collider = this.getComponentInChildren(Collider);\r\n        if (collider) {\r\n            // Registrar los eventos de colisin\r\n            collider.on('onTriggerEnter', this.onCollisionEnter, this);\r\n            //collider.on('onCollisionStay', this.onCollisionStay, this);\r\n            collider.on('onCollisionExit', this.onCollisionExit, this);\r\n        }\r\n        this.SpawnPisoNode.getComponent(SpawnPiso).tiempo = this.tiempoSpawn;\r\n\r\n        this.contadorTarjetas=this.managerG.contadorTarjetas;\r\n        \r\n    }\r\n    start() {\r\n        \r\n        this.scheduleOnce(function(){\r\n            this.inicio = true;\r\n        },5)\r\n\r\n       \r\n        \r\n    }\r\n    AnularFuerzas(){\r\n        if(!this.GameOver.active){\r\n            this.GameOver.active = true;\r\n            //  this.rigid.clearForces();\r\n            this.valorx = 0;\r\n            this.valory = 0;\r\n            this.inicio=false;\r\n            this.SpawnPisoNode.getComponent(SpawnPiso).Muerto = true;\r\n            this.ScoreGameOver.string = this.ScoreText.string;\r\n            // this.RotarPieza.getComponent(RotarPiezas).Muerto = true;\r\n            this.managerG.getComponent(ButtonMessage).sendMessageToParent;\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    onCollisionEnter(event: ICollisionEvent) {\r\n        // Lgica cuando comienza una colisin\r\n       //console.log('Colisin detectada al entrar con: ', event.otherCollider.name);\r\n       if(event.otherCollider.getGroup()==64){\r\n        const Padre = event.otherCollider.node.parent \r\n        this.RotarPieza.getComponent(FollowPlayer).derecha = Padre.getComponent(SelladoPieza).Derecha;\r\n        //console.log (Padre.name);\r\n        Padre.getComponent(SelladoPieza).Sellado = true;\r\n        if(!Padre.getComponent(SelladoPieza).yaPaso){\r\n            Padre.getChildByName(\"Particulas\").getComponent(ParticleSystem).play();\r\n            Padre.getComponent(SelladoPieza).yaPaso=true;\r\n            this.Score +=1;\r\n            this.ScoreText.string = this.Score.toString();\r\n            ////////\r\n        }\r\n        Padre.getComponent(RemovePieza).remove();\r\n       \r\n        this.indexP = Padre.getComponent(SelladoPieza).IndexPieza;\r\n        let name : number = event.otherCollider.node.getComponent(info).nombre;\r\n       \r\n        switch(name){\r\n            case 0:\r\n                //vertical;\r\n               //this.rigid.clearVelocity();\r\n               //this.rigid.clearForces();\r\n               //this.rigid.applyLocalForce(new Vec3(this.moveDirection.x * -2.5,0,this.moveDirection.y * -2));\r\n               this.node.setRotationFromEuler(new Vec3(0,0,0))\r\n               this.valorx = (this.speed/100) * -1;\r\n                this.valory = 0;\r\n                break;\r\n            case 1:\r\n                //Izquierda\r\n                this.valorx = 0;\r\n               this.node.setRotationFromEuler(new Vec3(0,-90,0))\r\n                this.valory = (this.speed/100) * -1;\r\n               // this.valory = -1/100;\r\n                break;\r\n            case 2:\r\n                //Derecha\r\n               this.valorx = 0;\r\n                this.node.setRotationFromEuler(new Vec3(0,90,0))\r\n                this.valory = (this.speed/100) * 1;\r\n                //this.valory = 1/100;\r\n                \r\n                break;\r\n            case 3:\r\n               this.node.setRotationFromEuler(new Vec3(0,0,0))\r\n                this.valorx = (this.speed/100) * -1;\r\n                this.valory = 0;\r\n                \r\n               \r\n                break;\r\n            case 4:\r\n                 //Horizontal\r\n                 this.valorx = 0;\r\n\r\n                \r\n        }\r\n        \r\n       }\r\n       if (event.otherCollider.getGroup() == 16){\r\n            //console.log(\"Toque tarejta \" + event.otherCollider.getGroup().toString())\r\n            event.otherCollider.node.getComponent(Collider).destroy();\r\n            this.SpawnPisoNode.getComponent(SpawnPiso).Power(this.indexP);\r\n            event.otherCollider.node.getComponent(Animation).play(\"Tarjeta-Desaparece\");\r\n            console.log(\"ORDENA\");\r\n\r\n            /*CONTADOR TARJETAS*/\r\n            this.contadorTarjetas+=5;\r\n            console.log(\"this.contadorTarjetas\"+this.contadorTarjetas);\r\n            this.managerG.contadorTarjetas=this.contadorTarjetas;\r\n            this.managerG.contadortarjetas = this.contadorTarjetas.toString();\r\n            console.log(\"this.managerG.contadorTarjetas\"+this.managerG.contadorTarjetas);\r\n            this.managerG.Save();\r\n       }\r\n    }\r\n    onCollisionExit(event:ICollisionEvent){\r\n       // console.log('Colisin detectada al salir con: ', event.otherCollider.node.name);\r\n    }\r\n    avanza(){\r\n        this.moveDirection.x += this.valorx;\r\n        this.moveDirection.y += this.valory;\r\n        this.node.setPosition(new Vec3 ( this.moveDirection.x, 0,this.moveDirection.y));\r\n        //this.moveDirection.y += this.valory;\r\n\r\n       // this.angle = Math.atan2(this.moveDirection.x, this.moveDirection.y) * (-180 / Math.PI);\r\n        //Vec3.normalize(this.moveDirection, this.moveDirection);\r\n       // this.nodeImage.angle=this.angle;\r\n        //this.rigid.applyLocalForce(new Vec3(this.moveDirection.x * this.speed,0,this.moveDirection.y * this.speed));\r\n    }\r\n    aumentaDif(){\r\n        this.speed += .5;\r\n        if(this.speed >= this.speedMax){\r\n            this.speed = this.speedMax;\r\n        }\r\n        this.tiempoSpawn -= .8\r\n        \r\n       \r\n        if(this.tiempoSpawn <= this.valormin){\r\n            this.tiempoSpawn = this.valormin;\r\n        }\r\n        this.SpawnPisoNode.getComponent(SpawnPiso).tiempo = this.tiempoSpawn;\r\n        this.tiempoRotacion -= .08;\r\n        this.aumenta=false;\r\n        \r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n        if(this.inicio){\r\n            this.avanza();\r\n            if(!this.aumenta)\r\n            {\r\n                this.aumenta = true;\r\n                this.scheduleOnce(function(){\r\n                    this.aumentaDif()\r\n                },10)\r\n            }\r\n        }\r\n    }\r\n\r\n    Actualizar()\r\n    {\r\n        this.managerG.contadorTarjetas=this.contadorTarjetas;\r\n        console.log(this.managerG.contadorTarjetas);\r\n\r\n        this.managerG.Save();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Collider, ICollisionEvent } from 'cc';\r\nimport{Coche} from \"./Coche\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CollisionesPared')\r\nexport class CollisionesPared extends Component {\r\n\r\n\r\n\r\n    protected onLoad(): void {\r\n        const collider = this.getComponent(Collider);\r\n        if(collider){\r\n           \r\n            collider.on('onTriggerEnter',this.onControllerTriggerEnter, this)\r\n            collider.on('onCollisionExit', this.onCollisionExit, this);\r\n        }\r\n        \r\n        \r\n    }\r\n    onControllerTriggerEnter(event: ICollisionEvent){\r\n        //console.log(event.otherCollider.getGroup().toString());\r\n        if(event.otherCollider.getGroup()== 2){\r\n            //console.log(\"Chocaste contra pared nub\");\r\n            this.node.parent.getComponent(Coche).AnularFuerzas();\r\n        }\r\n       \r\n\r\n    }\r\n   \r\n    onCollisionExit(event: ICollisionEvent){\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find, Button, Sprite, Color, color, Label, CCFloat, CCString, SpriteFrame, CCBoolean } from 'cc';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CompraColor')\r\nexport class CompraColor extends Component \r\n{\r\n    @property(Node) subMenu: Node=null;\r\n    @property(Label) costoString:Label=null;\r\n    @property(Node) subSprite:Node=null;\r\n    /////////////////////////////////////////////\r\n    @property(CCFloat) costo:number=0;\r\n    @property (SpriteFrame) colorFinal:SpriteFrame=null;\r\n    @property (SpriteFrame) colorModelo:SpriteFrame=null;\r\n    @property(Node) coche:Node;//modelo del coche para ventana compra\r\n\r\n    ////////////////////////////////////////////////\r\n    @property(CCFloat) miColorID:number;\r\n    @property(CCFloat) miModeloID:number;\r\n    \r\n    /////////////////////////////////////////////////\r\n    @property (Button) botonCompra: Button;\r\n    @property(Button) cerrar:Button;\r\n\r\n    managerG:ManagerGeneral;\r\n    ma:Node=null;\r\n\r\n    @property(Node) botones:Node=null;\r\n    @property(CCString) colors:string=\"\";\r\n    @property(Color) colorTexto:Color=null;\r\n    @property(Color) colorTextoNormal=null;\r\n    \r\n    @property(CCString) nombre:string=\"\";\r\n    @property (CCFloat) desbloqueado:number=0;\r\n    @property(SpriteFrame) normalFrame: SpriteFrame=null;\r\n\r\n    @property(CCBoolean) tarjeta:boolean=false;\r\n    \r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        //this.botones=find(\"Canvas/Botones\");\r\n        this.managerG=this.ma.getComponent(ManagerGeneral);\r\n        this.subMenu.active=false;\r\n\r\n        this.desbloqueado=this.managerG.CargaCocheDesbloqueado(this.nombre,this.desbloqueado);\r\n\r\n        \r\n        \r\n        this.botonCompra.node.on(Button.EventType.CLICK, this.Compra, this);\r\n        this.cerrar.node.on(Button.EventType.CLICK, this.Cerrar, this);\r\n\r\n    }\r\n\r\n    start() {\r\n\r\n        if(this.desbloqueado==1)\r\n            {\r\n                console.log(\"ya me desbloquearon\");\r\n                this.node.getComponent(Sprite).spriteFrame=this.normalFrame;\r\n                this.node.getComponent(Button).normalSprite=this.normalFrame;\r\n            }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.node.getComponent(Sprite).spriteFrame==this.colorFinal)\r\n            {\r\n                this.managerG.colorID=this.miColorID;\r\n                this.managerG.modeloID=this.miModeloID;\r\n\r\n                this.managerG.SaveCoche();\r\n                this.managerG.LoadData();\r\n            }\r\n            if(this.botonCompra.node.active)\r\n                {\r\n                    if(this.botonCompra.getComponent(Sprite).spriteFrame==this.botonCompra.getComponent(Button).hoverSprite)\r\n                        {\r\n                            this.costoString.color=this.colorTexto;\r\n                        }\r\n                        else\r\n                        {\r\n                            this.costoString.color=this.colorTextoNormal;\r\n                        }\r\n                }\r\n       \r\n        \r\n    }\r\n\r\n    Cerrar()\r\n    {\r\n        this.subMenu.active=false;\r\n        this.botones.active=true;\r\n        this.botonCompra.node.active=false;\r\n    }\r\n\r\n    Seleccion()\r\n    {\r\n        \r\n        if(this.node.getComponent(Sprite).spriteFrame.name=='bloqueado')\r\n        {\r\n            console.log(\"comprar\");\r\n            this.subMenu.active=true;\r\n            this.botonCompra.node.active=true;\r\n            this.costoString.string=this.costo.toString();\r\n            this.botones.active=false;\r\n            this.subSprite.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n            this.MeAlcanza();\r\n        }\r\n        else\r\n        {\r\n            console.log(\"seleccion\");\r\n            this.coche.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n            this.node.getComponent(Button).pressedSprite=this.colorFinal;\r\n            this.node.getComponent(Button).normalSprite=this.colorFinal;\r\n            //this.ma.getComponent(SeleccionColor).Colores(this.colors);\r\n            //Selecciona este color\r\n            this.managerG.colorID=this.miColorID;\r\n            this.managerG.modeloID=this.miModeloID;\r\n            this.managerG.SaveCoche();\r\n        }\r\n    }\r\n\r\n    MeAlcanza()\r\n    {\r\n        /*if(!this.tarjeta)\r\n        {\r\n            if(this.costo<=this.managerG.contadorMonedas)\r\n                {\r\n                    this.botonCompra.interactable=true;\r\n                }\r\n                else\r\n                {\r\n                    this.botonCompra.interactable=false;\r\n                    this.botonCompra.onDisable();\r\n                }     \r\n        }\r\n        else*/ if(this.tarjeta)\r\n            {\r\n                if(this.costo<=this.managerG.contadorTarjetas)\r\n                    {\r\n                        this.botonCompra.interactable=true;\r\n                        console.log(this.costo + \" \" + this.managerG.contadorTarjetas);\r\n                    }\r\n                    else\r\n                    {\r\n                        this.botonCompra.interactable=false;\r\n                        this.botonCompra.onDisable();\r\n                        console.log(\"No Alcanza\");\r\n                    }     \r\n            }\r\n        \r\n    }\r\n\r\n    Compra(valor:number)\r\n    {\r\n        if(!this.tarjeta)\r\n            this.managerG.ActualizaCompras(valor,\"moneda\");\r\n        else if(this.tarjeta)\r\n            this.managerG.ActualizaCompras(valor,\"tarjeta\");\r\n        this.costoString.color=this.colorTexto;\r\n        this.managerG.Save();\r\n        this.Comprado();\r\n        //this.candadoIcon.active=false;\r\n\r\n        //this.managerG.modeloID=this.miModeloID;\r\n        //this.managerG.colorID=this.miColorID;\r\n        this.managerG.SaveCoche();\r\n        this.managerG.LoadData();\r\n        \r\n    }\r\n\r\n    Comprado()\r\n    {\r\n        \r\n        this.node.getComponent(Sprite).spriteFrame=this.colorFinal;\r\n        console.log(this.colorModelo.name);\r\n        this.coche.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n        this.node.getComponent(Button).normalSprite=this.colorFinal;\r\n        this.node.getComponent(Button).pressedSprite=this.colorFinal;\r\n        this.subMenu.active=false;\r\n        this.botones.active=true;\r\n        this.botonCompra.node.active=false;\r\n        this.costoString.color=this.colorTextoNormal;\r\n        this.managerG.colorID=this.miColorID;\r\n        this.managerG.modeloID=this.miModeloID;\r\n        //this.ma.getComponent(SeleccionColor).Colores(this.colors);\r\n\r\n        this.managerG.CocheDesbloqueado(1,this.nombre);\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find, CCBoolean, CCFloat, Button, Label, SpriteFrame, Sprite, CCString, CCInteger } from 'cc';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CompraObjetos')\r\nexport class CompraObjetos extends Component \r\n{\r\n    managerG:ManagerGeneral;\r\n    @property (Node) ma:Node=null;\r\n    //@property(CCBoolean) moneda:Boolean;\r\n    @property(CCFloat) costo:number;\r\n    @property(Label) miCosto:Label=null;\r\n\r\n    @property(Node) colores:Node=null;\r\n    @property(SpriteFrame) azul:SpriteFrame=null;\r\n    @property(SpriteFrame) modelo:SpriteFrame=null;\r\n    @property(CCFloat) desMOD:number=0;\r\n\r\n    @property(CCString) nombre:string=\"\";\r\n    @property(CCFloat) modeloID:number=0;\r\n    \r\n\r\n\r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        this.managerG=this.ma.getComponent(ManagerGeneral);\r\n        //this,this.managerG.LoadData();\r\n        this.desMOD=this.managerG.CargaCocheDesbloqueado(this.nombre,this.desMOD);\r\n\r\n        this.miCosto.string=this.costo.toString();\r\n        this.MeAlcanza();\r\n        \r\n    }\r\n\r\n    start() \r\n    {\r\n        \r\n        if(this.desMOD==1)\r\n            {\r\n                console.log(\"modelo desbloqueado\");\r\n                this.node.parent.children[1].getComponent(Sprite).spriteFrame=this.modelo;\r\n                this.colores.active=true;\r\n                \r\n                this.ma.getComponent(SeleccionColor).Colores(\"azul\");\r\n                this.colores.children[0].getComponent(Sprite).spriteFrame=this.azul;\r\n                this.colores.children[0].getComponent(Button).normalSprite=this.azul;\r\n                //this.ma.getComponent(SeleccionColor).MeSeleccionaron(this.modeloID);\r\n                this.node.active=false;\r\n        \r\n            }\r\n            \r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    MeAlcanza()\r\n    {\r\n        if(this.costo<=this.managerG.contadorTarjetas)\r\n        {\r\n            this.node.getComponent(Button).interactable=true;\r\n        }\r\n        else\r\n        {\r\n            this.node.getComponent(Button).interactable=false;\r\n            this.node.getComponent(Button).onDisable();\r\n        }\r\n    }\r\n\r\n    Compra()\r\n    {\r\n        this.managerG.ActualizaCompras(this.costo,\"tarjeta\");\r\n                /*this.managerG.control=this.control;\r\n                this.managerG.iman=this.iman;*/\r\n\r\n                this.ma.getComponent(SeleccionColor).Colores(\"azul\");\r\n                \r\n                this.colores.active=true;\r\n                this.colores.children[0].getComponent(Sprite).spriteFrame=this.azul;\r\n                this.colores.children[0].getComponent(Button).normalSprite=this.azul;\r\n\r\n                this.managerG.colorID=0;\r\n                this.node.parent.children[1].getComponent(Sprite).spriteFrame=this.modelo;\r\n                this.managerG.modeloID=this.modeloID;\r\n                this.managerG.CocheDesbloqueado(1,this.nombre);\r\n        this.managerG.Save();\r\n        \r\n\r\n        this.node.active=false;\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, CCBoolean, Component, find, Node, Vec3, math, Camera } from 'cc';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FollowPlayer')\r\nexport class FollowPlayer extends Component {\r\n\r\n    @property(Node)\r\n    public player : Node;\r\n\r\n    @property(Node)\r\n    coche : Node;\r\n    @property(Node)\r\n    public SpawnP : Node; \r\n    @property(CCBoolean)\r\n    public derecha = false;\r\n    @property(CCBoolean)\r\n    private aleja : boolean = false;\r\n    \r\n\r\n    onLoad() {\r\n        this.scheduleOnce(function(){\r\n            this.aleja = true;\r\n        },3.5)\r\n        this.SpawnP = find(\"ManagerMapa\");\r\n       /* for(let i = 0 ; i< this.player.children.length; i++)\r\n            {\r\n                 if(this.player.children[i].active)\r\n                    {\r\n                        this.coche = this.player.children[i];\r\n                    }\r\n            }*/\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n    mueveCamara(deltaTime: number, target : Vec3){\r\n        let currentPosition : Vec3 = this.node.position.clone();\r\n        Vec3.lerp(currentPosition, this.node.position, target , .5 * deltaTime ); \r\n        this.node.setPosition( currentPosition);\r\n    }\r\n     private zoomOut(deltaTime : number){\r\n        this.node.getComponent(Camera).orthoHeight = math.lerp(this.node.getComponent(Camera).orthoHeight, 25, 0.5 * deltaTime);\r\n    }\r\n    update(deltaTime: number) {\r\n        if(this.derecha){\r\n           const targetD = new Vec3(this.coche.position.x-23,this.coche.position.y +20, this.coche.position.z+27)\r\n           this.mueveCamara(deltaTime,targetD)\r\n        }\r\n        else{\r\n            const targetI = new Vec3(this.coche.position.x-25,this.coche.position.y +20, this.coche.position.z+20)\r\n            this.mueveCamara(deltaTime,targetI);\r\n        }\r\n        if(this.aleja){\r\n            this.zoomOut(deltaTime);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, CCInteger, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('info')\r\nexport class info extends Component {\r\n    @property(CCInteger)\r\n    public nombre : number = 0;\r\n    \r\n}\r\n\r\n\r\n","import { _decorator, Component, Node,sys, director, SceneAsset } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Instrucciones')\r\nexport class Instrucciones extends Component {\r\n\r\n    @property(Node)\r\n    public PC : Node = null;\r\n    @property(Node)\r\n    public mobile : Node = null;\r\n    @property([Node])\r\n    public lista: Node[] =[];\r\n    @property([Node])\r\n    public listaFinal: Node[] =[];\r\n    @property([Node])\r\n    public botones: Node[]=[];\r\n    public index: number = 0;\r\n \r\n \r\n    onLoad() {\r\n        // Verifica si el juego se est ejecutando en un dispositivo mvil\r\n        if (sys.isMobile) {\r\n \r\n            \r\n           this.mobile.active=true;\r\n           this.listaFinal[0]=this.mobile;\r\n        } else {\r\n            // Cdigo para otras plataformas (por ejemplo, navegadores)\r\n            this.PC.active=true;\r\n           //this.mobile.active=false;\r\n \r\n           this.listaFinal[0]=this.PC;\r\n           \r\n        }\r\n \r\n        this.listaFinal[1]=this.lista[0];\r\n        \r\n    }\r\n \r\n   \r\n \r\n \r\n    start() {\r\n \r\n        this.botones[1].active=false;\r\n \r\n    }\r\n    update (){\r\n \r\n        if(this.index==0)\r\n        {\r\n            this.botones[1].active=false;\r\n        }else\r\n        {\r\n            this.botones[1].active=true;\r\n        }\r\n \r\n        if(this.index==this.listaFinal.length-1)\r\n        {\r\n            this.botones[0].active=false;\r\n        }\r\n        else\r\n        {\r\n            this.botones[0].active=true;\r\n        }\r\n        \r\n    }\r\n \r\n    next()\r\n    {\r\n        if(this.index<this.listaFinal.length-1)\r\n        {\r\n            this.index++;\r\n \r\n            this.listaFinal[this.index].active=true;\r\n            this.listaFinal[this.index-1].active=false;\r\n           \r\n           \r\n        }\r\n       \r\n    }\r\n \r\n    back()\r\n    {\r\n        if(this.index>0)\r\n        {\r\n            this.index--;\r\n            this.listaFinal[this.index].active=true;\r\n            this.listaFinal[this.index+1].active=false;\r\n           \r\n        }\r\n \r\n    }\r\n \r\n}\r\n\r\n\r\n","import { _decorator, CCBoolean, CCFloat, Component, find, Label, Node, SpriteFrame, sys, Sprite, MeshRenderer, Mesh, Color, Material } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\n\r\n@ccclass('Manager')\r\nexport class Manager extends Component \r\n{\r\n    @property(Node) player:Node=null;\r\n    @property([Mesh]) modelos:Mesh[]=[];\r\n\r\n    \r\n\r\n    @property([Material]) materiales:Material[]=[];\r\n    \r\n    \r\n\r\n    @property(CCFloat) modeloCoche:number=0;\r\n    @property(CCFloat) miColor:number=0;\r\n\r\n    @property(ManagerGeneral)managerG:ManagerGeneral=null;\r\n\r\n    a:Node=null;\r\n\r\n    \r\n    /*\r\n    @property (Color) cAzul = new Color(110, 135, 231, 255);\r\n    @property (Color) cAmarillo = new Color(226, 231, 110, 255);\r\n    @property (Color) cVerde = new Color(110, 231, 110, 255);\r\n    @property (Color) cRojo = new Color(231, 110, 110, 255);\r\n    @property (Color) cNaranja = new Color(231, 187, 110, 255);*/\r\n\r\n    \r\n    \r\n\r\n    protected onLoad(): void \r\n    {\r\n        //this.player=find(\"Player\");\r\n        \r\n        this.a=find(\"Canvas/ManagerGeneral\");\r\n        this.managerG=this.a.getComponent(ManagerGeneral);\r\n        //this.managerG.LoadData();\r\n        \r\n        this.managerG.CargaCoche();\r\n\r\n        this.modeloCoche=this.managerG.modeloID;\r\n        this.miColor=this.managerG.colorID;\r\n        console.log(this.miColor);\r\n        \r\n\r\n        this.MiCoche();\r\n        \r\n        \r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        \r\n    }\r\n\r\n    MiCoche()\r\n    {\r\n        console.log(\"this.miColor\");\r\n        switch(this.modeloCoche)\r\n        {\r\n            case 0:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[0];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n                //this.ColorCoche(this.player.getComponent(MeshRenderer));\r\n                \r\n                break;\r\n            case 1:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[1];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n               \r\n                break;\r\n            case 2:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[2];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n               \r\n                break;\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, CCFloat, sys, CCString, Label, find, CCInteger } from 'cc';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ManagerGeneral')\r\nexport class ManagerGeneral extends Component {\r\n\r\n    @property (CCFloat) public score: number=0;\r\n    @property(CCInteger) public contadorMonedas:number=0;\r\n    @property(CCInteger) public contadorTarjetas:number=0;\r\n    @property(CCString)\r\n    public contadortarjetas : string = \"\";\r\n    @property(CCString)\r\n    public contadormonedas : string = \"\";\r\n    @property(Label) monedas:Label=null;\r\n    @property(Label) tarjetas:Label=null;\r\n    @property(CCFloat) public colorID:number=0;\r\n    @property(CCFloat) public modeloID:number=0;\r\n    \r\n    /*\r\n    @property([CCFloat]) // Especifica que es un array de nmeros flotantes\r\n    miCoche: number[][] = [[0, 0]];*/\r\n\r\n    protected onLoad(): void {\r\n        //sys.localStorage.clear();//Reset\r\n        \r\n        this.LoadData();\r\n        //this.CargaCoche();\r\n       \r\n        \r\n        \r\n    }\r\n\r\n    start() {\r\n\r\n        \r\n    }\r\n\r\n    update(dt) \r\n    {\r\n        \r\n        \r\n    }\r\n\r\n    \r\n    \r\n    Save()\r\n    {\r\n        //console.log(\"Save\");\r\n        sys.localStorage.setItem('score',this.score.toString());\r\n        sys.localStorage.setItem('monedas', this.contadorMonedas.toString());\r\n        sys.localStorage.setItem('tarjetas', this.contadorTarjetas.toString());\r\n\r\n        //////////////////////////POWER UPS/////////////////////////////////////\r\n        //sys.localStorage.setItem('iman', this.iman.toString());\r\n        //sys.localStorage.setItem('control', this.control.toString());\r\n    }\r\n\r\n    LoadData()\r\n    {\r\n        this.contadormonedas=sys.localStorage.getItem('monedas');\r\n        this.contadortarjetas=sys.localStorage.getItem('tarjetas');\r\n        let imanP=sys.localStorage.getItem('iman');\r\n        let controlP=sys.localStorage.getItem('control');\r\n\r\n        /*\r\n        if(imanP)\r\n            {\r\n                this.iman=parseInt(imanP);\r\n            }\r\n        if(controlP)\r\n            {\r\n                this.control=parseInt(controlP);\r\n            }\r\n        */\r\n       /*\r\n        if(this.monedasString)\r\n            {\r\n                this.contadorMonedas=parseInt(this.monedasString);\r\n                \r\n            }\r\n        */\r\n        if(this.contadortarjetas)\r\n            {\r\n                \r\n                this.contadorTarjetas=parseInt(this.contadortarjetas);\r\n                if(this.contadorTarjetas==null)\r\n                {\r\n                    this.contadorTarjetas=0;\r\n                }\r\n            }\r\n    }\r\n\r\n    ActualizaCompras(valor:number, tipo: string)\r\n    {\r\n        switch(tipo)\r\n        {\r\n            case 'tarjeta':\r\n                this.contadorTarjetas-=valor;\r\n                break;\r\n            case 'moneda':\r\n                //this.contadorMonedas-=valor;\r\n                break;\r\n        }\r\n    }\r\n\r\n    CargaCoche()\r\n    {\r\n        /*var cocheString = sys.localStorage.getItem('coche');\r\n        if (cocheString)\r\n        {\r\n            var valores = cocheString.split(',');\r\n            this.colorID=parseInt(valores[0]);\r\n            this.modeloID=parseInt(valores[1]);\r\n            //this.miCoche=[[this.modeloID,this.colorID]];\r\n            console.log(\"cargandoCoche\");\r\n\r\n        }*/\r\n\r\n        var colorIDString=sys.localStorage.getItem('color');\r\n        var modeloIDString=sys.localStorage.getItem('modelo');\r\n\r\n        if(colorIDString)\r\n            {\r\n                this.colorID=parseInt(colorIDString);\r\n                \r\n            }\r\n        if(modeloIDString)\r\n            {\r\n                this.modeloID=parseInt(modeloIDString);\r\n\r\n            }\r\n\r\n        \r\n        \r\n        //console.log(\"cargaCoche\");\r\n        \r\n    }\r\n\r\n    SaveCoche()\r\n    {\r\n        \r\n        if (this.colorID !== undefined) {\r\n            sys.localStorage.setItem('color', this.colorID.toString());\r\n        } else {\r\n            console.warn(\"colorID est indefinido y no se pudo guardar.\");\r\n        }\r\n    \r\n        if (this.modeloID !== undefined) {\r\n            sys.localStorage.setItem('modelo', this.modeloID.toString());\r\n        } else {\r\n            console.warn(\"modeloID est indefinido y no se pudo guardar.\");\r\n        }\r\n    \r\n        console.log(\"guardaCoche\");\r\n        \r\n    }\r\n\r\n    CocheDesbloqueado(comprado: number, nombre: string)\r\n    {\r\n        sys.localStorage.setItem(nombre, comprado.toString());\r\n        //console.log(\"guarda meCompraron \"+ nombre);\r\n    }\r\n\r\n    CargaCocheDesbloqueado(nombre:string, compra: number)\r\n    {\r\n        var meCompraron=sys.localStorage.getItem(nombre);\r\n\r\n        if(meCompraron)\r\n            {\r\n                compra=parseInt(meCompraron);\r\n                console.log(\"meCompraron \"+ nombre);\r\n                \r\n            }\r\n\r\n            return compra;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Camera, Component, Node, math, PhysicsSystem, geometry,Quat, Vec2, Vec3, EventTouch, input, Input, quat, Collider } from 'cc';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Raycast')\r\nexport class Raycast extends Component {\r\n\r\n    @property(Camera)\r\n    mainCamera : Camera = null;\r\n    @property(Vec3)\r\n    rotationAngle: Vec3 = new Vec3(0, 45, 0)\r\n    private rotateY : number;\r\n    private index : number = -1;\r\n    protected onLoad(): void {\r\n        input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n    }\r\n\r\n    start() {\r\n        \r\n\r\n    }\r\n    onTouchStart(event:EventTouch){\r\n        PhysicsSystem.instance.resetAccumulator();\r\n\r\n        const touch = event.getLocation();\r\n        const ray = new geometry.Ray();\r\n         // Generar el rayo desde la cmara y la posicin del toque\r\n         this.mainCamera?.screenPointToRay(touch.x, touch.y, ray);\r\n\r\n         // Usar el sistema de fsica para verificar colisiones\r\n         if (PhysicsSystem.instance.raycast(ray)) {\r\n             const results = PhysicsSystem.instance.raycastResults;\r\n             for (let i = 0; i < results.length; i++) {\r\n                 const hit = results[i];\r\n                 const clickedNode: Node= hit.collider.node;\r\n                 //console.log(clickedNode.getComponent(Collider).getGroup().toString() + \"grupo de lo que tocaste\")\r\n                 if(clickedNode.getComponent(Collider).getGroup()==1 && !clickedNode.getComponent(SelladoPieza).Sellado){\r\n                    //console.log(\"Es la pieza\" + clickedNode.name);\r\n                    this.rotateNode(clickedNode)\r\n                 }\r\n                \r\n                  /*  if(clickedNode.parent.getComponent(SelladoPieza).Sellado){\r\n                        \r\n                    }\r\n                    else{\r\n                        console.log(\"rota pieza\")\r\n                        //clickedNode.parent;\r\n     \r\n                     // Aqu puedes agregar lo que quieres hacer cuando el objeto es clickeado\r\n                     console.log(\"Objeto clickeado:\", clickedNode.name);\r\n                     \r\n                     //this.rotapieza(clickedNode);\r\n                     this.rotateNode(clickedNode.parent)\r\n                    }*/\r\n                    \r\n                 \r\n                 \r\n             }\r\n         }\r\n\r\n    }\r\n    rotapieza(RotaPieza:Node){\r\n        const node = RotaPieza.parent;\r\n        this.rotateY += 90;\r\n        this.rotateY = Math.floor(this.rotateY);\r\n        if(this.rotateY >= 360){\r\n            this.rotateY = 0;\r\n        }    \r\n       \r\n        node.setRotationFromEuler(new Vec3(0, this.rotateY,0));\r\n    }\r\n    rotateNode(node: Node) {\r\n        // Convierte el ngulo a una rotacin en cuaternin y aplcala\r\n       // if(node.name == \"ManagerMAp\")\r\n        const currentRotation = node.getRotation();\r\n        const additionalRotation = new Quat();\r\n        Quat.fromEuler(additionalRotation, this.rotationAngle.x, this.rotationAngle.y, this.rotationAngle.z);\r\n        const newRotation = new Quat();\r\n         math.Quat.multiply (newRotation, currentRotation, additionalRotation)\r\n\r\n        node.setRotation(newRotation);\r\n    }\r\n    onDestroy() {\r\n        input.off(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RemovePieza')\r\nexport class RemovePieza extends Component {\r\n    protected onLoad(): void {\r\n       \r\n    }\r\n    start() {\r\n\r\n    }\r\n    remove(){\r\n        this.scheduleOnce(function(){\r\n            this.node.destroy();\r\n        },15)\r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Collider2D, find, Vec3, CCInteger, CCString, CCBoolean } from 'cc';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nimport {Coche} from \"./Coche\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RotarPiezas')\r\nexport class RotarPiezas extends Component {\r\n    @property(Node)\r\n    public Spawn : Node = null; //asignar desde inspector\r\n    @property(Node)\r\n    public ultimaPieza : Node = null;\r\n    @property(CCBoolean)\r\n    public Muerto : boolean = false;\r\n    \r\n    private ultima : boolean = false;\r\n    @property(CCInteger)\r\n    public rotateY : number = 0;\r\n    @property(CCInteger)\r\n    public nombre : number = 0;\r\n    @property(CCInteger)\r\n    private tiempo : number = 0;\r\n    private index : number = 0;\r\n\r\n    protected onLoad(): void {\r\n        const node = find(\"coche\");\r\n        this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n       this.node.on(Node.EventType.TOUCH_START, this.ontouch, this)\r\n       this.node.on(Node.EventType.TOUCH_MOVE, this.ontouch, this)\r\n       this.node.on(Node.EventType.TOUCH_END, this.ontouchcancel, this)\r\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.ontouchcancel,this)\r\n        \r\n    }\r\n    ontouch(event: Touch){\r\n       \r\n        this.index +=1;\r\n        if(this.ultimaPieza!=null){\r\n           // console.log(\"rota \" + this.ultimaPieza)\r\n           this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n           /* switch(this.index){\r\n                case 0: \r\n                \r\n                break;\r\n                case 1:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                break;\r\n                case 2:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                break;\r\n                case 3:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                this.index= 0;\r\n                break;\r\n            }*/\r\n           \r\n           \r\n            \r\n            this.ultimaPieza.setRotationFromEuler(new Vec3(0, this.rotateY,0))\r\n        }\r\n    }\r\n    ontouchcancel(event: Touch){\r\n\r\n    }\r\n   \r\n    cambiaultima(){\r\n        const node = find(\"coche\");\r\n        this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        const numb = this.Spawn.getComponent(SpawnPiso).GameObjetc.length;\r\n        //console.log(\"el valor del arreglo es igual a \"+ numb.toString());\r\n        this.ultimaPieza = this.Spawn.getComponent(SpawnPiso).GameObjetc[numb-1];\r\n        this.rotateY = this.ultimaPieza.rotation.y;\r\n        this.ultima = false;\r\n       // console.log(\"Cambie algo\");\r\n    }\r\n    start() {\r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if (!this.ultima && !this.Muerto) {\r\n            this.ultima = true;\r\n            this.scheduleOnce(function () {\r\n                this.cambiaultima();\r\n \r\n            }, this.tiempo);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, SpriteFrame, find, Sprite,Button } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SeleccionColor')\r\nexport class SeleccionColor extends Component {\r\n\r\n    @property([SpriteFrame]) amarillo: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) azul: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) verde: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) rojo: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) naranja: SpriteFrame[]=[];\r\n\r\n    @property([Node]) modelos: Node[]=[];\r\n\r\n\r\n    onLoad()\r\n    {\r\n        //this.modelos[0]= find(\"Canvas/Modelo01\");\r\n        //this.modelos[1]= find(\"Canvas/Modelo02\");\r\n        //this.modelos[2]= find(\"Canvas/Modelo03\");\r\n\r\n        this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n    }\r\n\r\n    start() \r\n    {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    Colores(color:string)\r\n    {\r\n        if(this.modelos[0].active)\r\n            {\r\n                this.Seleccion(color,0);\r\n            }\r\n\r\n        if(this.modelos[1].active)\r\n            {\r\n                this.Seleccion(color,1);\r\n            }\r\n\r\n        if(this.modelos[2].active)\r\n            {\r\n                this.Seleccion(color,2);\r\n            }\r\n    }\r\n\r\n    Seleccion(color:string, modelo: number)\r\n    {\r\n        //console.log(\"cambio de color\");\r\n        switch(color)\r\n        {\r\n            case 'amarillo':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[1];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'azul':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'verde':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[1];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'rojo':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[1];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'naranja':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[1];\r\n                break;\r\n        }\r\n    }\r\n\r\n    /*\r\n    MeSeleccionaron(modelo:number)\r\n    {\r\n        switch(modelo)\r\n        {\r\n            case 0:\r\n                this.modelos[0].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',1);\r\n                this.Seleccion('azul',2);\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n\r\n            case 1:\r\n                this.modelos[1].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',0);\r\n                this.Seleccion('azul',2);\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n\r\n            case 2:\r\n                this.modelos[2].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',0);\r\n                this.Seleccion('azul',1);\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n        }\r\n        \r\n    }*/\r\n}\r\n\r\n\r\n","import { _decorator, CCBoolean, CCInteger, Component, Node } from 'cc';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SelladoPieza')\r\nexport class SelladoPieza extends Component {\r\n    @property(CCBoolean)\r\n    public Sellado : boolean = false;\r\n    @property(CCInteger)\r\n    public IndexPieza : number = 0;\r\n    @property(CCBoolean)\r\n    public yaPaso : boolean = false;\r\n    @property(CCBoolean)\r\n    public Derecha : boolean = false;\r\n\r\n    protected onLoad(): void {\r\n        this.Sellado= false;\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    SellarPiezas(){\r\n        this.Sellado = true;\r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Prefab, randomRangeInt, instantiate, Vec3, CCBoolean, CCInteger, find, CCFloat, Game, ParticleSystem } from 'cc';\r\nimport { Coche } from './Coche';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SpawnPiso')\r\nexport class SpawnPiso extends Component {\r\n    @property([Prefab])\r\n    public prefab: Prefab[] = []; // Prefab para representar los Pisos del mapa\r\n    private creando: boolean = false;\r\n    private distanciax : number = 0;\r\n    @property(Node)\r\n    public GameObjetc:Node[] = [];\r\n    private distanciaz : number = 0;\r\n    @property(CCBoolean)\r\n    public derecha : boolean = false;\r\n    @property(CCBoolean)\r\n    public izquierda : boolean = false;\r\n    @property(CCInteger)\r\n    public valorMax : number = 3;\r\n    private PowerUp : boolean = false;\r\n    @property(CCInteger)\r\n    private LimiteH : number = 2;\r\n    @property(CCInteger)\r\n    private LimiteV : number = 2;\r\n    @property(CCInteger)\r\n    private horizontal : number = 0;\r\n    @property(CCInteger)\r\n    private vertical : number = 0;\r\n    @property(CCInteger)\r\n    private rotaty : number = 0 ;\r\n    @property(CCFloat)\r\n    public tiempo : number = 0;\r\n    @property(CCBoolean)\r\n    public Muerto : boolean = false;\r\n    @property(CCInteger)\r\n    public random : number = 0;\r\n    @property(CCInteger)\r\n    private index : number = 0;\r\n    private indexPiezasOrdenar = 0;\r\n    private coche : Node = null;\r\n    \r\n    \r\n    protected onLoad(): void {\r\n        this.vertical = 3;\r\n        this.coche = find(\"COCHEa\");\r\n        //this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n    Power( i : number){\r\n        this.PowerUp = true;\r\n        //this.valorMax = 1;\r\n        this.indexPiezasOrdenar = i\r\n    }\r\n    asignaindex( pieza: Node, i : number){\r\n        pieza.getComponent(SelladoPieza).IndexPieza = i;\r\n    }\r\n    crea() {\r\n       // const node = find(\"coche\");\r\n        //this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        if(this.izquierda || this.derecha){\r\n\r\n            if(this.derecha ){\r\n                this.distanciaz -=8;\r\n                const camino : number = randomRangeInt(1,3);\r\n                switch(camino){\r\n                    case 1:\r\n                        //seguir el camino en horizontal\r\n                        this.horizontal+=1;\r\n                        if(this.horizontal > this.LimiteH){\r\n                            const node2 = instantiate(this.prefab[4]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                           \r\n                            this.creando = false;\r\n                           this.derecha=false;\r\n                           this.GameObjetc.push(node2);\r\n                          \r\n                           break;\r\n                        }\r\n                        \r\n                        const node1 = instantiate(this.prefab[3]);\r\n                           node1.parent = this.node;\r\n                           node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node1);\r\n                          \r\n                            this.creando = false;\r\n                           this.GameObjetc.push(node1);\r\n                        break;\r\n                    case 2:\r\n                        //vuelta izq\r\n                        \r\n                        const node2 = instantiate(this.prefab[4]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                           \r\n                            this.creando = false;\r\n                           this.derecha=false;\r\n                           this.GameObjetc.push(node2);\r\n                           \r\n                           \r\n                        break;\r\n                       \r\n                }\r\n            }\r\n            else{\r\n                this,this.distanciaz +=8;\r\n                const camino : number = randomRangeInt(1,3);\r\n                switch(camino){\r\n                    case 1:\r\n                        //seguir el camino horizontal a la izquierda\r\n                        this.horizontal+=1;\r\n                        if(this.horizontal > this.LimiteH){\r\n                            const node2 = instantiate(this.prefab[5]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                           this.izquierda=false;\r\n                           this.GameObjetc.push(node2)\r\n                           break;\r\n                        }\r\n                        const node1 = instantiate(this.prefab[3]);\r\n                           node1.parent = this.node;\r\n                           node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node1);\r\n                           node1.getComponent(SelladoPieza).Derecha = true;\r\n                            this.creando = false;\r\n                           this.GameObjetc.push(node1);\r\n                        break;\r\n                    case 2:\r\n                        //vuelta izq\r\n                        const node2 = instantiate(this.prefab[5]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                           this.izquierda=false;\r\n                           this.GameObjetc.push(node2);\r\n                           \r\n                        break;\r\n                       \r\n                }\r\n            }\r\n        }\r\n        \r\n        \r\n        else{\r\n            this.horizontal =0;\r\n            \r\n            this.distanciax -=8;\r\n            const Inst:number = randomRangeInt(1,this.valorMax);         \r\n            switch(Inst){\r\n                case 1:\r\n                   //vertcial\r\n                   this.vertical+=1;\r\n                   if(this.vertical >= this.LimiteV){\r\n                        let opcion = randomRangeInt(1,3)\r\n                        switch(opcion){\r\n                            case 1:\r\n                            const node2 = instantiate(this.prefab[1]);\r\n                            node2.parent = this.node;\r\n                            node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                            const randomd : number = randomRangeInt(2,4);\r\n                       \r\n                            this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                            this.derecha = true;\r\n                            this.GameObjetc.push(node2);\r\n                            this.vertical=0;\r\n                            break;\r\n                    case 2:\r\n                        const node3 = instantiate(this.prefab[2]);\r\n                       node3.parent = this.node;\r\n                       node3.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      this.RotaRandomPieza(node3);\r\n                       \r\n                       this.creando = false;\r\n                       this.izquierda=true;\r\n                       this.GameObjetc.push(node3);\r\n                       this.vertical=0;\r\n                       break;\r\n\r\n                    }\r\n\r\n                   }\r\n                   else{\r\n                    const node1 = instantiate(this.prefab[0]);\r\n                    node1.parent = this.node;\r\n                    node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                    this.RotaRandomPieza(node1);\r\n                    this.creando = false;\r\n                    this.GameObjetc.push(node1);\r\n                   }\r\n                       \r\n                   \r\n                    break;\r\n                    case 2:\r\n                       //Derecha\r\n                       this.vertical=0;\r\n                       const node2 = instantiate(this.prefab[1]);\r\n                       node2.parent = this.node;\r\n                       node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      this.RotaRandomPieza(node2);\r\n                       \r\n                       this.creando = false;\r\n                       this.derecha = true;\r\n                       this.GameObjetc.push(node2);\r\n                       break;\r\n                   case 3:\r\n                       //IZQ\r\n                       this.vertical=0;\r\n                       const node3 = instantiate(this.prefab[2]);\r\n                       node3.parent = this.node;\r\n                       node3.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      \r\n                       this.RotaRandomPieza(node3);\r\n                       this.creando = false;\r\n                       this.izquierda=true;\r\n                       this.GameObjetc.push(node3);\r\n                       break;\r\n            }\r\n        }\r\n        \r\n        \r\n    }\r\n    ordenaPiezas(ind: number){\r\n        console.log(\"Ordena desde la pieza \" + ind.toString());\r\n        let max : number = ind +4;\r\n        this.coche.getComponent(Coche).Score += 4;\r\n        this.coche.getComponent(Coche).ScoreText.string= this.coche.getComponent(Coche).Score.toString();\r\n        const inicio : number = ind+1;\r\n        if(max> this.GameObjetc.length){\r\n            max = this.GameObjetc.length;\r\n        }\r\n        for(let i = inicio; i < max; i++ ){\r\n            console.log(\"Estoy entrando aqui??\" + i.toString());\r\n            this.GameObjetc[i].setRotationFromEuler(new Vec3(0,0,0));\r\n            this.GameObjetc[i].getChildByName(\"Particulas\").getComponent(ParticleSystem).play();\r\n            this.GameObjetc[i].getComponent(SelladoPieza).Sellado=true;\r\n            this.GameObjetc[i].getComponent(SelladoPieza).yaPaso = true;\r\n        }\r\n        \r\n    }\r\n    RotaRandomPieza(Pieza : Node){\r\n        \r\n        this.asignaindex(Pieza, this.index);\r\n        this.index +=1;\r\n        this.random= randomRangeInt(2,4);\r\n       // this.random = 1;\r\n        switch(this.random){\r\n            case 1:\r\n                this.rotaty = 0;\r\n            break;\r\n            case 2: \r\n                this.rotaty = 90;\r\n            break;\r\n            case 3:\r\n                this.rotaty=180;\r\n            break;\r\n\r\n        }\r\n        Pieza.setRotationFromEuler(new Vec3(0,this.rotaty,0))\r\n    }\r\n    update(deltaTime: number) {\r\n        if (!this.creando && !this.Muerto ) {\r\n            this.creando = true;\r\n            this.scheduleOnce(function () {\r\n                this.crea();\r\n \r\n            }, this.tiempo);\r\n        }\r\n        if(this.PowerUp){\r\n            this.PowerUp = false;\r\n            this.ordenaPiezas(this.indexPiezasOrdenar);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}