{"version":3,"sources":["../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/ButtonMessage.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CambioEscena.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CarrulItems.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Coche.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CollisionesPared.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CompraColor.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/CompraObjetos.ts","../file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/FollowPlayer.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/info.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Instrucciones.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Manager.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/ManagerGeneral.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/Raycast.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/RemovePieza.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/RotarPiezas.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SeleccionColor.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SelladoPieza.ts","../file:/E:/Pase-Camino-Completo/assets/Scripts/file:/E:/Pase-Camino-Completo/assets/Scripts/SpawnPiso.ts"],"names":["ccclass","_decorator","property","_dec","_dec2","Coche","_descriptor","_applyDecoratedDescriptor","_class2","_Component","ButtonMessage","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_assertThisInitialized","_inheritsLoose","_proto","prototype","sendMessageToParent","_window$parent","window","parent","postMessage","score","this","manScore","Score","sendMessageToExit","_window$parent2","state","sendMessageToRestart","_window$parent3","sendMessageToStart","_window$parent4","Component","configurable","enumerable","writable","initializer","_class","_RF","pop","CCString","CambioEscena","onLoad","cambio","director","preloadScene","name2","toString","completedCount","totalCount","item","error","asset","Carga","loadScene","Node","_dec3","_dec4","CarrulItems","_descriptor2","index","_descriptor3","ma","find","i","items","active","botones","start","update","deltaTime","next","console","log","back","EstoyActivo","index_","children","CCFloat","_dec5","Vec3","_dec6","_dec7","_dec8","RigidBody","_dec9","CCBoolean","_dec10","_dec11","_dec12","CCInteger","_dec13","Label","_dec14","ManagerGeneral","_dec15","_dec16","speedMax","valormin","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","valorx","valory","negativ","_descriptor9","_descriptor10","aumenta","GameOver","_descriptor11","_descriptor12","ScoreGameOver","_descriptor13","_descriptor14","_descriptor15","a","rigid","node","getComponentInChildren","SpawnPisoNode","speed","ScoreText","getComponent","string","collider","Collider","on","onCollisionEnter","onCollisionExit","SpawnPiso","tiempo","tiempoSpawn","contadorTarjetas","managerG","scheduleOnce","inicio","AnularFuerzas","Muerto","message","event","otherCollider","getGroup","Padre","RotarPieza","FollowPlayer","derecha","SelladoPieza","Derecha","Sellado","yaPaso","getChildByName","ParticleSystem","play","RemovePieza","remove","indexP","IndexPieza","info","nombre","setRotationFromEuler","destroy","Power","Animation","contadortarjetas","Save","avanza","moveDirection","x","y","setPosition","aumentaDif","tiempoRotacion","Actualizar","CollisionesPared","onControllerTriggerEnter","SpriteFrame","Button","Color","_dec17","_dec18","_dec19","_dec20","CompraColor","_descriptor16","_descriptor17","_descriptor18","_descriptor19","subMenu","desbloqueado","CargaCocheDesbloqueado","botonCompra","EventType","CLICK","Compra","cerrar","Cerrar","Sprite","spriteFrame","normalFrame","normalSprite","colorFinal","colorID","miColorID","modeloID","miModeloID","SaveCoche","LoadData","hoverSprite","costoString","color","colorTexto","colorTextoNormal","Seleccion","name","costo","subSprite","colorModelo","MeAlcanza","coche","pressedSprite","tarjeta","interactable","onDisable","valor","ActualizaCompras","Comprado","CocheDesbloqueado","CompraObjetos","desMOD","miCosto","modelo","colores","SeleccionColor","Colores","azul","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","WHITE","BLACK","RED","GREEN","BLUE","Canvas","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","miscNode","buttonNode","instantiate","titleNode","newLabel","EnableAllCompositeModeButton","setScale","labelComponent","overflow","currentRow","newNode","singleModeToggle","textComponent","RichText","Toggle","TOGGLE","toggleSingleMode","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","toggleComponent","activeValue","aleja","SpawnP","mueveCamara","target","currentPosition","position","clone","lerp","zoomOut","Camera","orthoHeight","math","targetD","z","targetI","Instrucciones","sys","isMobile","mobile","listaFinal","PC","lista","Mesh","Material","Manager","modeloCoche","miColor","MiCoche","player","MeshRenderer","mesh","modelos","setSharedMaterial","materiales","dt","localStorage","setItem","contadorMonedas","contadormonedas","getItem","parseInt","tipo","CargaCoche","colorIDString","modeloIDString","undefined","warn","comprado","compra","meCompraron","Raycast","rotateY","input","Input","TOUCH_START","onTouchStart","_this$mainCamera","PhysicsSystem","instance","resetAccumulator","touch","getLocation","ray","geometry","Ray","mainCamera","screenPointToRay","raycast","results","raycastResults","clickedNode","rotateNode","rotapieza","RotaPieza","Math","floor","currentRotation","getRotation","additionalRotation","Quat","fromEuler","rotationAngle","newRotation","multiply","setRotation","onDestroy","off","RotarPiezas","ultima","ontouch","TOUCH_MOVE","TOUCH_END","ontouchcancel","TOUCH_CANCEL","ultimaPieza","rotation","cambiaultima","numb","Spawn","GameObjetc","amarillo","verde","rojo","naranja","SellarPiezas","Prefab","creando","distanciax","distanciaz","PowerUp","indexPiezasOrdenar","vertical","asignaindex","pieza","crea","izquierda","randomRangeInt","horizontal","LimiteH","node2","prefab","RotaRandomPieza","push","node1","valorMax","LimiteV","node3","ordenaPiezas","ind","max","Pieza","random","rotaty"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, Component, Button } from 'cc';\r\nimport { Coche } from './Coche';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ButtonMessage')\r\nexport class ButtonMessage extends Component {\r\n    @property(Coche)\r\n    public manScore : Coche = null;\r\n\r\n\r\n    sendMessageToParent() {\r\n        window.parent?.postMessage({\r\n            score: this.manScore.Score\r\n        }, '*');\r\n    }\r\n    sendMessageToExit() {\r\n        window.parent?.postMessage({\r\n            state: 'exit'\r\n        }, '*');\r\n    }\r\n    sendMessageToRestart() {\r\n        window.parent?.postMessage({\r\n            state: 'reset'\r\n        }, '*');\r\n    }\r\n     sendMessageToStart() {\r\n        window.parent?.postMessage({\r\n            state: 'start'\r\n        }, '*');\r\n    }\r\n}","import { _decorator, Component, director, SceneAsset, CCString } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CambioEscena')\r\nexport class CambioEscena extends Component {\r\n    @property(CCString)\r\n    public name2 : String = \"\";\r\n    onLoad() {\r\n        // Agrega un evento de clic al botn\r\n       \r\n       this.cambio();\r\n    }\r\n\r\n   \r\n    cambio() {\r\n       \r\nvar progress = 0;\r\n       director.preloadScene(this.name2.toString(), (completedCount: number, totalCount: number, item: any) => {\r\n        progress = completedCount / totalCount;\r\n    }, (error: Error, asset: SceneAsset) => {\r\n        //do something after preloaded scene\r\n       \r\n    });\r\n       \r\n    }\r\n    Carga(){\r\n         director.loadScene(this.name2.toString());\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find } from 'cc';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CarrulItems')\r\nexport class CarrulItems extends Component \r\n{\r\n    @property(Node) public botones: Node[]=[];\r\n    @property(Node) public items: Node[]=[];\r\n    index:number=0;\r\n    @property (Node) ma:Node=null;\r\n\r\n    onLoad()\r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        for(let i=1;i<this.items.length;i++)\r\n            {\r\n                this.items[i].active=false;\r\n            }\r\n        \r\n        //this.items[2].active=false;\r\n        this.index=0;\r\n        this.botones[1].active=false;\r\n    }\r\n    start() \r\n    {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        if(this.index==0)\r\n            {\r\n                this.botones[1].active=false;\r\n            }else\r\n            {\r\n                this.botones[1].active=true;\r\n            }\r\n     \r\n            if(this.index==this.items.length-1)\r\n            {\r\n                this.botones[0].active=false;\r\n            }\r\n            else\r\n            {\r\n                this.botones[0].active=true;\r\n            }\r\n    }\r\n\r\n    next()\r\n    {\r\n        console.log(\"next\");\r\n        if(this.index<this.items.length-1)\r\n            {\r\n                this.index++;\r\n                this.items[this.index].active=true;\r\n                this.items[this.index-1].active=false;\r\n                console.log(this.index);\r\n                //this.EstoyActivo(this.index);\r\n                \r\n            }\r\n    }\r\n\r\n    back()\r\n    {\r\n        console.log(\"back\");\r\n        if(this.index>0)\r\n            {\r\n                this.index--;\r\n                this.items[this.index].active=true;\r\n                this.items[this.index+1].active=false;\r\n                console.log(this.index);\r\n                //this.EstoyActivo(this.index);\r\n            }\r\n    }\r\n\r\n    EstoyActivo(index_:number)\r\n    {\r\n        if(this.items[index_].children[0].active)\r\n        {\r\n            //this.ma.getComponent(SeleccionColor).MeSeleccionaron(index_);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, RigidBody, Vec3, CCFloat, CCBoolean, Collider, ICollisionEvent, find, CCInteger, ParticleSystem, Animation, Label, Button } from 'cc';\r\nimport { info } from './info';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nimport { FollowPlayer } from './FollowPlayer';\r\nimport { RemovePieza } from './RemovePieza';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { ButtonMessage } from './ButtonMessage';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Coche')\r\nexport class Coche extends Component {\r\n    @property(CCFloat)\r\n    public speed:number;\r\n    private speedMax : number =20;\r\n    private valormin : number = .1;\r\n    @property(CCFloat)\r\n    public tiempoSpawn : number = 0;\r\n    @property(CCFloat)\r\n    public tiempoRotacion : number = 0;\r\n    @property(Vec3)\r\n    public moveDirection : Vec3 = new Vec3;\r\n    @property (CCFloat)\r\n    public angle : number = 0;\r\n    @property(Node)\r\n    public nodeImage : Node = null;\r\n    @property(RigidBody)\r\n    private rigid:RigidBody = null;\r\n    @property(CCBoolean)\r\n    private inicio :boolean = false;\r\n    private valorx : number = 0;\r\n    private valory : number = 0;\r\n    private negativ :boolean = false;\r\n    @property(Node)\r\n    private SpawnPisoNode : Node = null;\r\n    @property(Node)\r\n    private RotarPieza : Node = null;\r\n    private aumenta : boolean = false;\r\n    private GameOver : Node = null;\r\n    @property(CCInteger)\r\n    private indexP : number = 0;\r\n    @property(Label)\r\n    public ScoreText : Label = null;\r\n    public Score : number = 0;\r\n    private ScoreGameOver : Label = null;\r\n    \r\n    @property(ManagerGeneral)managerG:ManagerGeneral=null;\r\n   @property(Node)\r\n   public message : Node = null;\r\n    @property(CCInteger) public contadorTarjetas:number=0;\r\n    a:Node=null;\r\n\r\n\r\n    protected onLoad(): void {\r\n        this.a=find(\"Canvas/ManagerGeneral\");\r\n        \r\n        this.Score = 0;\r\n        this.rigid = this.node.getComponentInChildren(RigidBody);\r\n        this.SpawnPisoNode = find(\"ManagerMapa\")\r\n        this.valorx = (this.speed/100) * -1;\r\n        this.GameOver = find(\"Canvas/gameover\");\r\n        this.ScoreText = find(\"Canvas/Marcos/Score\").getComponent(Label);\r\n        this.ScoreGameOver = find(\"Canvas/gameover/fin/Score\").getComponent(Label);\r\n       \r\n        this.ScoreText.string = this.Score.toString();\r\n        this.GameOver.active=false;\r\n       \r\n        \r\n       \r\n        const collider = this.getComponentInChildren(Collider);\r\n        if (collider) {\r\n            // Registrar los eventos de colisin\r\n            collider.on('onTriggerEnter', this.onCollisionEnter, this);\r\n            //collider.on('onCollisionStay', this.onCollisionStay, this);\r\n            collider.on('onCollisionExit', this.onCollisionExit, this);\r\n        }\r\n        this.SpawnPisoNode.getComponent(SpawnPiso).tiempo = this.tiempoSpawn;\r\n\r\n        this.contadorTarjetas=this.managerG.contadorTarjetas;\r\n        \r\n    }\r\n    start() {\r\n        \r\n        this.scheduleOnce(function(){\r\n            this.inicio = true;\r\n        },5)\r\n\r\n       \r\n        \r\n    }\r\n    AnularFuerzas(){\r\n        if(!this.GameOver.active){\r\n            this.GameOver.active = true;\r\n            //  this.rigid.clearForces();\r\n            this.valorx = 0;\r\n            this.valory = 0;\r\n            this.inicio=false;\r\n            this.SpawnPisoNode.getComponent(SpawnPiso).Muerto = true;\r\n            this.ScoreGameOver.string = this.ScoreText.string;\r\n            // this.RotarPieza.getComponent(RotarPiezas).Muerto = true;\r\n          this.message.getComponent(ButtonMessage).sendMessageToParent();\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    onCollisionEnter(event: ICollisionEvent) {\r\n        // Lgica cuando comienza una colisin\r\n       //console.log('Colisin detectada al entrar con: ', event.otherCollider.name);\r\n       if(event.otherCollider.getGroup()==64){\r\n        const Padre = event.otherCollider.node.parent \r\n        this.RotarPieza.getComponent(FollowPlayer).derecha = Padre.getComponent(SelladoPieza).Derecha;\r\n        //console.log (Padre.name);\r\n        Padre.getComponent(SelladoPieza).Sellado = true;\r\n        if(!Padre.getComponent(SelladoPieza).yaPaso){\r\n            Padre.getChildByName(\"Particulas\").getComponent(ParticleSystem).play();\r\n            Padre.getComponent(SelladoPieza).yaPaso=true;\r\n            this.Score +=1;\r\n            this.ScoreText.string = this.Score.toString();\r\n            ////////\r\n        }\r\n        Padre.getComponent(RemovePieza).remove();\r\n       \r\n        this.indexP = Padre.getComponent(SelladoPieza).IndexPieza;\r\n        let name : number = event.otherCollider.node.getComponent(info).nombre;\r\n       \r\n        switch(name){\r\n            case 0:\r\n                //vertical;\r\n               //this.rigid.clearVelocity();\r\n               //this.rigid.clearForces();\r\n               //this.rigid.applyLocalForce(new Vec3(this.moveDirection.x * -2.5,0,this.moveDirection.y * -2));\r\n               this.node.setRotationFromEuler(new Vec3(0,0,0))\r\n               this.valorx = (this.speed/100) * -1;\r\n                this.valory = 0;\r\n                break;\r\n            case 1:\r\n                //Izquierda\r\n                this.valorx = 0;\r\n               this.node.setRotationFromEuler(new Vec3(0,-90,0))\r\n                this.valory = (this.speed/100) * -1;\r\n               // this.valory = -1/100;\r\n                break;\r\n            case 2:\r\n                //Derecha\r\n               this.valorx = 0;\r\n                this.node.setRotationFromEuler(new Vec3(0,90,0))\r\n                this.valory = (this.speed/100) * 1;\r\n                //this.valory = 1/100;\r\n                \r\n                break;\r\n            case 3:\r\n               this.node.setRotationFromEuler(new Vec3(0,0,0))\r\n                this.valorx = (this.speed/100) * -1;\r\n                this.valory = 0;\r\n                \r\n               \r\n                break;\r\n            case 4:\r\n                 //Horizontal\r\n                 this.valorx = 0;\r\n\r\n                \r\n        }\r\n        \r\n       }\r\n       if (event.otherCollider.getGroup() == 16){\r\n            //console.log(\"Toque tarejta \" + event.otherCollider.getGroup().toString())\r\n            event.otherCollider.node.getComponent(Collider).destroy();\r\n            this.SpawnPisoNode.getComponent(SpawnPiso).Power(this.indexP);\r\n            event.otherCollider.node.getComponent(Animation).play(\"Tarjeta-Desaparece\");\r\n            console.log(\"ORDENA\");\r\n\r\n            /*CONTADOR TARJETAS*/\r\n            this.contadorTarjetas+=5;\r\n            console.log(\"this.contadorTarjetas\"+this.contadorTarjetas);\r\n            this.managerG.contadorTarjetas=this.contadorTarjetas;\r\n            this.managerG.contadortarjetas = this.contadorTarjetas.toString();\r\n            console.log(\"this.managerG.contadorTarjetas\"+this.managerG.contadorTarjetas);\r\n            this.managerG.Save();\r\n       }\r\n    }\r\n    onCollisionExit(event:ICollisionEvent){\r\n       // console.log('Colisin detectada al salir con: ', event.otherCollider.node.name);\r\n    }\r\n    avanza(){\r\n        this.moveDirection.x += this.valorx;\r\n        this.moveDirection.y += this.valory;\r\n        this.node.setPosition(new Vec3 ( this.moveDirection.x, 0,this.moveDirection.y));\r\n        //this.moveDirection.y += this.valory;\r\n\r\n       // this.angle = Math.atan2(this.moveDirection.x, this.moveDirection.y) * (-180 / Math.PI);\r\n        //Vec3.normalize(this.moveDirection, this.moveDirection);\r\n       // this.nodeImage.angle=this.angle;\r\n        //this.rigid.applyLocalForce(new Vec3(this.moveDirection.x * this.speed,0,this.moveDirection.y * this.speed));\r\n    }\r\n    aumentaDif(){\r\n        this.speed += .5;\r\n        if(this.speed >= this.speedMax){\r\n            this.speed = this.speedMax;\r\n        }\r\n        this.tiempoSpawn -= .8\r\n        \r\n       \r\n        if(this.tiempoSpawn <= this.valormin){\r\n            this.tiempoSpawn = this.valormin;\r\n        }\r\n        this.SpawnPisoNode.getComponent(SpawnPiso).tiempo = this.tiempoSpawn;\r\n        this.tiempoRotacion -= .08;\r\n        this.aumenta=false;\r\n        \r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n        if(this.inicio){\r\n            this.avanza();\r\n            if(!this.aumenta)\r\n            {\r\n                this.aumenta = true;\r\n                this.scheduleOnce(function(){\r\n                    this.aumentaDif()\r\n                },10)\r\n            }\r\n        }\r\n    }\r\n\r\n    Actualizar()\r\n    {\r\n        this.managerG.contadorTarjetas=this.contadorTarjetas;\r\n        console.log(this.managerG.contadorTarjetas);\r\n\r\n        this.managerG.Save();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Collider, ICollisionEvent } from 'cc';\r\nimport{Coche} from \"./Coche\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CollisionesPared')\r\nexport class CollisionesPared extends Component {\r\n\r\n\r\n\r\n    protected onLoad(): void {\r\n        const collider = this.getComponent(Collider);\r\n        if(collider){\r\n           \r\n            collider.on('onTriggerEnter',this.onControllerTriggerEnter, this)\r\n            collider.on('onCollisionExit', this.onCollisionExit, this);\r\n        }\r\n        \r\n        \r\n    }\r\n    onControllerTriggerEnter(event: ICollisionEvent){\r\n        //console.log(event.otherCollider.getGroup().toString());\r\n        if(event.otherCollider.getGroup()== 2){\r\n            //console.log(\"Chocaste contra pared nub\");\r\n            this.node.parent.getComponent(Coche).AnularFuerzas();\r\n        }\r\n       \r\n\r\n    }\r\n   \r\n    onCollisionExit(event: ICollisionEvent){\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find, Button, Sprite, Color, color, Label, CCFloat, CCString, SpriteFrame, CCBoolean } from 'cc';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CompraColor')\r\nexport class CompraColor extends Component \r\n{\r\n    @property(Node) subMenu: Node=null;\r\n    @property(Label) costoString:Label=null;\r\n    @property(Node) subSprite:Node=null;\r\n    /////////////////////////////////////////////\r\n    @property(CCFloat) costo:number=0;\r\n    @property (SpriteFrame) colorFinal:SpriteFrame=null;\r\n    @property (SpriteFrame) colorModelo:SpriteFrame=null;\r\n    @property(Node) coche:Node;//modelo del coche para ventana compra\r\n\r\n    ////////////////////////////////////////////////\r\n    @property(CCFloat) miColorID:number;\r\n    @property(CCFloat) miModeloID:number;\r\n    \r\n    /////////////////////////////////////////////////\r\n    @property (Button) botonCompra: Button;\r\n    @property(Button) cerrar:Button;\r\n\r\n    managerG:ManagerGeneral;\r\n    ma:Node=null;\r\n\r\n    @property(Node) botones:Node=null;\r\n    @property(CCString) colors:string=\"\";\r\n    @property(Color) colorTexto:Color=null;\r\n    @property(Color) colorTextoNormal=null;\r\n    \r\n    @property(CCString) nombre:string=\"\";\r\n    @property (CCFloat) desbloqueado:number=0;\r\n    @property(SpriteFrame) normalFrame: SpriteFrame=null;\r\n\r\n    @property(CCBoolean) tarjeta:boolean=false;\r\n    \r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        //this.botones=find(\"Canvas/Botones\");\r\n        this.managerG=this.ma.getComponent(ManagerGeneral);\r\n        this.subMenu.active=false;\r\n\r\n        this.desbloqueado=this.managerG.CargaCocheDesbloqueado(this.nombre,this.desbloqueado);\r\n\r\n        \r\n        \r\n        this.botonCompra.node.on(Button.EventType.CLICK, this.Compra, this);\r\n        this.cerrar.node.on(Button.EventType.CLICK, this.Cerrar, this);\r\n\r\n    }\r\n\r\n    start() {\r\n\r\n        if(this.desbloqueado==1)\r\n            {\r\n                console.log(\"ya me desbloquearon\");\r\n                this.node.getComponent(Sprite).spriteFrame=this.normalFrame;\r\n                this.node.getComponent(Button).normalSprite=this.normalFrame;\r\n            }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if(this.node.getComponent(Sprite).spriteFrame==this.colorFinal)\r\n            {\r\n                this.managerG.colorID=this.miColorID;\r\n                this.managerG.modeloID=this.miModeloID;\r\n\r\n                this.managerG.SaveCoche();\r\n                this.managerG.LoadData();\r\n            }\r\n            if(this.botonCompra.node.active)\r\n                {\r\n                    if(this.botonCompra.getComponent(Sprite).spriteFrame==this.botonCompra.getComponent(Button).hoverSprite)\r\n                        {\r\n                            this.costoString.color=this.colorTexto;\r\n                        }\r\n                        else\r\n                        {\r\n                            this.costoString.color=this.colorTextoNormal;\r\n                        }\r\n                }\r\n       \r\n        \r\n    }\r\n\r\n    Cerrar()\r\n    {\r\n        this.subMenu.active=false;\r\n        this.botones.active=true;\r\n        this.botonCompra.node.active=false;\r\n    }\r\n\r\n    Seleccion()\r\n    {\r\n        \r\n        if(this.node.getComponent(Sprite).spriteFrame.name=='bloqueado')\r\n        {\r\n            console.log(\"comprar\");\r\n            this.subMenu.active=true;\r\n            this.botonCompra.node.active=true;\r\n            this.costoString.string=this.costo.toString();\r\n            this.botones.active=false;\r\n            this.subSprite.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n            this.MeAlcanza();\r\n        }\r\n        else\r\n        {\r\n            console.log(\"seleccion\");\r\n            this.coche.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n            this.node.getComponent(Button).pressedSprite=this.colorFinal;\r\n            this.node.getComponent(Button).normalSprite=this.colorFinal;\r\n            //this.ma.getComponent(SeleccionColor).Colores(this.colors);\r\n            //Selecciona este color\r\n            this.managerG.colorID=this.miColorID;\r\n            this.managerG.modeloID=this.miModeloID;\r\n            this.managerG.SaveCoche();\r\n        }\r\n    }\r\n\r\n    MeAlcanza()\r\n    {\r\n        /*if(!this.tarjeta)\r\n        {\r\n            if(this.costo<=this.managerG.contadorMonedas)\r\n                {\r\n                    this.botonCompra.interactable=true;\r\n                }\r\n                else\r\n                {\r\n                    this.botonCompra.interactable=false;\r\n                    this.botonCompra.onDisable();\r\n                }     \r\n        }\r\n        else*/ if(this.tarjeta)\r\n            {\r\n                if(this.costo<=this.managerG.contadorTarjetas)\r\n                    {\r\n                        this.botonCompra.interactable=true;\r\n                        console.log(this.costo + \" \" + this.managerG.contadorTarjetas);\r\n                    }\r\n                    else\r\n                    {\r\n                        this.botonCompra.interactable=false;\r\n                        this.botonCompra.onDisable();\r\n                        console.log(\"No Alcanza\");\r\n                    }     \r\n            }\r\n        \r\n    }\r\n\r\n    Compra(valor:number)\r\n    {\r\n        if(!this.tarjeta)\r\n            this.managerG.ActualizaCompras(valor,\"moneda\");\r\n        else if(this.tarjeta)\r\n            this.managerG.ActualizaCompras(valor,\"tarjeta\");\r\n        this.costoString.color=this.colorTexto;\r\n        this.managerG.Save();\r\n        this.Comprado();\r\n        //this.candadoIcon.active=false;\r\n\r\n        //this.managerG.modeloID=this.miModeloID;\r\n        //this.managerG.colorID=this.miColorID;\r\n        this.managerG.SaveCoche();\r\n        this.managerG.LoadData();\r\n        \r\n    }\r\n\r\n    Comprado()\r\n    {\r\n        \r\n        this.node.getComponent(Sprite).spriteFrame=this.colorFinal;\r\n        console.log(this.colorModelo.name);\r\n        this.coche.getComponent(Sprite).spriteFrame=this.colorModelo;\r\n        this.node.getComponent(Button).normalSprite=this.colorFinal;\r\n        this.node.getComponent(Button).pressedSprite=this.colorFinal;\r\n        this.subMenu.active=false;\r\n        this.botones.active=true;\r\n        this.botonCompra.node.active=false;\r\n        this.costoString.color=this.colorTextoNormal;\r\n        this.managerG.colorID=this.miColorID;\r\n        this.managerG.modeloID=this.miModeloID;\r\n        //this.ma.getComponent(SeleccionColor).Colores(this.colors);\r\n\r\n        this.managerG.CocheDesbloqueado(1,this.nombre);\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, find, CCBoolean, CCFloat, Button, Label, SpriteFrame, Sprite, CCString, CCInteger } from 'cc';\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\nimport { SeleccionColor } from './SeleccionColor';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CompraObjetos')\r\nexport class CompraObjetos extends Component \r\n{\r\n    managerG:ManagerGeneral;\r\n    @property (Node) ma:Node=null;\r\n    //@property(CCBoolean) moneda:Boolean;\r\n    @property(CCFloat) costo:number;\r\n    @property(Label) miCosto:Label=null;\r\n\r\n    @property(Node) colores:Node=null;\r\n    @property(SpriteFrame) azul:SpriteFrame=null;\r\n    @property(SpriteFrame) modelo:SpriteFrame=null;\r\n    @property(CCFloat) desMOD:number=0;\r\n\r\n    @property(CCString) nombre:string=\"\";\r\n    @property(CCFloat) modeloID:number=0;\r\n    \r\n\r\n\r\n\r\n    protected onLoad(): void \r\n    {\r\n        this.ma=find(\"Canvas/ManagerGeneral\");\r\n        this.managerG=this.ma.getComponent(ManagerGeneral);\r\n        //this,this.managerG.LoadData();\r\n        this.desMOD=this.managerG.CargaCocheDesbloqueado(this.nombre,this.desMOD);\r\n\r\n        this.miCosto.string=this.costo.toString();\r\n        this.MeAlcanza();\r\n        \r\n    }\r\n\r\n    start() \r\n    {\r\n        \r\n        if(this.desMOD==1)\r\n            {\r\n                console.log(\"modelo desbloqueado\");\r\n                this.node.parent.children[1].getComponent(Sprite).spriteFrame=this.modelo;\r\n                this.colores.active=true;\r\n                \r\n                this.ma.getComponent(SeleccionColor).Colores(\"azul\");\r\n                this.colores.children[0].getComponent(Sprite).spriteFrame=this.azul;\r\n                this.colores.children[0].getComponent(Button).normalSprite=this.azul;\r\n                //this.ma.getComponent(SeleccionColor).MeSeleccionaron(this.modeloID);\r\n                this.node.active=false;\r\n        \r\n            }\r\n            \r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    MeAlcanza()\r\n    {\r\n        if(this.costo<=this.managerG.contadorTarjetas)\r\n        {\r\n            this.node.getComponent(Button).interactable=true;\r\n        }\r\n        else\r\n        {\r\n            this.node.getComponent(Button).interactable=false;\r\n            this.node.getComponent(Button).onDisable();\r\n        }\r\n    }\r\n\r\n    Compra()\r\n    {\r\n        this.managerG.ActualizaCompras(this.costo,\"tarjeta\");\r\n                /*this.managerG.control=this.control;\r\n                this.managerG.iman=this.iman;*/\r\n\r\n                this.ma.getComponent(SeleccionColor).Colores(\"azul\");\r\n                \r\n                this.colores.active=true;\r\n                this.colores.children[0].getComponent(Sprite).spriteFrame=this.azul;\r\n                this.colores.children[0].getComponent(Button).normalSprite=this.azul;\r\n\r\n                this.managerG.colorID=0;\r\n                this.node.parent.children[1].getComponent(Sprite).spriteFrame=this.modelo;\r\n                this.managerG.modeloID=this.modeloID;\r\n                this.managerG.CocheDesbloqueado(1,this.nombre);\r\n        this.managerG.Save();\r\n        \r\n\r\n        this.node.active=false;\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, CCBoolean, Component, find, Node, Vec3, math, Camera } from 'cc';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FollowPlayer')\r\nexport class FollowPlayer extends Component {\r\n\r\n    @property(Node)\r\n    public player : Node;\r\n\r\n    @property(Node)\r\n    coche : Node;\r\n    @property(Node)\r\n    public SpawnP : Node; \r\n    @property(CCBoolean)\r\n    public derecha = false;\r\n    @property(CCBoolean)\r\n    private aleja : boolean = false;\r\n    \r\n\r\n    onLoad() {\r\n        this.scheduleOnce(function(){\r\n            this.aleja = true;\r\n        },3.5)\r\n        this.SpawnP = find(\"ManagerMapa\");\r\n       /* for(let i = 0 ; i< this.player.children.length; i++)\r\n            {\r\n                 if(this.player.children[i].active)\r\n                    {\r\n                        this.coche = this.player.children[i];\r\n                    }\r\n            }*/\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n    mueveCamara(deltaTime: number, target : Vec3){\r\n        let currentPosition : Vec3 = this.node.position.clone();\r\n        Vec3.lerp(currentPosition, this.node.position, target , .5 * deltaTime ); \r\n        this.node.setPosition( currentPosition);\r\n    }\r\n     private zoomOut(deltaTime : number){\r\n        this.node.getComponent(Camera).orthoHeight = math.lerp(this.node.getComponent(Camera).orthoHeight, 25, 0.5 * deltaTime);\r\n    }\r\n    update(deltaTime: number) {\r\n        if(this.derecha){\r\n           const targetD = new Vec3(this.coche.position.x-23,this.coche.position.y +20, this.coche.position.z+27)\r\n           this.mueveCamara(deltaTime,targetD)\r\n        }\r\n        else{\r\n            const targetI = new Vec3(this.coche.position.x-25,this.coche.position.y +20, this.coche.position.z+20)\r\n            this.mueveCamara(deltaTime,targetI);\r\n        }\r\n        if(this.aleja){\r\n            this.zoomOut(deltaTime);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, CCInteger, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('info')\r\nexport class info extends Component {\r\n    @property(CCInteger)\r\n    public nombre : number = 0;\r\n    \r\n}\r\n\r\n\r\n","import { _decorator, Component, Node,sys, director, SceneAsset } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Instrucciones')\r\nexport class Instrucciones extends Component {\r\n\r\n    @property(Node)\r\n    public PC : Node = null;\r\n    @property(Node)\r\n    public mobile : Node = null;\r\n    @property([Node])\r\n    public lista: Node[] =[];\r\n    @property([Node])\r\n    public listaFinal: Node[] =[];\r\n    @property([Node])\r\n    public botones: Node[]=[];\r\n    public index: number = 0;\r\n \r\n \r\n    onLoad() {\r\n        // Verifica si el juego se est ejecutando en un dispositivo mvil\r\n        if (sys.isMobile) {\r\n \r\n            \r\n           this.mobile.active=true;\r\n           this.listaFinal[0]=this.mobile;\r\n        } else {\r\n            // Cdigo para otras plataformas (por ejemplo, navegadores)\r\n            this.PC.active=true;\r\n           //this.mobile.active=false;\r\n \r\n           this.listaFinal[0]=this.PC;\r\n           \r\n        }\r\n \r\n        this.listaFinal[1]=this.lista[0];\r\n        \r\n    }\r\n \r\n   \r\n \r\n \r\n    start() {\r\n \r\n        this.botones[1].active=false;\r\n \r\n    }\r\n    update (){\r\n \r\n        if(this.index==0)\r\n        {\r\n            this.botones[1].active=false;\r\n        }else\r\n        {\r\n            this.botones[1].active=true;\r\n        }\r\n \r\n        if(this.index==this.listaFinal.length-1)\r\n        {\r\n            this.botones[0].active=false;\r\n        }\r\n        else\r\n        {\r\n            this.botones[0].active=true;\r\n        }\r\n        \r\n    }\r\n \r\n    next()\r\n    {\r\n        if(this.index<this.listaFinal.length-1)\r\n        {\r\n            this.index++;\r\n \r\n            this.listaFinal[this.index].active=true;\r\n            this.listaFinal[this.index-1].active=false;\r\n           \r\n           \r\n        }\r\n       \r\n    }\r\n \r\n    back()\r\n    {\r\n        if(this.index>0)\r\n        {\r\n            this.index--;\r\n            this.listaFinal[this.index].active=true;\r\n            this.listaFinal[this.index+1].active=false;\r\n           \r\n        }\r\n \r\n    }\r\n \r\n}\r\n\r\n\r\n","import { _decorator, CCBoolean, CCFloat, Component, find, Label, Node, SpriteFrame, sys, Sprite, MeshRenderer, Mesh, Color, Material } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { ManagerGeneral } from './ManagerGeneral';\r\n\r\n@ccclass('Manager')\r\nexport class Manager extends Component \r\n{\r\n    @property(Node) player:Node=null;\r\n    @property([Mesh]) modelos:Mesh[]=[];\r\n\r\n    \r\n\r\n    @property([Material]) materiales:Material[]=[];\r\n    \r\n    \r\n\r\n    @property(CCFloat) modeloCoche:number=0;\r\n    @property(CCFloat) miColor:number=0;\r\n\r\n    @property(ManagerGeneral)managerG:ManagerGeneral=null;\r\n\r\n    a:Node=null;\r\n\r\n    \r\n    /*\r\n    @property (Color) cAzul = new Color(110, 135, 231, 255);\r\n    @property (Color) cAmarillo = new Color(226, 231, 110, 255);\r\n    @property (Color) cVerde = new Color(110, 231, 110, 255);\r\n    @property (Color) cRojo = new Color(231, 110, 110, 255);\r\n    @property (Color) cNaranja = new Color(231, 187, 110, 255);*/\r\n\r\n    \r\n    \r\n\r\n    protected onLoad(): void \r\n    {\r\n        //this.player=find(\"Player\");\r\n        \r\n        this.a=find(\"Canvas/ManagerGeneral\");\r\n        this.managerG=this.a.getComponent(ManagerGeneral);\r\n        //this.managerG.LoadData();\r\n        \r\n        //this.managerG.CargaCoche();\r\n\r\n        //this.modeloCoche=this.managerG.modeloID;\r\n        //this.miColor=this.managerG.colorID;\r\n        this.modeloCoche=0;\r\n        this.miColor=0;\r\n        console.log(this.miColor);\r\n        \r\n\r\n        this.MiCoche();\r\n        \r\n        \r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) \r\n    {\r\n        \r\n    }\r\n\r\n    MiCoche()\r\n    {\r\n        console.log(\"this.miColor\");\r\n        switch(this.modeloCoche)\r\n        {\r\n            case 0:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[0];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n                //this.ColorCoche(this.player.getComponent(MeshRenderer));\r\n                \r\n                break;\r\n            case 1:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[1];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n               \r\n                break;\r\n            case 2:\r\n                this.player.getComponent(MeshRenderer).mesh=this.modelos[2];\r\n                this.player.getComponent(MeshRenderer).setSharedMaterial(this.materiales[this.miColor],0);\r\n               \r\n                break;\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, CCFloat, sys, CCString, Label, find, CCInteger } from 'cc';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ManagerGeneral')\r\nexport class ManagerGeneral extends Component {\r\n\r\n    @property (CCFloat) public score: number=0;\r\n    @property(CCInteger) public contadorMonedas:number=0;\r\n    @property(CCInteger) public contadorTarjetas:number=0;\r\n    @property(CCString)\r\n    public contadortarjetas : string = \"\";\r\n    @property(CCString)\r\n    public contadormonedas : string = \"\";\r\n    @property(Label) monedas:Label=null;\r\n    @property(Label) tarjetas:Label=null;\r\n    @property(CCFloat) public colorID:number=0;\r\n    @property(CCFloat) public modeloID:number=0;\r\n    \r\n    /*\r\n    @property([CCFloat]) // Especifica que es un array de nmeros flotantes\r\n    miCoche: number[][] = [[0, 0]];*/\r\n\r\n    protected onLoad(): void {\r\n        //sys.localStorage.clear();//Reset\r\n        \r\n        this.LoadData();\r\n        //this.CargaCoche();\r\n       \r\n        \r\n        \r\n    }\r\n\r\n    start() {\r\n\r\n        \r\n    }\r\n\r\n    update(dt) \r\n    {\r\n        \r\n        \r\n    }\r\n\r\n    \r\n    \r\n    Save()\r\n    {\r\n        //console.log(\"Save\");\r\n        sys.localStorage.setItem('score',this.score.toString());\r\n        sys.localStorage.setItem('monedas', this.contadorMonedas.toString());\r\n        sys.localStorage.setItem('tarjetas', this.contadorTarjetas.toString());\r\n\r\n        //////////////////////////POWER UPS/////////////////////////////////////\r\n        //sys.localStorage.setItem('iman', this.iman.toString());\r\n        //sys.localStorage.setItem('control', this.control.toString());\r\n    }\r\n\r\n    LoadData()\r\n    {\r\n        this.contadormonedas=sys.localStorage.getItem('monedas');\r\n        this.contadortarjetas=sys.localStorage.getItem('tarjetas');\r\n        let imanP=sys.localStorage.getItem('iman');\r\n        let controlP=sys.localStorage.getItem('control');\r\n\r\n        /*\r\n        if(imanP)\r\n            {\r\n                this.iman=parseInt(imanP);\r\n            }\r\n        if(controlP)\r\n            {\r\n                this.control=parseInt(controlP);\r\n            }\r\n        */\r\n       /*\r\n        if(this.monedasString)\r\n            {\r\n                this.contadorMonedas=parseInt(this.monedasString);\r\n                \r\n            }\r\n        */\r\n        if(this.contadortarjetas)\r\n            {\r\n                \r\n                this.contadorTarjetas=parseInt(this.contadortarjetas);\r\n                if(this.contadorTarjetas==null)\r\n                {\r\n                    this.contadorTarjetas=0;\r\n                }\r\n            }\r\n    }\r\n\r\n    ActualizaCompras(valor:number, tipo: string)\r\n    {\r\n        switch(tipo)\r\n        {\r\n            case 'tarjeta':\r\n                this.contadorTarjetas-=valor;\r\n                break;\r\n            case 'moneda':\r\n                //this.contadorMonedas-=valor;\r\n                break;\r\n        }\r\n    }\r\n\r\n    CargaCoche()\r\n    {\r\n        /*var cocheString = sys.localStorage.getItem('coche');\r\n        if (cocheString)\r\n        {\r\n            var valores = cocheString.split(',');\r\n            this.colorID=parseInt(valores[0]);\r\n            this.modeloID=parseInt(valores[1]);\r\n            //this.miCoche=[[this.modeloID,this.colorID]];\r\n            console.log(\"cargandoCoche\");\r\n\r\n        }*/\r\n\r\n        var colorIDString=sys.localStorage.getItem('color');\r\n        var modeloIDString=sys.localStorage.getItem('modelo');\r\n\r\n        if(colorIDString)\r\n            {\r\n                this.colorID=parseInt(colorIDString);\r\n                \r\n            }\r\n        if(modeloIDString)\r\n            {\r\n                this.modeloID=parseInt(modeloIDString);\r\n\r\n            }\r\n\r\n        \r\n        \r\n        //console.log(\"cargaCoche\");\r\n        \r\n    }\r\n\r\n    SaveCoche()\r\n    {\r\n        \r\n        if (this.colorID !== undefined) {\r\n            sys.localStorage.setItem('color', this.colorID.toString());\r\n        } else {\r\n            console.warn(\"colorID est indefinido y no se pudo guardar.\");\r\n        }\r\n    \r\n        if (this.modeloID !== undefined) {\r\n            sys.localStorage.setItem('modelo', this.modeloID.toString());\r\n        } else {\r\n            console.warn(\"modeloID est indefinido y no se pudo guardar.\");\r\n        }\r\n    \r\n        console.log(\"guardaCoche\");\r\n        \r\n    }\r\n\r\n    CocheDesbloqueado(comprado: number, nombre: string)\r\n    {\r\n        sys.localStorage.setItem(nombre, comprado.toString());\r\n        //console.log(\"guarda meCompraron \"+ nombre);\r\n    }\r\n\r\n    CargaCocheDesbloqueado(nombre:string, compra: number)\r\n    {\r\n        var meCompraron=sys.localStorage.getItem(nombre);\r\n\r\n        if(meCompraron)\r\n            {\r\n                compra=parseInt(meCompraron);\r\n                console.log(\"meCompraron \"+ nombre);\r\n                \r\n            }\r\n\r\n            return compra;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Camera, Component, Node, math, PhysicsSystem, geometry,Quat, Vec2, Vec3, EventTouch, input, Input, quat, Collider } from 'cc';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Raycast')\r\nexport class Raycast extends Component {\r\n\r\n    @property(Camera)\r\n    mainCamera : Camera = null;\r\n    @property(Vec3)\r\n    rotationAngle: Vec3 = new Vec3(0, 45, 0)\r\n    private rotateY : number;\r\n    private index : number = -1;\r\n    protected onLoad(): void {\r\n        input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n    }\r\n\r\n    start() {\r\n        \r\n\r\n    }\r\n    onTouchStart(event:EventTouch){\r\n        PhysicsSystem.instance.resetAccumulator();\r\n\r\n        const touch = event.getLocation();\r\n        const ray = new geometry.Ray();\r\n         // Generar el rayo desde la cmara y la posicin del toque\r\n         this.mainCamera?.screenPointToRay(touch.x, touch.y, ray);\r\n\r\n         // Usar el sistema de fsica para verificar colisiones\r\n         if (PhysicsSystem.instance.raycast(ray)) {\r\n             const results = PhysicsSystem.instance.raycastResults;\r\n             for (let i = 0; i < results.length; i++) {\r\n                 const hit = results[i];\r\n                 const clickedNode: Node= hit.collider.node;\r\n                 //console.log(clickedNode.getComponent(Collider).getGroup().toString() + \"grupo de lo que tocaste\")\r\n                 if(clickedNode.getComponent(Collider).getGroup()==1 && !clickedNode.getComponent(SelladoPieza).Sellado){\r\n                    //console.log(\"Es la pieza\" + clickedNode.name);\r\n                    this.rotateNode(clickedNode)\r\n                 }\r\n                \r\n                  /*  if(clickedNode.parent.getComponent(SelladoPieza).Sellado){\r\n                        \r\n                    }\r\n                    else{\r\n                        console.log(\"rota pieza\")\r\n                        //clickedNode.parent;\r\n     \r\n                     // Aqu puedes agregar lo que quieres hacer cuando el objeto es clickeado\r\n                     console.log(\"Objeto clickeado:\", clickedNode.name);\r\n                     \r\n                     //this.rotapieza(clickedNode);\r\n                     this.rotateNode(clickedNode.parent)\r\n                    }*/\r\n                    \r\n                 \r\n                 \r\n             }\r\n         }\r\n\r\n    }\r\n    rotapieza(RotaPieza:Node){\r\n        const node = RotaPieza.parent;\r\n        this.rotateY += 90;\r\n        this.rotateY = Math.floor(this.rotateY);\r\n        if(this.rotateY >= 360){\r\n            this.rotateY = 0;\r\n        }    \r\n       \r\n        node.setRotationFromEuler(new Vec3(0, this.rotateY,0));\r\n    }\r\n    rotateNode(node: Node) {\r\n        // Convierte el ngulo a una rotacin en cuaternin y aplcala\r\n       // if(node.name == \"ManagerMAp\")\r\n        const currentRotation = node.getRotation();\r\n        const additionalRotation = new Quat();\r\n        Quat.fromEuler(additionalRotation, this.rotationAngle.x, this.rotationAngle.y, this.rotationAngle.z);\r\n        const newRotation = new Quat();\r\n         math.Quat.multiply (newRotation, currentRotation, additionalRotation)\r\n\r\n        node.setRotation(newRotation);\r\n    }\r\n    onDestroy() {\r\n        input.off(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RemovePieza')\r\nexport class RemovePieza extends Component {\r\n    protected onLoad(): void {\r\n       \r\n    }\r\n    start() {\r\n\r\n    }\r\n    remove(){\r\n        this.scheduleOnce(function(){\r\n            this.node.destroy();\r\n        },15)\r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Collider2D, find, Vec3, CCInteger, CCString, CCBoolean } from 'cc';\r\nimport { SpawnPiso } from './SpawnPiso';\r\nimport {Coche} from \"./Coche\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('RotarPiezas')\r\nexport class RotarPiezas extends Component {\r\n    @property(Node)\r\n    public Spawn : Node = null; //asignar desde inspector\r\n    @property(Node)\r\n    public ultimaPieza : Node = null;\r\n    @property(CCBoolean)\r\n    public Muerto : boolean = false;\r\n    \r\n    private ultima : boolean = false;\r\n    @property(CCInteger)\r\n    public rotateY : number = 0;\r\n    @property(CCInteger)\r\n    public nombre : number = 0;\r\n    @property(CCInteger)\r\n    private tiempo : number = 0;\r\n    private index : number = 0;\r\n\r\n    protected onLoad(): void {\r\n        const node = find(\"coche\");\r\n        this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n       this.node.on(Node.EventType.TOUCH_START, this.ontouch, this)\r\n       this.node.on(Node.EventType.TOUCH_MOVE, this.ontouch, this)\r\n       this.node.on(Node.EventType.TOUCH_END, this.ontouchcancel, this)\r\n        this.node.on(Node.EventType.TOUCH_CANCEL, this.ontouchcancel,this)\r\n        \r\n    }\r\n    ontouch(event: Touch){\r\n       \r\n        this.index +=1;\r\n        if(this.ultimaPieza!=null){\r\n           // console.log(\"rota \" + this.ultimaPieza)\r\n           this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n           /* switch(this.index){\r\n                case 0: \r\n                \r\n                break;\r\n                case 1:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                break;\r\n                case 2:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                break;\r\n                case 3:  this.rotateY = this.node.rotation.y + 90;\r\n                this.rotateY = Math.floor(this.rotateY);\r\n                this.index= 0;\r\n                break;\r\n            }*/\r\n           \r\n           \r\n            \r\n            this.ultimaPieza.setRotationFromEuler(new Vec3(0, this.rotateY,0))\r\n        }\r\n    }\r\n    ontouchcancel(event: Touch){\r\n\r\n    }\r\n   \r\n    cambiaultima(){\r\n        const node = find(\"coche\");\r\n        this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        const numb = this.Spawn.getComponent(SpawnPiso).GameObjetc.length;\r\n        //console.log(\"el valor del arreglo es igual a \"+ numb.toString());\r\n        this.ultimaPieza = this.Spawn.getComponent(SpawnPiso).GameObjetc[numb-1];\r\n        this.rotateY = this.ultimaPieza.rotation.y;\r\n        this.ultima = false;\r\n       // console.log(\"Cambie algo\");\r\n    }\r\n    start() {\r\n        \r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        if (!this.ultima && !this.Muerto) {\r\n            this.ultima = true;\r\n            this.scheduleOnce(function () {\r\n                this.cambiaultima();\r\n \r\n            }, this.tiempo);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, SpriteFrame, find, Sprite,Button } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SeleccionColor')\r\nexport class SeleccionColor extends Component {\r\n\r\n    @property([SpriteFrame]) amarillo: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) azul: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) verde: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) rojo: SpriteFrame[]=[];\r\n    @property([SpriteFrame]) naranja: SpriteFrame[]=[];\r\n\r\n    @property([Node]) modelos: Node[]=[];\r\n\r\n\r\n    onLoad()\r\n    {\r\n        //this.modelos[0]= find(\"Canvas/Modelo01\");\r\n        //this.modelos[1]= find(\"Canvas/Modelo02\");\r\n        //this.modelos[2]= find(\"Canvas/Modelo03\");\r\n\r\n        this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n    }\r\n\r\n    start() \r\n    {\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n\r\n    Colores(color:string)\r\n    {\r\n        if(this.modelos[0].active)\r\n            {\r\n                this.Seleccion(color,0);\r\n            }\r\n\r\n        if(this.modelos[1].active)\r\n            {\r\n                this.Seleccion(color,1);\r\n            }\r\n\r\n        if(this.modelos[2].active)\r\n            {\r\n                this.Seleccion(color,2);\r\n            }\r\n    }\r\n\r\n    Seleccion(color:string, modelo: number)\r\n    {\r\n        //console.log(\"cambio de color\");\r\n        switch(color)\r\n        {\r\n            case 'amarillo':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[1];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'azul':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'verde':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[1];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'rojo':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[1];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[0];\r\n                break;\r\n            case 'naranja':\r\n                this.modelos[modelo].children[0].children[0].getComponent(Sprite).spriteFrame=this.amarillo[0];\r\n                if(this.modelos[modelo].children[0].children[1].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[1].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                if(this.modelos[modelo].children[0].children[2].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[2].getComponent(Sprite).spriteFrame=this.verde[0];\r\n                if(this.modelos[modelo].children[0].children[3].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[3].getComponent(Sprite).spriteFrame=this.rojo[0];\r\n                if(this.modelos[modelo].children[0].children[4].getComponent(Button).normalSprite.name!=\"bloqueado\")\r\n                    this.modelos[modelo].children[0].children[4].getComponent(Sprite).spriteFrame=this.naranja[1];\r\n                break;\r\n        }\r\n    }\r\n\r\n    /*\r\n    MeSeleccionaron(modelo:number)\r\n    {\r\n        switch(modelo)\r\n        {\r\n            case 0:\r\n                this.modelos[0].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',1);\r\n                this.Seleccion('azul',2);\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n\r\n            case 1:\r\n                this.modelos[1].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',0);\r\n                this.Seleccion('azul',2);\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n\r\n            case 2:\r\n                this.modelos[2].children[0].children[0].getComponent(Button).pressedSprite;\r\n                this.modelos[2].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[1];\r\n                this.Seleccion('azul',0);\r\n                this.Seleccion('azul',1);\r\n                this.modelos[0].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                this.modelos[1].children[0].children[0].getComponent(Sprite).spriteFrame=this.azul[0];\r\n                break;\r\n        }\r\n        \r\n    }*/\r\n}\r\n\r\n\r\n","import { _decorator, CCBoolean, CCInteger, Component, Node } from 'cc';\r\nimport { RotarPiezas } from './RotarPiezas';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SelladoPieza')\r\nexport class SelladoPieza extends Component {\r\n    @property(CCBoolean)\r\n    public Sellado : boolean = false;\r\n    @property(CCInteger)\r\n    public IndexPieza : number = 0;\r\n    @property(CCBoolean)\r\n    public yaPaso : boolean = false;\r\n    @property(CCBoolean)\r\n    public Derecha : boolean = false;\r\n\r\n    protected onLoad(): void {\r\n        this.Sellado= false;\r\n    }\r\n    start() {\r\n\r\n    }\r\n\r\n    SellarPiezas(){\r\n        this.Sellado = true;\r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Prefab, randomRangeInt, instantiate, Vec3, CCBoolean, CCInteger, find, CCFloat, Game, ParticleSystem } from 'cc';\r\nimport { Coche } from './Coche';\r\nimport { SelladoPieza } from './SelladoPieza';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SpawnPiso')\r\nexport class SpawnPiso extends Component {\r\n    @property([Prefab])\r\n    public prefab: Prefab[] = []; // Prefab para representar los Pisos del mapa\r\n    private creando: boolean = false;\r\n    private distanciax : number = 0;\r\n    @property(Node)\r\n    public GameObjetc:Node[] = [];\r\n    private distanciaz : number = 0;\r\n    @property(CCBoolean)\r\n    public derecha : boolean = false;\r\n    @property(CCBoolean)\r\n    public izquierda : boolean = false;\r\n    @property(CCInteger)\r\n    public valorMax : number = 3;\r\n    private PowerUp : boolean = false;\r\n    @property(CCInteger)\r\n    private LimiteH : number = 2;\r\n    @property(CCInteger)\r\n    private LimiteV : number = 2;\r\n    @property(CCInteger)\r\n    private horizontal : number = 0;\r\n    @property(CCInteger)\r\n    private vertical : number = 0;\r\n    @property(CCInteger)\r\n    private rotaty : number = 0 ;\r\n    @property(CCFloat)\r\n    public tiempo : number = 0;\r\n    @property(CCBoolean)\r\n    public Muerto : boolean = false;\r\n    @property(CCInteger)\r\n    public random : number = 0;\r\n    @property(CCInteger)\r\n    private index : number = 0;\r\n    private indexPiezasOrdenar = 0;\r\n    private coche : Node = null;\r\n    \r\n    \r\n    protected onLoad(): void {\r\n        this.vertical = 3;\r\n        this.coche = find(\"COCHEa\");\r\n        //this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        \r\n    }\r\n    start() {\r\n\r\n    }\r\n    Power( i : number){\r\n        this.PowerUp = true;\r\n        //this.valorMax = 1;\r\n        this.indexPiezasOrdenar = i\r\n    }\r\n    asignaindex( pieza: Node, i : number){\r\n        pieza.getComponent(SelladoPieza).IndexPieza = i;\r\n    }\r\n    crea() {\r\n       // const node = find(\"coche\");\r\n        //this.tiempo = node.getComponent(Coche).tiempoSpawn;\r\n        if(this.izquierda || this.derecha){\r\n\r\n            if(this.derecha ){\r\n                this.distanciaz -=8;\r\n                const camino : number = randomRangeInt(1,3);\r\n                switch(camino){\r\n                    case 1:\r\n                        //seguir el camino en horizontal\r\n                        this.horizontal+=1;\r\n                        if(this.horizontal > this.LimiteH){\r\n                            const node2 = instantiate(this.prefab[4]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                           \r\n                            this.creando = false;\r\n                           this.derecha=false;\r\n                           this.GameObjetc.push(node2);\r\n                          \r\n                           break;\r\n                        }\r\n                        \r\n                        const node1 = instantiate(this.prefab[3]);\r\n                           node1.parent = this.node;\r\n                           node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node1);\r\n                          \r\n                            this.creando = false;\r\n                           this.GameObjetc.push(node1);\r\n                        break;\r\n                    case 2:\r\n                        //vuelta izq\r\n                        \r\n                        const node2 = instantiate(this.prefab[4]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                           \r\n                            this.creando = false;\r\n                           this.derecha=false;\r\n                           this.GameObjetc.push(node2);\r\n                           \r\n                           \r\n                        break;\r\n                       \r\n                }\r\n            }\r\n            else{\r\n                this,this.distanciaz +=8;\r\n                const camino : number = randomRangeInt(1,3);\r\n                switch(camino){\r\n                    case 1:\r\n                        //seguir el camino horizontal a la izquierda\r\n                        this.horizontal+=1;\r\n                        if(this.horizontal > this.LimiteH){\r\n                            const node2 = instantiate(this.prefab[5]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                           this.izquierda=false;\r\n                           this.GameObjetc.push(node2)\r\n                           break;\r\n                        }\r\n                        const node1 = instantiate(this.prefab[3]);\r\n                           node1.parent = this.node;\r\n                           node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node1);\r\n                           node1.getComponent(SelladoPieza).Derecha = true;\r\n                            this.creando = false;\r\n                           this.GameObjetc.push(node1);\r\n                        break;\r\n                    case 2:\r\n                        //vuelta izq\r\n                        const node2 = instantiate(this.prefab[5]);\r\n                           node2.parent = this.node;\r\n                           node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                           this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                           this.izquierda=false;\r\n                           this.GameObjetc.push(node2);\r\n                           \r\n                        break;\r\n                       \r\n                }\r\n            }\r\n        }\r\n        \r\n        \r\n        else{\r\n            this.horizontal =0;\r\n            \r\n            this.distanciax -=8;\r\n            const Inst:number = randomRangeInt(1,this.valorMax);         \r\n            switch(Inst){\r\n                case 1:\r\n                   //vertcial\r\n                   this.vertical+=1;\r\n                   if(this.vertical >= this.LimiteV){\r\n                        let opcion = randomRangeInt(1,3)\r\n                        switch(opcion){\r\n                            case 1:\r\n                            const node2 = instantiate(this.prefab[1]);\r\n                            node2.parent = this.node;\r\n                            node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                            const randomd : number = randomRangeInt(2,4);\r\n                       \r\n                            this.RotaRandomPieza(node2);\r\n                            \r\n                            this.creando = false;\r\n                            this.derecha = true;\r\n                            this.GameObjetc.push(node2);\r\n                            this.vertical=0;\r\n                            break;\r\n                    case 2:\r\n                        const node3 = instantiate(this.prefab[2]);\r\n                       node3.parent = this.node;\r\n                       node3.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      this.RotaRandomPieza(node3);\r\n                       \r\n                       this.creando = false;\r\n                       this.izquierda=true;\r\n                       this.GameObjetc.push(node3);\r\n                       this.vertical=0;\r\n                       break;\r\n\r\n                    }\r\n\r\n                   }\r\n                   else{\r\n                    const node1 = instantiate(this.prefab[0]);\r\n                    node1.parent = this.node;\r\n                    node1.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                    this.RotaRandomPieza(node1);\r\n                    this.creando = false;\r\n                    this.GameObjetc.push(node1);\r\n                   }\r\n                       \r\n                   \r\n                    break;\r\n                    case 2:\r\n                       //Derecha\r\n                       this.vertical=0;\r\n                       const node2 = instantiate(this.prefab[1]);\r\n                       node2.parent = this.node;\r\n                       node2.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      this.RotaRandomPieza(node2);\r\n                       \r\n                       this.creando = false;\r\n                       this.derecha = true;\r\n                       this.GameObjetc.push(node2);\r\n                       break;\r\n                   case 3:\r\n                       //IZQ\r\n                       this.vertical=0;\r\n                       const node3 = instantiate(this.prefab[2]);\r\n                       node3.parent = this.node;\r\n                       node3.setPosition(new Vec3(this.distanciax, 0, this.distanciaz));\r\n                      \r\n                       this.RotaRandomPieza(node3);\r\n                       this.creando = false;\r\n                       this.izquierda=true;\r\n                       this.GameObjetc.push(node3);\r\n                       break;\r\n            }\r\n        }\r\n        \r\n        \r\n    }\r\n    ordenaPiezas(ind: number){\r\n        console.log(\"Ordena desde la pieza \" + ind.toString());\r\n        let max : number = ind +4;\r\n        this.coche.getComponent(Coche).Score += 4;\r\n        this.coche.getComponent(Coche).ScoreText.string= this.coche.getComponent(Coche).Score.toString();\r\n        const inicio : number = ind+1;\r\n        if(max> this.GameObjetc.length){\r\n            max = this.GameObjetc.length;\r\n        }\r\n        for(let i = inicio; i < max; i++ ){\r\n            console.log(\"Estoy entrando aqui??\" + i.toString());\r\n            this.GameObjetc[i].setRotationFromEuler(new Vec3(0,0,0));\r\n            this.GameObjetc[i].getChildByName(\"Particulas\").getComponent(ParticleSystem).play();\r\n            this.GameObjetc[i].getComponent(SelladoPieza).Sellado=true;\r\n            this.GameObjetc[i].getComponent(SelladoPieza).yaPaso = true;\r\n        }\r\n        \r\n    }\r\n    RotaRandomPieza(Pieza : Node){\r\n        \r\n        this.asignaindex(Pieza, this.index);\r\n        this.index +=1;\r\n        this.random= randomRangeInt(2,4);\r\n       // this.random = 1;\r\n        switch(this.random){\r\n            case 1:\r\n                this.rotaty = 0;\r\n            break;\r\n            case 2: \r\n                this.rotaty = 90;\r\n            break;\r\n            case 3:\r\n                this.rotaty=180;\r\n            break;\r\n\r\n        }\r\n        Pieza.setRotationFromEuler(new Vec3(0,this.rotaty,0))\r\n    }\r\n    update(deltaTime: number) {\r\n        if (!this.creando && !this.Muerto ) {\r\n            this.creando = true;\r\n            this.scheduleOnce(function () {\r\n                this.crea();\r\n \r\n            }, this.tiempo);\r\n        }\r\n        if(this.PowerUp){\r\n            this.PowerUp = false;\r\n            this.ordenaPiezas(this.indexPiezasOrdenar);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}